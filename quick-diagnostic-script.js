/*
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üó∫Ô∏è –ù–ê–í–ò–ì–ê–¶–ò–û–ù–ù–ê–Ø –ö–ê–†–¢–ê –§–ê–ô–õ–ê quick-diagnostic-script.js (112 —Å—Ç—Ä–æ–∫)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìã –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–ê:                                                                       ‚îÇ
‚îÇ                                                                                           ‚îÇ
‚îÇ üîß –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò (—Å—Ç—Ä–æ–∫–∏ 1-20):                                              ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ (1-5)                                               ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (8-12)                                              ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ –í—ã–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã (13-20)                                                    ‚îÇ
‚îÇ                                                                                           ‚îÇ
‚îÇ üìä –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –õ–û–ì–ì–ï–†–ê (—Å—Ç—Ä–æ–∫–∏ 21-60):                                                   ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è logger (21-30)                                                ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –í—ã–≤–æ–¥ session ID –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (31-40)                                            ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ê–Ω–∞–ª–∏–∑ –º–∞—Å—Å–∏–≤–∞ –ª–æ–≥–æ–≤ (41-50)                                                     ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (51-60)                                         ‚îÇ
‚îÇ                                                                                           ‚îÇ
‚îÇ üéõÔ∏è –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê DASHBOARD (—Å—Ç—Ä–æ–∫–∏ 61-90):                                                ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI (61-70)                                                    ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π (71-80)                                                     ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (81-90)                                   ‚îÇ
‚îÇ                                                                                           ‚îÇ
‚îÇ ‚ö° –ò–¢–û–ì–û–í–´–ï –¢–ï–°–¢–´ (—Å—Ç—Ä–æ–∫–∏ 91-112):                                                        ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ (91-100)                                               ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ integration —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π (101-110)                               ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (111-112)                                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
*/

// üîß –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê ENHANCED ERROR LOGGING
// –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å Dashboard

console.log('üîß –ë–´–°–¢–†–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê ENHANCED ERROR LOGGING');
console.log('==============================================');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const hasLogger = !!window.enhancedLogger;
const hasDashboard = !!window.errorDashboard;

console.log(`üìä Logger: ${hasLogger ? '‚úÖ –ù–∞–π–¥–µ–Ω' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω'}`);
console.log(`üéõÔ∏è Dashboard: ${hasDashboard ? '‚úÖ –ù–∞–π–¥–µ–Ω' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω'}`);

if (hasLogger) {
  const logger = window.enhancedLogger;

  console.log('\nüìã –°–û–°–¢–û–Ø–ù–ò–ï –õ–û–ì–ì–ï–†–ê:');
  console.log(`   üìç Session ID: ${logger.sessionId}`);
  console.log(`   ‚ö° Is Active: ${logger.isActive}`);
  console.log(`   üìä Logs Array Length: ${logger.logs?.length || 0}`);

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  const stats = logger.getStats();
  console.log(`   üìà Stats Total: ${stats.total}`);

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Ç–æ–¥ getLogs()
  console.log('\nüîç –ü–†–û–í–ï–†–ö–ê –ú–ï–¢–û–î–ê getLogs():');

  // –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤
  const allLogs = logger.getLogs();
  console.log(`   üìã getLogs() –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤: ${allLogs.length} –ª–æ–≥–æ–≤`);

  // –° –ø—É—Å—Ç—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  const emptyFilter = logger.getLogs({});
  console.log(`   üìã getLogs({}) —Å –ø—É—Å—Ç—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏: ${emptyFilter.length} –ª–æ–≥–æ–≤`);

  // –° —Ñ–∏–ª—å—Ç—Ä–æ–º level: 'all'
  const allLevelFilter = logger.getLogs({ level: 'all' });
  console.log(`   üìã getLogs({level: 'all'}): ${allLevelFilter.length} –ª–æ–≥–æ–≤`);

  // –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –º–∞—Å—Å–∏–≤—É
  console.log(`   üìã –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø logger.logs: ${logger.logs?.length || 0} –ª–æ–≥–æ–≤`);

  // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –ª–æ–≥
  console.log('\nüß™ –°–û–ó–î–ê–ù–ò–ï –¢–ï–°–¢–û–í–û–ì–û –õ–û–ì–ê:');
  logger.logInfo('Quick Diagnostic Test', {
    source: 'quick_diagnostic',
    timestamp: Date.now(),
  });

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
  const afterTest = logger.getLogs();
  console.log(`   üìã –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–∞: ${afterTest.length} –ª–æ–≥–æ–≤`);
  console.log(`   üìä –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: ${logger.getStats().total}`);

  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
  if (afterTest.length > 0) {
    console.log('\nüìù –ü–û–°–õ–ï–î–ù–ò–ï –õ–û–ì–ò:');
    afterTest.slice(-3).forEach((log, index) => {
      console.log(`   ${index + 1}. [${log.level.toUpperCase()}] ${log.title}`);
    });
  }
} else {
  console.log('‚ùå –õ–æ–≥–≥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω! –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è...');
  if (window.EnhancedErrorLogger) {
    window.enhancedLogger = new window.EnhancedErrorLogger();
    console.log('‚úÖ –õ–æ–≥–≥–µ—Ä —Å–æ–∑–¥–∞–Ω –≤—Ä—É—á–Ω—É—é');
  }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º Dashboard
if (hasDashboard) {
  const dashboard = window.errorDashboard;

  console.log('\nüéõÔ∏è –°–û–°–¢–û–Ø–ù–ò–ï DASHBOARD:');
  console.log(`   üì° Connected to logger: ${!!dashboard.logger}`);
  console.log(`   ‚ö° Is Active: ${dashboard.isActive}`);

  if (dashboard.logger) {
    console.log('\nüîç –ü–†–û–í–ï–†–ö–ê –≠–ö–°–ü–û–†–¢–ê DASHBOARD:');

    // –°–∏–º—É–ª–∏—Ä—É–µ–º —ç–∫—Å–ø–æ—Ä—Ç
    const activeLogger = dashboard.logger;
    const allLogs = activeLogger.getLogs ? activeLogger.getLogs() : [];
    const directLogs = activeLogger.logs || [];
    const stats = activeLogger.getStats ? activeLogger.getStats() : {};

    console.log(`   üìä Stats total: ${stats.total}`);
    console.log(`   üìã getLogs() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ${allLogs.length} –ª–æ–≥–æ–≤`);
    console.log(`   üìã –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø: ${directLogs.length} –ª–æ–≥–æ–≤`);

    if (allLogs.length === 0 && stats.total > 0) {
      console.warn(
        '‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏, –Ω–æ getLogs() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤!'
      );

      // –ü–æ–ø—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤
      console.log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:');
      console.log(`   üìã getLogs(): ${activeLogger.getLogs().length}`);
      console.log(`   üìã getLogs({}): ${activeLogger.getLogs({}).length}`);
      console.log(
        `   üìã getLogs({level: 'all'}): ${activeLogger.getLogs({ level: 'all' }).length}`
      );
    }
  }
} else if (window.RealTimeErrorDashboard && hasLogger) {
  console.log('\nüéõÔ∏è –°–û–ó–î–ê–ù–ò–ï DASHBOARD:');
  window.errorDashboard = new window.RealTimeErrorDashboard();
  console.log('‚úÖ Dashboard —Å–æ–∑–¥–∞–Ω');
}

console.log('\n‚úÖ –ë–´–°–¢–†–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê');
console.log('üí° –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: window.errorDashboard?.exportReport()');
