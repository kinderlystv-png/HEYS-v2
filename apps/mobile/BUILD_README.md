ile —á–µ—Ä–µ–∑ EAS Build

## ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–∏ –≤ –º–æ–Ω–æ—Ä–µ–ø–µ:

- ‚úÖ `.easignore` - –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç –∫–æ—Ä–Ω—è –º–æ–Ω–æ—Ä–µ–ø—ã
- ‚úÖ `package.json` - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–µ (–±–µ–∑ `workspace:*`)
- ‚úÖ `eas.json` - –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è dev/preview/production
- ‚úÖ `app.json` - Android –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å package ID

## üì¶ –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–ª–∞—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd apps/mobile

# –í–æ–π—Ç–∏ –≤ Expo –∞–∫–∫–∞—É–Ω—Ç
eas login

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É preview APK
eas build --profile preview --platform android

# –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ (10-15 –º–∏–Ω—É—Ç):
# - –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ APK
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

```bash
cd apps/mobile
eas build --profile preview --platform android --local
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö Android SDK –∏ Gradle.

---

## üìã –ü—Ä–æ—Ñ–∏–ª–∏ —Å–±–æ—Ä–∫–∏

### `development`
- –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot reload
- Debug APK
- `NODE_ENV=development`

```bash
eas build --profile development --platform android
```

### `preview` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- Release APK –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
- `NODE_ENV=production`

```bash
eas build --profile preview --platform android
```

### `production`
- AAB (Android App Bundle) –¥–ª—è Google Play
- –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤–µ—Ä—Å–∏–π
- `NODE_ENV=production`

```bash
eas build --profile production --platform android
```

---

## üîç –ß—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç –º–æ–Ω–æ—Ä–µ–ø—ã (`.easignore`)

–ò—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ EAS —Å–µ—Ä–≤–µ—Ä:
- `../../packages/*` - –º–æ–Ω–æ—Ä–µ–ø–∞ packages
- `../../apps/web` - –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `../../node_modules` - –∫–æ—Ä–Ω–µ–≤—ã–µ node_modules
- –ö–æ–Ω—Ñ–∏–≥–∏, –±–∞—Ç–Ω–∏–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ó–∞—á–µ–º:** –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ –∞—Ä—Ö–∏–≤–∞, –∏–∑–±–µ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### 2. Standalone –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`package.json`)

- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã —è–≤–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
- –ù–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ `workspace:*` –ø–∞–∫–µ—Ç—ã
- EAS –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `npm install`

### 3. EAS –ø—Ä–æ—Ñ–∏–ª–∏ (`eas.json`)

```json
{
  "build": {
    "preview": {
      "distribution": "internal",
      "android": {
        "buildType": "apk",
        "gradleCommand": ":app:assembleRelease"
      },
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
```

**–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `distribution: "internal"` - APK –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `buildType: "apk"` - —Å–æ–∑–¥–∞–µ—Ç APK (–Ω–µ AAB)
- `gradleCommand` - —è–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–±–æ—Ä–∫–∏

### 4. Android –º–∞–Ω–∏—Ñ–µ—Å—Ç (`app.json`)

```json
{
  "android": {
    "package": "com.heys.mobile.dev",
    "versionCode": 1,
    "permissions": ["INTERNET", "ACCESS_NETWORK_STATE"]
  }
}
```

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "workspace:* not found"

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `package.json` –Ω–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ `workspace:*`. –í—Å–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è–≤–Ω—ã–º–∏.

### –û—à–∏–±–∫–∞: "Cannot resolve @heys/core"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–Ω–æ—Ä–µ–ø–∞-–ø–∞–∫–µ—Ç—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã.

### –°–±–æ—Ä–∫–∞ –∑–∞–≤–∏—Å–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ `--local` —Ñ–ª–∞–≥ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å EAS: https://status.expo.dev/

### –†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π

**–†–µ—à–µ–Ω–∏–µ:** `.easignore` —É–∂–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –≤ `apps/mobile/`.

---

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ APK –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

### –ß–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É:
1. EAS –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —Å—Å—ã–ª–∫—É –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –ß–µ—Ä–µ–∑ ADB:
```bash
adb install path/to/app.apk
```

---

## üîê –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

- `.easignore` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è EAS Build
- `eas.json` - –ø—Ä–æ—Ñ–∏–ª–∏ —Å–±–æ—Ä–∫–∏
- `app.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Expo/React Native
- `package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ù–ï —É–¥–∞–ª—è–π—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã** –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –¥–ª—è —Å–±–æ—Ä–∫–∏.

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [EAS Build –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.expo.dev/build/introduction/)
- [Monorepo setup](https://docs.expo.dev/build-reference/working-with-monorepos/)
- [Android build types](https://docs.expo.dev/build-reference/apk/)

---

–°–±–æ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
