// heys_iw_patterns.js — Insulin Wave regex patterns (string-based)
// Version: 1.0.0 | Date: 2026-01-16

(function (global) {
    'use strict';

    const IW = global.HEYS?.InsulinWave;
    const I = IW?.__internals;

    if (!I) {
        console.error('[IW patterns] Shim required');
        return;
    }

    if (!I._loaded?.shim) {
        console.error('[IW patterns] Shim must be loaded first');
        return;
    }

    I._configPatterns = {
        PROTEIN_BONUS_V2: {
            patterns: {
                animal: [
                    '/говядина/i', '/свинина/i', '/баранина/i', '/телятина/i', '/козлятина/i',
                    '/стейк/i', '/филе/i', '/вырезка/i', '/антрекот/i', '/ребро/i', '/карбонад/i',
                    '/фарш/i', '/котлет[аы]/i', '/шашлык/i', '/бефстроган/i',
                    '/beef/i', '/pork/i', '/lamb/i', '/meat/i', '/steak/i',
                    '/курица/i', '/курин/i', '/куриц/i', '/индейка/i', '/индюш/i', '/утка/i', '/гусь/i',
                    '/грудка/i', '/бедро/i', '/крыло/i', '/голень/i', '/окорочок/i',
                    '/chicken/i', '/turkey/i', '/duck/i', '/poultry/i',
                    '/рыба/i', '/лосось/i', '/сёмга/i', '/форель/i', '/тунец/i', '/скумбрия/i',
                    '/треска/i', '/минтай/i', '/камбала/i', '/окунь/i', '/судак/i', '/щука/i',
                    '/карп/i', '/сом/i', '/сельдь/i', '/селёдка/i', '/килька/i', '/шпроты/i',
                    '/креветки/i', '/крабы/i', '/мидии/i', '/кальмар/i', '/осьминог/i', '/устрицы/i',
                    '/fish/i', '/salmon/i', '/tuna/i', '/shrimp/i', '/seafood/i',
                    '/яйцо/i', '/яйца/i', '/яичн/i', '/омлет/i', '/глазунья/i', '/пашот/i',
                    '/egg/i', '/omelet/i',
                    '/творог/i', '/сыр/i', '/брынза/i', '/cheese/i', '/cottage/i',
                    '/казеин/i', '/casein/i',
                    '/печень/i', '/сердце/i', '/язык/i', '/почки/i', '/liver/i'
                ],
                whey: [
                    '/whey/i', '/сывороточн/i', '/изолят/i', '/isolate/i',
                    '/протеин.*коктейль/i', '/protein.*shake/i', '/protein.*powder/i',
                    '/\\bWPC\\b/i', '/\\bWPI\\b/i', '/\\bWPH\\b/i',
                    '/гейнер/i', '/gainer/i'
                ],
                plant: [
                    '/горох/i', '/нут/i', '/чечевица/i', '/фасоль/i', '/бобы/i', '/эдамаме/i',
                    '/pea/i', '/chickpea/i', '/lentil/i', '/bean/i', '/legume/i',
                    '/соя/i', '/соев/i', '/тофу/i', '/темпе/i', '/натто/i', '/мисо/i',
                    '/soy/i', '/tofu/i', '/tempeh/i', '/edamame/i',
                    '/киноа/i', '/quinoa/i', '/амарант/i', '/amaranth/i',
                    '/миндаль/i', '/арахис/i', '/фисташк/i', '/кешью/i', '/грецк.*орех/i',
                    '/семена.*чиа/i', '/семена.*конопл/i', '/семена.*подсолн/i', '/семена.*тыкв/i',
                    '/almond/i', '/peanut/i', '/cashew/i', '/chia/i', '/hemp/i',
                    '/гороховый.*протеин/i', '/соевый.*протеин/i', '/растительный.*протеин/i',
                    '/pea.*protein/i', '/soy.*protein/i', '/plant.*protein/i', '/vegan.*protein/i',
                    '/сейтан/i', '/seitan/i', '/глютен/i', '/gluten/i'
                ]
            }
        },
        LIQUID_FOOD: {
            patterns: [
                '/сок\\b/i', '/\\bсока\\b/i', '/\\bсоки\\b/i',
                '/смузи/i', '/коктейль/i', '/shake/i',
                '/молоко/i', '/кефир/i', '/ряженка/i', '/айран/i', '/тан\\b/i',
                '/йогурт.*питьевой/i', '/питьевой.*йогурт/i',
                '/какао/i', '/горячий шоколад/i',
                '/бульон/i', '/суп.*пюре/i', '/крем.*суп/i',
                '/кола/i', '/пепси/i', '/фанта/i', '/спрайт/i', '/лимонад/i', '/газировка/i',
                '/энергетик/i', '/energy/i',
                '/протеин.*коктейль/i', '/protein.*shake/i'
            ]
        },
        INSULINOGENIC_BONUS: {
            liquidDairy: {
                patterns: ['/молоко/i', '/кефир/i', '/ряженка/i', '/простокваша/i', '/айран/i']
            },
            softDairy: {
                patterns: ['/йогурт/i', '/сметана/i', '/сливки/i', '/творог/i', '/творожок/i']
            },
            hardDairy: {
                patterns: ['/сыр/i', '/cheese/i', '/пармезан/i', '/моцарелла/i', '/чеддер/i']
            },
            protein: {
                patterns: [
                    '/говядина/i', '/свинина/i', '/курица/i', '/индейка/i', '/рыба/i', '/лосось/i', '/тунец/i',
                    '/треска/i', '/креветки/i', '/мясо/i', '/стейк/i', '/филе/i', '/грудка/i', '/фарш/i'
                ]
            }
        },
        SPICY_FOOD: {
            patterns: [
                '/перец.*чили/i', '/чили/i', '/халапеньо/i', '/jalapeno/i',
                '/табаско/i', '/sriracha/i', '/шрирача/i',
                '/карри/i', '/curry/i', '/васаби/i', '/wasabi/i',
                '/горчица.*острая/i', '/хрен/i',
                '/острый.*соус/i', '/hot.*sauce/i',
                '/кимчи/i', '/kimchi/i', '/аджика/i',
                '/харисса/i', '/harissa/i'
            ]
        },
        ALCOHOL_BONUS: {
            patterns: [
                '/водка/i', '/виски/i', '/whisky/i', '/whiskey/i', '/коньяк/i', '/cognac/i',
                '/ром/i', '/rum/i', '/текила/i', '/tequila/i', '/джин/i', '/gin/i',
                '/вино/i', '/wine/i', '/шампанское/i', '/champagne/i', '/просекко/i',
                '/пиво/i', '/beer/i', '/эль/i', '/ale/i', '/лагер/i', '/lager/i',
                '/сидр/i', '/cider/i', '/ликёр/i', '/liqueur/i',
                '/мартини/i', '/вермут/i', '/vermouth/i',
                '/коктейль.*алкогол/i', '/алкогол.*коктейль/i'
            ],
            strong: ['/водка/i', '/виски/i', '/коньяк/i', '/ром/i', '/текила/i', '/джин/i'],
            medium: ['/вино/i', '/шампанское/i', '/просекко/i', '/мартини/i', '/вермут/i'],
            weak: ['/пиво/i', '/сидр/i', '/эль/i']
        },
        CAFFEINE_BONUS: {
            patterns: [
                '/кофе/i', '/coffee/i', '/эспрессо/i', '/espresso/i',
                '/капучино/i', '/cappuccino/i', '/латте/i', '/latte/i',
                '/американо/i', '/americano/i', '/мокко/i', '/mocha/i',
                '/чай.*чёрный/i', '/чёрный.*чай/i', '/black.*tea/i',
                '/чай.*зелёный/i', '/зелёный.*чай/i', '/green.*tea/i',
                '/матча/i', '/matcha/i', '/пуэр/i',
                '/энергетик/i', '/energy.*drink/i', '/red.*bull/i', '/monster/i',
                '/кола/i', '/cola/i', '/пепси/i', '/pepsi/i'
            ]
        },
        FOOD_FORM_BONUS: {
            liquidPatterns: ['/сок\\b/i', '/смузи/i', '/коктейль/i', '/напиток/i'],
            processedPatterns: ['/хлопья/i', '/мюсли.*готов/i', '/быстр.*каша/i', '/пюре.*пакет/i'],
            wholePatterns: ['/сырой/i', '/свежий/i', '/цельнозерн/i', '/орех/i', '/семена/i']
        },
        RESISTANT_STARCH_BONUS: {
            patterns: [
                '/холодн.*рис/i', '/рис.*холодн/i',
                '/холодн.*картофель/i', '/картофель.*холодн/i',
                '/окрошка/i', '/салат.*картофел/i', '/картофельный.*салат/i',
                '/суши/i', '/ролл/i'
            ]
        },
        FOOD_TEMPERATURE_BONUS: {
            hot: {
                patterns: ['/суп/i', '/борщ/i', '/горяч/i', '/каша/i', '/пюре(?!.*пакет)/i', '/рагу/i', '/жарк/i', '/варен/i', '/тушен/i', '/запечен/i', '/печен/i', '/жарен/i', '/гриль/i']
            },
            cold: {
                patterns: ['/холодн/i', '/мороженое/i', '/ice.*cream/i', '/смузи/i', '/салат/i', '/окрошка/i', '/гаспачо/i', '/охлажд/i']
            }
        }
    };

    I._loaded.patterns = true;
})(typeof window !== 'undefined' ? window : global);
