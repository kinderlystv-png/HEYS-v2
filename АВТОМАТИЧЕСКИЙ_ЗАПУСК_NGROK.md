# üöÄ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ Telegram Mini App

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `./start-tg-mini-debug.sh`

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –í–°–Å:

1. **API —Å–µ—Ä–≤–µ—Ä** (–ø–æ—Ä—Ç 4001) ‚Äî –µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω
2. **Mini-app dev server** (–ø–æ—Ä—Ç 3002)
3. **Ngrok** –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ ‚Äî –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ = –ø–æ–ª–Ω–∞—è development —Å—Ä–µ–¥–∞! üéâ**

---

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—à–∞–≥–æ–≤–æ:

```bash
./start-tg-mini-debug.sh
```

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞
```
üì° –ü—Ä–æ–≤–µ—Ä—è–µ–º API —Å–µ—Ä–≤–µ—Ä (port 4001)...
‚úÖ API —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω
```

*–ò–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω:*
```
‚ö†Ô∏è  API —Å–µ—Ä–≤–µ—Ä –ù–ï –∑–∞–ø—É—â–µ–Ω
–ó–∞–ø—É—Å–∫–∞–µ–º API —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ...
üìù PID –ø—Ä–æ—Ü–µ—Å—Å–∞: 8267
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ ngrok
```
üåê –ó–∞–ø—É—Å–∫–∞–µ–º ngrok –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ...
‚úÖ Ngrok –∑–∞–ø—É—â–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ/–æ–∫–Ω–µ
üåç –ü—É–±–ª–∏—á–Ω—ã–π URL: https://tressy-cotyledonoid-vergie.ngrok-free.dev
```

**–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞** —Å –∫–æ–º–∞–Ω–¥–æ–π:
```bash
ngrok http 3002 --domain=tressy-cotyledonoid-vergie.ngrok-free.dev
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ mini-app
```
üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º mini-app (port 3002)...

VITE v4.5.14  ready in 429 ms

‚ûú  Local:   http://localhost:3002/
‚ûú  Network: https://tressy-cotyledonoid-vergie.ngrok-free.dev/
```

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### 1. –ó–∞–ø—É—Å–∫ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞):
```bash
./start-tg-mini-debug.sh
```

### 2. –ß—Ç–æ —Ç—ã —É–≤–∏–¥–∏—à—å:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 (–æ—Å–Ω–æ–≤–Ω–æ–π):**
- API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- Mini-app dev server –∑–∞–ø—É—â–µ–Ω
- Vite HMR —Ä–∞–±–æ—Ç–∞–µ—Ç

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è):**
- Ngrok —Ç—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω
- –ü—É–±–ª–∏—á–Ω—ã–π URL –¥–æ—Å—Ç—É–ø–µ–Ω

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram:
```
@heys_curator_bot
```

Mini-app –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ ngrok URL! üöÄ

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AppleScript –¥–ª—è macOS:

**–î–ª—è iTerm2:**
```applescript
tell application "iTerm"
  tell current window
    create tab with default profile
    tell current session
      write text "cd $(pwd) && ngrok http 3002 --domain=..."
    end tell
  end tell
end tell
```

**–î–ª—è Terminal.app:**
```applescript
tell application "Terminal"
  do script "cd $(pwd) && ngrok http 3002 --domain=..."
end tell
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è ngrok:
```bash
if command -v ngrok &> /dev/null; then
  # –ó–∞–ø—É—Å–∫–∞–µ–º ngrok
else
  # –í—ã–≤–æ–¥–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
fi
```

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

### 1. Ngrok —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
brew install ngrok
```

### 2. Ngrok authtoken –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
```bash
ngrok config add-authtoken YOUR_TOKEN
```

### 3. Ngrok domain –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω:
```
https://tressy-cotyledonoid-vergie.ngrok-free.dev
```

---

## ‚ö†Ô∏è –ï—Å–ª–∏ ngrok –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
```
‚ö†Ô∏è  ngrok –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑: brew install ngrok
   –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: ngrok http 3002 --domain=...
```

–ò –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É **–±–µ–∑ ngrok** (–ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º).

---

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

### –í –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```
Ctrl+C  # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç mini-app dev server
```

### –í ngrok —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```
Ctrl+C  # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç ngrok —Ç—É–Ω–Ω–µ–ª—å
```

### API —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–µ):
```bash
kill -9 $(lsof -ti :4001)
```

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç:**
```bash
./start-tg-mini-debug.sh
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç —á—Ç–æ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —ç—Ç–∏ —à–∞–≥–∏.

---

## üé® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ **–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞** ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** ‚Äî –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã  
‚úÖ **–ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ –¥–ª—è ngrok** ‚Äî —É–¥–æ–±–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å  
‚úÖ **–ü—É–±–ª–∏—á–Ω—ã–π URL** ‚Äî —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤ –¥–ª—è Telegram  
‚úÖ **Graceful fallback** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ ngrok –ª–æ–∫–∞–ª—å–Ω–æ  

---

## üì± Workflow:

```
1. –ó–∞–ø—É—Å–∫–∞–µ—à—å ./start-tg-mini-debug.sh
2. –ñ–¥–µ—à—å 5 —Å–µ–∫—É–Ω–¥ (–ø–æ–∫–∞ –≤—Å—ë —Å—Ç–∞—Ä—Ç—É–µ—Ç)
3. –û—Ç–∫—Ä—ã–≤–∞–µ—à—å Telegram ‚Üí @heys_curator_bot
4. –¢–∞–ø–∞–µ—à—å –∏–∫–æ–Ω–∫—É üêõ –¥–ª—è Debug Console
5. –°–º–æ—Ç—Ä–∏—à—å –ª–æ–≥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏! üöÄ**

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:

### –ï—Å–ª–∏ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞:

**2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤—Ä—É—á–Ω—É—é:**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: API + Mini-app
pnpm run dev:api
pnpm run dev:tg-mini

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Ngrok
ngrok http 3002 --domain=tressy-cotyledonoid-vergie.ngrok-free.dev
```

**–ß–µ—Ä–µ–∑ VS Code tasks:**
- Task: "Start API Server (Port 4001)"
- Task: "Start TG Mini (Port 3002)"
- Ngrok –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

---

## ‚úÖ –ò—Ç–æ–≥–æ:

**–ë—ã–ª–æ:** 3 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, 3 –∫–æ–º–∞–Ω–¥—ã, —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫  
**–°—Ç–∞–ª–æ:** 1 –∫–æ–º–∞–Ω–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫, –ø—É–±–ª–∏—á–Ω—ã–π URL

**–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏: ~30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫! ‚è±Ô∏è**
