# Mobile UX Improvement Plan (Option B)

**–¶–ï–õ–¨**: –°–æ–∑–¥–∞—Ç—å –∫—Ä—É—Ç—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –º–æ–±–∏–ª—å–Ω—É—é –≤–µ–±-–≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è HEYS v12, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤—Å—é —Ç–µ–∫—É—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ —É–ª—É—á—à–∏–≤ UX –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤.

## üéØ –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–ï –õ–û–ú–ê–¢–¨ —Ä–∞–±–æ—Ç–∞—é—â—É—é –ª–æ–≥–∏–∫—É (`window.HEYS.*`, localStorage, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Supabase).
2.  **Mobile-First UX**: –°–≤–∞–π–ø—ã, Pull-to-Refresh, —É–¥–æ–±–Ω—ã–µ –∂–µ—Å—Ç—ã.
3.  **Touch-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–∞–ª—å—Ü–µ–≤ (–º–∏–Ω–∏–º—É–º 44x44px).
4.  **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –µ—Å–ª–∏ >50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤).
5.  **Responsive**: –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤ (–æ—Ç 320px –¥–æ desktop).
6.  **Zero new deps**: –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º –Ω–æ–≤—ã—Ö CDN/–±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥–∏ —Å–±–æ—Ä–∫–∏, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —Ä–∏—Å–∫–∏.

---

## ‚ö†Ô∏è –£–†–û–í–ï–ù–¨ –í–ú–ï–®–ê–¢–ï–õ–¨–°–¢–í–ê –ò –ü–†–ò–û–†–ò–¢–ï–¢–´

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∑—ã (MUST HAVE)
- **Phase 1** ‚Äî Structural Refactoring (–≤—ã–Ω–æ—Å –∫–æ–¥–∞ –∏–∑ HTML)
  - **–†–∏—Å–∫**: –ù–∏–∑–∫–∏–π. –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–Ω–æ—Å, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.
  - **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π.
  - **–ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**: –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –±—ã—Å—Ç—Ä–µ–µ —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞—á–Ω–∏ —Å—Ä–∞–∑—É —Å Phase 2.

- **Phase 2** ‚Äî Mobile UX Foundation (CSS —É–ª—É—á—à–µ–Ω–∏—è)
  - **–†–∏—Å–∫**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π. –¢–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏, –Ω–µ —Ç—Ä–æ–≥–∞–µ–º JS.
  - **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –£–¥–æ–±–Ω—ã–µ touch targets, –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã.
  - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ü–ï–†–í–û–ô (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç Phase 1), —Ç–∞–∫ –∫–∞–∫ CSS –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–∑—ã (NICE TO HAVE)
- **Phase 3** ‚Äî Navigation & Interaction (—Å–≤–∞–π–ø—ã, pull-to-refresh)
  - **–†–∏—Å–∫**: –°—Ä–µ–¥–Ω–∏–π. –í–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º.
  - **–£—Å–ª–æ–≤–∏–µ**: –î–µ–ª–∞—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ø–æ—Å–ª–µ Phase 2 UX –≤—Å—ë –µ—â—ë –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–¥–æ–±–µ–Ω.
  - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–∞–π–ø–æ–≤ (–®–∞–≥ 3.1), Pull-to-Refresh –æ—Ç–ª–æ–∂–∏—Ç—å.

- **Phase 4** ‚Äî Performance & Polish (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
  - **–†–∏—Å–∫**: –°—Ä–µ–¥–Ω–∏–π-–í—ã—Å–æ–∫–∏–π (–ø—Ä–∏ –Ω–µ–∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).
  - **–£—Å–ª–æ–≤–∏–µ**: –î–µ–ª–∞—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∞–≥–∏ –∏–ª–∏ UX-–ø—Ä–æ–±–ª–µ–º—ã –ø–æ—Å–ª–µ –∑–∞–º–µ—Ä–æ–≤.
  - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–∞–∫—Å–∏–º—É–º ‚Äî ¬´Load More¬ª –∫–Ω–æ–ø–∫–∞. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –∏ collapse –æ—Ç–ª–æ–∂–∏—Ç—å.

### üõë –¢–û–ß–ö–ê –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–Ø

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 2** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ:

‚úÖ **–ï—Å–ª–∏ UX –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π** –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–¥–æ–±–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å:
- Phase 3 –∏ 4 –º–æ–∂–Ω–æ **–æ—Ç–ª–æ–∂–∏—Ç—å** –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ.
- –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –±–∞–≥—Ñ–∏–∫—Å–∞—Ö.

‚ö†Ô∏è **–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã**:
- –¢—è–∂–µ–ª–æ –ø–æ–ø–∞—Å—Ç—å –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º ‚Üí –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å Phase 2 (—É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –µ—â—ë).
- –ù–µ—É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∫–ª–∞–¥–∫–∏ ‚Üí –≤–∑—è—Ç—å –∏–∑ Phase 3 —Ç–æ–ª—å–∫–æ —Å–≤–∞–π–ø—ã (–®–∞–≥ 3.1).
- –ó–∞–º–µ—Ç–Ω—ã –ª–∞–≥–∏ –Ω–∞ —Å–ø–∏—Å–∫–∞—Ö ‚Üí –≤–∑—è—Ç—å –∏–∑ Phase 4 —Ç–æ–ª—å–∫–æ ¬´Load More¬ª (–®–∞–≥ 4.1, –†–µ—à–µ–Ω–∏–µ A).

---

## üîç –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–£–î–ò–¢ (–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º)

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
- **Entry Point**: `index.html` (1170 —Å—Ç—Ä–æ–∫) —Å–æ–¥–µ—Ä–∂–∏—Ç inline-—Å–∫—Ä–∏–ø—Ç —Å –∫–æ—Ä–Ω–µ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `App`.
- **Business Logic**: 
  - `heys_core_v12.js` (869 —Å—Ç—Ä–æ–∫) ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –ø–æ–∏—Å–∫, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Ration`.
  - `heys_day_v12.js` (1276 —Å—Ç—Ä–æ–∫) ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è, –ø—Ä–∏—ë–º—ã –ø–∏—â–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DayTab`.
  - `heys_user_v12.js` (295 —Å—Ç—Ä–æ–∫) ‚Äî –ø—Ä–æ—Ñ–∏–ª—å, HR-–∑–æ–Ω—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `UserTab`.
  - `heys_reports_v12.js` ‚Äî –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–∏–æ–¥.
  - `heys_storage_supabase_v1.js` (494 —Å—Ç—Ä–æ–∫–∏) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Supabase.
- **State Management**: 
  - `window.HEYS.currentClientId` ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö).
  - `window.HEYS.saveClientKey()` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Supabase.
  - `window.HEYS.utils.lsGet/lsSet` ‚Äî localStorage —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º namespace –ø–æ –∫–ª–∏–µ–Ω—Ç—É.
  - `window.HEYS.cloud.*` ‚Äî –º–µ—Ç–æ–¥—ã –æ–±–ª–∞—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**Mobile-–∞–¥–∞–ø—Ç–∞—Ü–∏—è (—Ç–µ–∫—É—â–∞—è)**:
- **Viewport**: `<meta name="viewport" content="width=device-width, initial-scale=1.0">` (–±–∞–∑–æ–≤—ã–π).
- **CSS Media Queries**: –ï—Å—Ç—å 3 –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞ (1400px, 1200px, 840px), –Ω–æ —Ñ–æ–∫—É—Å –Ω–∞ desktop.
- **Touch Targets**: `.btn` –∏–º–µ–µ—Ç `padding: 6px 10px` ‚Äî –°–õ–ò–®–ö–û–ú –ú–ê–õ–û (–Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 44px –≤—ã—Å–æ—Ç–∞).
- **Tabs**: `.tab` –∏–º–µ–µ—Ç `padding: 8px 14px` ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ç–∞–ø–∞.
- **–ù–µ—Ç –∂–µ—Å—Ç–æ–≤**: –°–≤–∞–π–ø—ã, Pull-to-Refresh –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
- **–°–ø–∏—Å–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**: –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é (–Ω–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏). –ü—Ä–∏ >100 –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –±—É–¥—É—Ç –ª–∞–≥–∏ –Ω–∞ —Å–ª–∞–±—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö.
- **–¢–∞–±–ª–∏—Ü—ã –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏**: –ú–Ω–æ–≥–æ input-–ø–æ–ª–µ–π –≤ `heys_day_v12.js`, —Ä–µ–Ω–¥–µ—Ä —Ç—è–∂—ë–ª—ã–π.

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏**:
1. ‚ö†Ô∏è **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å—è –ª–æ–≥–∏–∫–∞ –∑–∞–≤—è–∑–∞–Ω–∞ –Ω–∞ `window.HEYS.*`. –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –ù–ï–õ–¨–ó–Ø –∏—Ö —Ç–µ—Ä—è—Ç—å.
2. ‚ö†Ô∏è **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: `cloud.bootstrapClientSync()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ –≤—ã–∑–æ–≤—ã.
3. ‚ö†Ô∏è **localStorage**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `index.html` (`localStorage.getItem('heys_client_current')`). –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.
4. ‚ö†Ô∏è **CSS –∫–ª–∞—Å—Å—ã**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∞—Å—Å—ã –≤—Ä–æ–¥–µ `.card`, `.tone-violet`, `.day-layout`. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∏–ª–µ–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –≤—ë—Ä—Å—Ç–∫–∞.

---

## üìÖ Phase 1: Structural Refactoring (–ë–ï–ó–û–ü–ê–°–ù–´–ô)
**–¶–µ–ª—å**: –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑ `index.html` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª **–ë–ï–ó** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –®–∞–≥ 1.0: –ë–≠–ö–ê–ü (Safety First)
- **–î–µ–π—Å—Ç–≤–∏–µ**: –ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª–∞.
  ```powershell
  Copy-Item apps/web/index.html apps/web/index.html.bak
  ```
- **–ó–∞—á–µ–º**: –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ —Å–∫—Ä–∏–ø—Ç–æ–≤, –º—ã —Å–º–æ–∂–µ–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–∞**: `Test-Path apps/web/index.html.bak` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `True`.

### –®–∞–≥ 1.1: –°–æ–∑–¥–∞—Ç—å `apps/web/heys_app_v12.js`
- **–î–µ–π—Å—Ç–≤–∏–µ**: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å inline `<script>` –∏–∑ `index.html` (—Å—Ç—Ä–æ–∫–∏ ~82-1140) –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª.
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  ```javascript
  (function() {
    window.HEYS = window.HEYS || {};
    
    // ... –≤–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–∑ inline script ...
    
    // initializeApp() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ, –∫–∞–∫ –∏ —Å–µ–π—á–∞—Å
  })();
  ```
- **–í–ê–ñ–ù–û**: 
  - –ù–ï –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –≤–Ω—É—Ç—Ä–∏.
  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—É—é –∫–∞—Ä—Ç—É.
  - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `window.HEYS` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ.

### –®–∞–≥ 1.2: –û–±–Ω–æ–≤–∏—Ç—å `apps/web/index.html`
- **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –£–¥–∞–ª–∏—Ç—å inline `<script>` (—Å—Ç—Ä–æ–∫–∏ ~82-1140).
  2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ **–ü–û–°–õ–ï** –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:
     ```html
     <script defer src="heys_app_v12.js?v=1"></script>
     ```
- **–í–ê–ñ–ù–û**: 
  - –û—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ `<script defer src="heys_*.js">` —Ç–µ–≥–∏ –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ.
  - –ù–ï —Ç—Ä–æ–≥–∞—Ç—å Service Worker –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Å—Ç—Ä–æ–∫–∏ ~88-99).
  - –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ `<script>` —Å CDN –∏–ª–∏ `type="module"` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–∂–Ω—é—é —Å—Ö–µ–º—É –∑–∞–≥—Ä—É–∑–∫–∏.
  - –ù–ï –º–µ–Ω—è—Ç—å –≤–µ—Ä—Å–∏–∏ React/ReactDOM –≤ CDN-—Å—Å—ã–ª–∫–∞—Ö (—Å–µ–π—á–∞—Å React 18) ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
  - –ù–ï –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `<body>`, `<div id="root">` –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏–º —Ç–æ–ª—å–∫–æ JS, HTML –æ—Å—Ç–∞—ë—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å.

### –®–∞–≥ 1.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- **–ó–∞–ø—É—Å—Ç–∏—Ç—å**: `pnpm dev` (–ø–æ—Ä—Ç 3001).
- **–¢–µ—Å—Ç—ã**:
  1. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏.
  2. ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω).
  3. ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ –¥–Ω—è.
  4. ‚úÖ –í–∫–ª–∞–¥–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è (–†–∞—Ü–∏–æ–Ω, –î–µ–Ω—å, –û—Ç—á—ë—Ç—ã, –ü—Ä–æ—Ñ–∏–ª—å, –ê–Ω–∞–ª–∏—Ç–∏–∫–∞).
  5. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏–∫–æ–Ω–∫–∞ "cloud: online").
  6. ‚úÖ **HMR —Ä–∞–±–æ—Ç–∞–µ—Ç**: –í–Ω–µ—Å–∏ –Ω–µ–±–æ–ª—å—à–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ `heys_app_v12.js` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏), —Å–æ—Ö—Ä–∞–Ω–∏ ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å**: –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `Copy-Item apps/web/index.html.bak apps/web/index.html -Force`, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.

## üé® Phase 2: Mobile UX Foundation (CSS)
**–¶–µ–ª—å**: –°–¥–µ–ª–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–¥–æ–±–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π.

**–ü—Ä–∏–Ω—Ü–∏–ø**: –ú–µ–Ω—è–µ–º –¢–û–õ–¨–ö–û —Å—Ç–∏–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤. –ù–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –∫–ª–∞—Å—Å—ã/–∞—Ç—Ä–∏–±—É—Ç—ã –≤ HTML –∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### –®–∞–≥ 2.0: "App-like" Feel (–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
**–¶–µ–ª—å**: –£–±—Ä–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –≤—ã–¥–∞—é—â–∏–µ "–ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-—Å–∞–π—Ç".

**–î–æ–±–∞–≤–∏—Ç—å –≤ `apps/web/styles/main.css` (–≤ `body` –∏–ª–∏ `:root`)**:

```css
html, body {
  /* –ó–∞–ø—Ä–µ—â–∞–µ–º "–ø—Ä—É–∂–∏–Ω–∏—Å—Ç–æ—Å—Ç—å" –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ iOS (rubber-banding) */
  overscroll-behavior-y: none; 
  /* –£–±–∏—Ä–∞–µ–º —Å–µ—Ä—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É –ø—Ä–∏ —Ç–∞–ø–µ –Ω–∞ iOS */
  -webkit-tap-highlight-color: transparent;
}
```

### –®–∞–≥ 2.1: Touch Targets (–ö–†–ò–¢–ò–ß–ù–û –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω–ø—É—Ç—ã —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –¥–ª—è –ø–∞–ª—å—Ü–µ–≤.

**–ü—Ä–∞–≤–∫–∏ –≤ `apps/web/styles/main.css`**:

1. **–ö–Ω–æ–ø–∫–∏** (—Å—Ç—Ä–æ–∫–∞ ~38):
   ```css
   .btn {
     min-height: 44px; /* Apple HIG —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è */
     padding: 10px 16px; /* –ë—ã–ª–æ 6px 10px */
     border: 1px solid var(--border);
     border-radius: 10px; /* –£–≤–µ–ª–∏—á–∏–ª–∏ —Å 8px */
     cursor: pointer;
     font-size: 14px; /* –ë—ã–ª–æ 13px */
     touch-action: manipulation; /* –£–±–∏—Ä–∞–µ–º 300ms –∑–∞–¥–µ—Ä–∂–∫—É */
     user-select: none; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
   }
   ```

2. **–í–∫–ª–∞–¥–∫–∏** (—Å—Ç—Ä–æ–∫–∞ ~470):
   ```css
   .tab {
     cursor: pointer;
     padding: 12px 18px; /* –ë—ã–ª–æ 8px 14px */
     min-height: 44px; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
     border-radius: 10px;
     font-weight: 500;
     color: var(--muted);
     user-select: none;
     touch-action: manipulation; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
     transition: 0.15s background, 0.15s color;
   }
   ```

3. **Input –ø–æ–ª—è**:
   ```css
   input, textarea, select {
     width: 100%;
     background: #fff;
     border: 1px solid var(--border);
     color: var(--text);
     padding: 10px 12px; /* –ë—ã–ª–æ 6px 8px */
     min-height: 44px; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
     border-radius: 10px; /* –ë—ã–ª–æ 8px */
     outline: none;
     font-size: 16px; /* –ë—ã–ª–æ 13px - –í–ê–ñ–ù–û: 16px –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞–≤—Ç–æ–∑—É–º –Ω–∞ iOS */
     touch-action: manipulation; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
   }
   ```

### –®–∞–≥ 2.2: Safe Areas (–¥–ª—è iPhone —Å –≤—ã—Ä–µ–∑–æ–º)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä—è—Ç–∞—Ç—å—Å—è –∑–∞ notch –∏–ª–∏ home indicator.

**–ü—Ä–∞–≤–∫–∏ –≤ `apps/web/styles/main.css`**:

1. **Header** (—Å—Ç—Ä–æ–∫–∞ ~462):
   ```css
   .hdr {
     padding: 16px max(16px, env(safe-area-inset-left)) 12px max(16px, env(safe-area-inset-right));
     padding-top: max(16px, env(safe-area-inset-top));
     /* ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ ... */
   }
   ```

2. **Tabs** (—Å—Ç—Ä–æ–∫–∞ ~463):
   ```css
   .tabs {
     padding: 10px max(12px, env(safe-area-inset-left)) 10px max(12px, env(safe-area-inset-right));
     /* ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ ... */
   }
   ```

3. **Page content** (—Å—Ç—Ä–æ–∫–∞ ~490):
   ```css
   .page {
     padding: 0 max(18px, env(safe-area-inset-left)) max(32px, env(safe-area-inset-bottom)) max(18px, env(safe-area-inset-right));
   }
   ```

4. **–î–æ–±–∞–≤–∏—Ç—å –≤ <head> –≤ index.html**:
   ```html
   <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
   ```
   (–î–æ–±–∞–≤–∏—Ç—å `viewport-fit=cover` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ safe-area –Ω–∞ iOS)

**–í–∞–∂–Ω–æ**: –°–≤–æ–π—Å—Ç–≤–∞ `env(safe-area-inset-*)` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –Ω–µ –≤—Å–µ–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏. –ü–æ—ç—Ç–æ–º—É –º—ã –∑–∞–¥–∞—ë–º –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `max()`, —á—Ç–æ–±—ã –¥–∞–∂–µ –Ω–∞ Android –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `env()` –æ—Ç—Å—Ç—É–ø—ã –æ—Å—Ç–∞–ª–∏—Å—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –≤—ë—Ä—Å—Ç–∫–∞ –Ω–µ "–ø—Ä—ã–≥–∞–ª–∞".

### –®–∞–≥ 2.3: –£–ª—É—á—à–µ–Ω–∏–µ Media Queries (–∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã)
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ–∫—É—â–∏–µ –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç—ã (840px, 1200px) –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –º–∞–ª–µ–Ω—å–∫–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã (320-480px).

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç –≤ –∫–æ–Ω–µ—Ü `main.css`**:

```css
/* === MOBILE OPTIMIZATION === */
@media (max-width: 640px) {
  /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –Ω–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
  .hdr {
    padding: 12px 12px 8px;
  }
  
  .tabs {
    padding: 8px 8px 8px;
    gap: 4px; /* –£–º–µ–Ω—å—à–∞–µ–º gap –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ */
  }
  
  .tab {
    padding: 10px 12px;
    font-size: 13px;
  }
  
  .page {
    padding: 0 12px 24px;
  }
  
  /* –£–ø—Ä–æ—â–∞–µ–º layout –¥–æ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ */
  .day-layout {
    grid-template-columns: 1fr;
    gap: 8px;
  }
  
  /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è input (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑—É–º –Ω–∞ iOS) */
  input, select, textarea {
    font-size: 16px;
  }
  
  /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
  .card {
    padding: 12px;
  }
  
  /* –£–ª—É—á—à–∞–µ–º —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Ç–∞–±–ª–∏—Ü */
  th, td {
    padding: 8px 6px;
    font-size: 13px;
  }
}

@media (max-width: 400px) {
  /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (iPhone SE, etc.) */
  .tab {
    padding: 8px 10px;
    font-size: 12px;
  }
  
  .btn {
    padding: 8px 12px;
    font-size: 13px;
  }
}
```

### –®–∞–≥ 2.4: Active States (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ñ–∏–¥–±–µ–∫ –ø—Ä–∏ —Ç–∞–ø–µ)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–∂–∞—Ç.

**–î–æ–±–∞–≤–∏—Ç—å –≤ `main.css`**:

```css
/* Active states –¥–ª—è touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
.btn:active {
  transform: scale(0.98);
  opacity: 0.8;
}

.tab:active {
  transform: scale(0.98);
}

input:active, select:active, textarea:active {
  border-color: var(--acc);
}

/* –£–ª—É—á—à–∞–µ–º feedback –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å onClick */
.card.clickable:active {
  transform: scale(0.99);
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
```

### –®–∞–≥ 2.5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
**–ü—Ä–æ–±–ª–µ–º–∞**: 
1. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞, –µ—Å–ª–∏ –æ–Ω–æ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞.
2. –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞) –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–º–∏ –∏–ª–∏ —É–ª–µ—Ç–∞—Ç—å –∑–∞ —ç–∫—Ä–∞–Ω.

**–î–µ–π—Å—Ç–≤–∏—è**:
1. **–°–ù–ê–ß–ê–õ–ê** –ø—Ä–æ–≤–µ—Ä—å –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –≤ `index.html` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ `.modal`, –∞ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ). –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã!
2. –ï—Å–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã, –¥–æ–±–∞–≤—å –¥–ª—è –Ω–∏—Ö –º–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏:
   ```css
   @media (max-width: 640px) {
     /* –ó–∞–º–µ–Ω–∏ .modal –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –∏–∑ —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞ */
     .modal {
       width: 90%;
       max-width: none;
       top: 50%;
       transform: translate(-50%, -50%);
     }
   }
   ```
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ input –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`heys_day_v12.js`), –±—Ä–∞—É–∑–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–º—É. (–û–±—ã—á–Ω–æ –Ω–∞—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ).

## üëÜ Phase 3: Navigation & Interaction (JS) ‚Äî –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–±–∏–ª—å–Ω—ã–µ –∂–µ—Å—Ç—ã (—Å–≤–∞–π–ø—ã, pull-to-refresh).

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: –≠—Ç–∞ —Ñ–∞–∑–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞. –î–µ–ª–∞—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ø–æ—Å–ª–µ Phase 2 UX –≤—Å—ë –µ—â—ë –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–¥–æ–±–µ–Ω.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º**:
- ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: Swipe Navigation (–®–∞–≥ 3.1) ‚Äî –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫.
- ‚ö†Ô∏è **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: Pull-to-Refresh (–®–∞–≥ 3.2) ‚Äî –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º pull-to-refresh –∏ —Å–∫—Ä–æ–ª–ª–æ–º. –î–µ–ª–∞—Ç—å –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–∞–π–ø–æ–≤.

### –®–∞–≥ 3.1: Swipe Navigation (–º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏) ‚Äî –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ç–∞–ø –ø–æ –≤–µ—Ä—Ö–Ω–µ–º—É –º–µ–Ω—é ‚Äî –Ω–µ—É–¥–æ–±–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö.

**–ì–¥–µ –¥–µ–ª–∞—Ç—å**: –í `apps/web/heys_app_v12.js`, –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `App`.

**–õ–æ–≥–∏–∫–∞**:
1. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `onTouchStart`, `onTouchMove`, `onTouchEnd` –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`.wrap`).
2. –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–∞–π–ø–∞ (left/right).
3. –ï—Å–ª–∏ —Å–≤–∞–π–ø –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π >50px –∏ –±—ã—Å—Ç—Ä—ã–π ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∫–ª–∞–¥–∫—É:
   - **Swipe Left** (–≤–ª–µ–≤–æ): –°–ª–µ–¥—É—é—â–∞—è –≤–∫–ª–∞–¥–∫–∞ (ration ‚Üí day ‚Üí reports ‚Üí user ‚Üí analytics).
   - **Swipe Right** (–≤–ø—Ä–∞–≤–æ): –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞.
4. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–∞–π–ø—ã –≤–Ω—É—Ç—Ä–∏ input –ø–æ–ª–µ–π –∏ —Ç–∞–±–ª–∏—Ü (—á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–µ).

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞** (–¥–æ–±–∞–≤–∏—Ç—å –≤ `App` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—Å–ª–µ useState):

```javascript
// === SWIPE NAVIGATION ===
const [touchStart, setTouchStart] = React.useState(null);
const [touchEnd, setTouchEnd] = React.useState(null);

const minSwipeDistance = 50; // –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Å–≤–∞–π–ø–∞ –≤ px

const tabs = ['ration', 'day', 'reports', 'user', 'analytics'];
const currentTabIndex = tabs.indexOf(tab);

const onTouchStart = (e) => {
  setTouchEnd(null); // –°–±—Ä–æ—Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ü–∞
  setTouchStart(e.targetTouches[0].clientX);
};

const onTouchMove = (e) => {
  setTouchEnd(e.targetTouches[0].clientX);
};

const onTouchEnd = () => {
  if (!touchStart || !touchEnd) return;
  
  const distance = touchStart - touchEnd;
  const isLeftSwipe = distance > minSwipeDistance;
  const isRightSwipe = distance < -minSwipeDistance;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–≤–∞–π–ø –Ω–µ –≤–Ω—É—Ç—Ä–∏ input/textarea/select
  const activeElement = document.activeElement;
  const isInputActive = ['INPUT', 'TEXTAREA', 'SELECT'].includes(activeElement.tagName);
  if (isInputActive) return;
  
  if (isLeftSwipe && currentTabIndex < tabs.length - 1) {
    // –°–≤–∞–π–ø –≤–ª–µ–≤–æ = —Å–ª–µ–¥—É—é—â–∞—è –≤–∫–ª–∞–¥–∫–∞
    setTab(tabs[currentTabIndex + 1]);
  }
  
  if (isRightSwipe && currentTabIndex > 0) {
    // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ = –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞
    setTab(tabs[currentTabIndex - 1]);
  }
};
```

**–î–æ–±–∞–≤–∏—Ç—å –≤ JSX** (–≤ `return` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `App`):

```javascript
React.createElement('div', {
  className: 'wrap',
  onTouchStart: onTouchStart,
  onTouchMove: onTouchMove,
  onTouchEnd: onTouchEnd
}, 
  // ... –≤–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç ...
)
```

**–í–ê–ñ–ù–û**: –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü/input, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –Ω–∞—Ç–∏–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º.

### –®–∞–≥ 3.2: Pull-to-Refresh (–ø–æ—Ç—è–Ω—É—Ç—å —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å) ‚Äî –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û, –í–´–°–û–ö–ò–ô –†–ò–°–ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï**:

1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å –±—Ä–∞—É–∑–µ—Ä–æ–º**: –ú–Ω–æ–≥–∏–µ –º–æ–±–∏–ª—å–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã (–æ—Å–æ–±–µ–Ω–Ω–æ Chrome –Ω–∞ Android) –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π pull-to-refresh –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å.

2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º**: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –¥–ª–∏–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–≤–µ—Ä—Ö, –∞ –º—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∂–µ—Å—Ç ‚Äî —ç—Ç–æ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç.

3. **–ù–µ–æ—á–µ–≤–∏–¥–Ω–∞—è UX-–ø–æ–ª—å–∑–∞**: –ï—Å–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π pull-to-refresh –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º.

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**: 
- –°–Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û Swipe Navigation (–®–∞–≥ 3.1).
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
- Pull-to-Refresh –¥–æ–±–∞–≤–ª—è—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —è–≤–Ω–æ –ø—Ä–æ—Å—è—Ç —Ñ—É–Ω–∫—Ü–∏—é "–æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ".
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü—Ä–æ—Å—Ç–∞—è –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –≤ header ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

**–ì–¥–µ –¥–µ–ª–∞—Ç—å** (–µ—Å–ª–∏ –≤—Å—ë-—Ç–∞–∫–∏ —Ä–µ—à–∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å): –í –æ–±—ë—Ä—Ç–∫–∞—Ö `DayTabWithCloudSync` –∏ `RationTabWithCloudSync` –≤–Ω—É—Ç—Ä–∏ `heys_app_v12.js`.

**–õ–æ–≥–∏–∫–∞**:
1. –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç—è–Ω–µ—Ç —ç–∫—Ä–∞–Ω –≤–Ω–∏–∑ –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
2. –ü—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ (–µ—Å–ª–∏ –ø–æ—Ç—è–Ω—É–ª >80px) ‚Äî –∑–∞–ø—É—Å–∫–∞—Ç—å `cloud.bootstrapClientSync(clientId)`.
3. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (—Å–ø–∏–Ω–Ω–µ—Ä –∏–ª–∏ —Ç–µ–∫—Å—Ç "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...").

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞** (–¥–æ–±–∞–≤–∏—Ç—å –≤ `DayTabWithCloudSync`):

```javascript
function DayTabWithCloudSync(props) {
  const { clientId, products } = props;
  const [loading, setLoading] = React.useState(true);
  
  // === PULL-TO-REFRESH ===
  const [isPulling, setIsPulling] = React.useState(false);
  const [pullDistance, setPullDistance] = React.useState(0);
  const [isRefreshing, setIsRefreshing] = React.useState(false);
  
  const pullThreshold = 80; // px –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
  let pullStartY = 0;
  
  const handlePullStart = (e) => {
    // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–∫—Ä–æ–ª–ª –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É
    if (window.scrollY === 0) {
      pullStartY = e.touches[0].clientY;
      setIsPulling(true);
    }
  };
  
  const handlePullMove = (e) => {
    if (!isPulling) return;
    
    const currentY = e.touches[0].clientY;
    const distance = Math.max(0, currentY - pullStartY);
    setPullDistance(distance);
    
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π overscroll –µ—Å–ª–∏ —Ç—è–Ω–µ–º –≤–Ω–∏–∑
    if (distance > 0 && window.scrollY === 0) {
      e.preventDefault();
    }
  };
  
  const handlePullEnd = () => {
    setIsPulling(false);
    
    if (pullDistance > pullThreshold && !isRefreshing) {
      // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
      setIsRefreshing(true);
      const cloud = window.HEYS && window.HEYS.cloud;
      
      if (clientId && cloud && typeof cloud.bootstrapClientSync === 'function') {
        cloud.bootstrapClientSync(clientId)
          .then(() => {
            setIsRefreshing(false);
            setLoading(false);
          })
          .catch(() => {
            setIsRefreshing(false);
            setLoading(false);
          });
      } else {
        setIsRefreshing(false);
      }
    }
    
    setPullDistance(0);
  };
  
  // –û—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞...
  React.useEffect(() => {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
  }, [clientId]);
  
  // Render —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º pull-to-refresh
  return React.createElement(
    'div',
    {
      onTouchStart: handlePullStart,
      onTouchMove: handlePullMove,
      onTouchEnd: handlePullEnd,
      style: { position: 'relative' }
    },
    // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä refresh
    isPulling || isRefreshing
      ? React.createElement(
          'div',
          {
            style: {
              position: 'absolute',
              top: 0,
              left: '50%',
              transform: `translateX(-50%) translateY(${Math.min(pullDistance, 60)}px)`,
              padding: '8px 16px',
              background: 'var(--acc)',
              color: 'white',
              borderRadius: '20px',
              fontSize: '13px',
              fontWeight: 600,
              zIndex: 1000,
              transition: isRefreshing ? 'none' : 'transform 0.2s'
            }
          },
          isRefreshing ? '‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...' : pullDistance > pullThreshold ? '‚Üì –û—Ç–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è' : '‚Üì –ü–æ—Ç—è–Ω–∏—Ç–µ –≤–Ω–∏–∑'
        )
      : null,
    
    // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥)
    loading
      ? React.createElement('div', { className: 'muted', style: { padding: 24 } }, '–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞...')
      : !window.HEYS || !window.HEYS.DayTab
        ? React.createElement('div', { className: 'muted', style: { padding: 24 } }, '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞...')
        : React.createElement(window.HEYS.DayTab, { products })
  );
}
```

**–í–ê–ñ–ù–û**: –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –∫ `RationTabWithCloudSync` –∏ `UserTabWithCloudSync`.

## ‚ö° Phase 4: Performance & Polish ‚Äî –ü–û–õ–ù–û–°–¢–¨–Æ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
**–¶–µ–ª—å**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–≤–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏.

‚ö†Ô∏è **–£–°–õ–û–í–ò–ï –í–´–ü–û–õ–ù–ï–ù–ò–Ø**: –≠—Ç–∞ —Ñ–∞–∑–∞ –¥–µ–ª–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
1. –ü–æ—Å–ª–µ Phase 1-2 (–∏–ª–∏ Phase 3) –∑–∞–º–µ—á–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∞–≥–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
2. –ï—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∂–∞–ª–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É.
3. –ò–∑–º–µ—Ä–µ–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ >500ms, FPS <30).

**–ë–ï–ó –∏–∑–º–µ—Ä–µ–Ω–∏–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º ‚Äî –ù–ï –î–ï–õ–ê–¢–¨. –≠—Ç–æ –æ–≤–µ—Ä–∫–∏–ª.**

### üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û –î–õ–Ø PHASE 4

**–ù–ï –¢–†–û–ì–ê–¢–¨**:
- ‚ùå –§–æ—Ä–º—É–ª—ã –∏ —Ä–∞—Å—á—ë—Ç—ã (TDEE, BMR, –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã, –¥–µ—Ñ–∏—Ü–∏—Ç)
- ‚ùå –°—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–æ–≤ –≤ localStorage (—Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è, –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ‚ùå –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (`computeDerived`, `calculateDayStats`, etc.)
- ‚ùå –õ–æ–≥–∏–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Supabase

**–ú–û–ñ–ù–û**:
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å UI-–æ–±—ë—Ä—Ç–∫–∏ (–∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë", skeleton screens)
- ‚úÖ –°–∫—Ä—ã–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ CSS `@media`
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –¥–µ–±–∞—É–Ω—Å –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–Ω–æ –Ω–µ –º–µ–Ω—è—Ç—å —Å–∞–º—É –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)

### –®–∞–≥ 4.1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ ‚Äî –¢–û–õ–¨–ö–û –ü–†–ò –†–ï–ê–õ–¨–ù–´–• –õ–ê–ì–ê–•
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ >100 –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∏–ª–∏ –ø—Ä–∏—ë–º–∞—Ö –ø–∏—â–∏ —Ä–µ–Ω–¥–µ—Ä —Ç–æ—Ä–º–æ–∑–∏—Ç –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö.

**–ì–¥–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. `heys_core_v12.js` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –≤–∫–ª–∞–¥–∫–µ "–†–∞—Ü–∏–æ–Ω".
2. `heys_day_v12.js` ‚Äî —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ (—Å—Ç—Ä–æ–∫–∏ ~970-1100).

**–†–µ—à–µ–Ω–∏–µ A (–ø—Ä–æ—Å—Ç–æ–µ)**: "Load More" –∫–Ω–æ–ø–∫–∞
- –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë 50".
- **–ü–ª—é—Å—ã**: –õ–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, –Ω–µ –ª–æ–º–∞–µ—Ç –ª–æ–≥–∏–∫—É.
- **–ú–∏–Ω—É—Å—ã**: –ù–µ "–Ω–∞—Å—Ç–æ—è—â–∞—è" –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–æ –¥–ª—è –Ω—É—Ç—Ä–∏—Ü–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ B (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ)**: React-–æ–∫–Ω–æ (virtual scrolling)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `react-window` –∏–ª–∏ —Å–∞–º–æ–ø–∏—Å–Ω—É—é –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é.
- –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏ + buffer (10 —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É).
- **–ü–ª—é—Å—ã**: –°—É–ø–µ—Ä-–ø–ª–∞–≤–Ω–æ –¥–∞–∂–µ —Å 1000+ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.
- **–ú–∏–Ω—É—Å—ã**: –°–ª–æ–∂–Ω–µ–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å, –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å input –ø–æ–ª—è.

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**: –ù–∞—á–∞—Ç—å —Å **–†–µ—à–µ–Ω–∏—è A**. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–∞–ª—É—é—Ç—Å—è –Ω–∞ –ª–∞–≥–∏ ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –†–µ—à–µ–Ω–∏–µ B.

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –†–µ—à–µ–Ω–∏—è A** (–¥–æ–±–∞–≤–∏—Ç—å –≤ `heys_core_v12.js`):

```javascript
// –í–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Ration
function Ration({ products, setProducts }) {
  const [displayLimit, setDisplayLimit] = React.useState(50);
  
  const visibleProducts = products.slice(0, displayLimit);
  const hasMore = products.length > displayLimit;
  
  return React.createElement('div', { className: 'page' },
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Ä–µ–Ω–¥–µ—Ä–∞ —Å–ø–∏—Å–∫–∞ ...
    
    // –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ displayLimit)
    visibleProducts.map((product) => {
      // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞ ...
    }),
    
    // –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë"
    hasMore
      ? React.createElement('button', {
          className: 'btn',
          style: { marginTop: 16, width: '100%' },
          onClick: () => setDisplayLimit(prev => prev + 50)
        }, `–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë (${products.length - displayLimit} –æ—Å—Ç–∞–ª–æ—Å—å)`)
      : null
  );
}
```

### –®–∞–≥ 4.2: –î–µ–±–∞—É–Ω—Å –¥–ª—è input –ø–æ–ª–µ–π (—ç–∫–æ–Ω–æ–º–∏–º —Ä–µ—Å—É—Ä—Å—ã)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –≤–≤–æ–¥–µ –≤ input (`onChange`) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `setDay()` –∏ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä –≤—Å–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ‚Äî —ç—Ç–æ —Ç—è–∂–µ–ª–æ.

**–ì–¥–µ**: `heys_day_v12.js`, —Å—Ç—Ä–æ–∫–∏ ~880-920 (input –ø–æ–ª—è –¥–ª—è –≤–µ—Å–∞, —à–∞–≥–æ–≤, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫).

**–†–µ—à–µ–Ω–∏–µ**: –î–µ–±–∞—É–Ω—Å –Ω–∞ 300ms –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**:

```javascript
// –í –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ DayTab (–ø–æ—Å–ª–µ useState)
const saveTimerRef = React.useRef(null);

const debouncedSetDay = React.useCallback((newDay) => {
  // –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
  setDay(newDay);
  
  // –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
  if (saveTimerRef.current) clearTimeout(saveTimerRef.current);
  
  saveTimerRef.current = setTimeout(() => {
    lsSet('heys_dayv2_' + dateKey, newDay);
    // –¢—Ä–∏–≥–≥–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –æ–±–ª–∞–∫–æ–º (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ)
    if (window.HEYS.saveClientKey) {
      window.HEYS.saveClientKey('heys_dayv2_' + dateKey, newDay);
    }
  }, 300);
}, [dateKey]);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debouncedSetDay –≤–º–µ—Å—Ç–æ setDay –≤ onChange
```

### –®–∞–≥ 4.3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü (—É–º–µ–Ω—å—à–∏—Ç—å DOM –Ω–∞–≥—Ä—É–∑–∫—É)
**–ü—Ä–æ–±–ª–µ–º–∞**: –í `heys_day_v12.js` —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç –º–Ω–æ–≥–æ input –ø–æ–ª–µ–π (–ø–æ ~20 –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ —Å—Ç—Ä–æ–∫—É).

**–†–µ—à–µ–Ω–∏–µ**: 
1. **–°–∫—Ä—ã—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏** –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (—á–µ—Ä–µ–∑ CSS `@media`).
2. **Collapse/Expand**: –°–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å –ø–æ —Ç–∞–ø—É.

**–ü—Ä–∏–º–µ—Ä CSS** (–¥–æ–±–∞–≤–∏—Ç—å –≤ `main.css`):

```css
@media (max-width: 640px) {
  /* –°–∫—Ä—ã–≤–∞–µ–º –∫–æ–ª–æ–Ω–∫–∏ "–Ω–∞ 100–≥" –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
  .meal-table th:nth-child(n+3):nth-child(-n+11),
  .meal-table td:nth-child(n+3):nth-child(-n+11) {
    display: none;
  }
  
  /* –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ: –ü—Ä–æ–¥—É–∫—Ç, –ì—Ä–∞–º–º—ã, –ò—Ç–æ–≥–æ –ö–∫–∞–ª, –ò—Ç–æ–≥–æ –£, –ò—Ç–æ–≥–æ –ë, –ò—Ç–æ–≥–æ –ñ */
  .meal-table th:nth-child(1),
  .meal-table th:nth-child(2),
  .meal-table th:nth-child(13),
  .meal-table th:nth-child(14),
  .meal-table th:nth-child(17),
  .meal-table th:nth-child(18),
  .meal-table td:nth-child(1),
  .meal-table td:nth-child(2),
  .meal-table td:nth-child(13),
  .meal-table td:nth-child(14),
  .meal-table td:nth-child(17),
  .meal-table td:nth-child(18) {
    display: table-cell;
  }
}
```

### –®–∞–≥ 4.4: –î–æ–±–∞–≤–∏—Ç—å Skeleton Screens (–≤–º–µ—Å—Ç–æ "–ó–∞–≥—Ä—É–∑–∫–∞...")
**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–µ–∫—Å—Ç–æ–º "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞..." –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ placeholder'—ã (skeleton) –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏.

**–ü—Ä–∏–º–µ—Ä CSS**:

```css
@keyframes skeleton-loading {
  0% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 8px;
}

.skeleton-card {
  height: 120px;
  margin-bottom: 12px;
}

.skeleton-text {
  height: 16px;
  margin-bottom: 8px;
}

.skeleton-button {
  height: 44px;
  width: 100%;
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** –≤ `DayTabWithCloudSync`:

```javascript
if (loading) {
  return React.createElement('div', { className: 'page' },
    React.createElement('div', { className: 'skeleton skeleton-card' }),
    React.createElement('div', { className: 'skeleton skeleton-card' }),
    React.createElement('div', { className: 'skeleton skeleton-text', style: { width: '60%' } }),
    React.createElement('div', { className: 'skeleton skeleton-button' })
  );
}
```

---

## üìã –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

### Pre-Flight Check (–ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º)
- [ ] Dev-—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç (`pnpm dev` –Ω–∞ –ø–æ—Ä—Ç—É 3001).
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞.
- [ ] –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: –≤—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞, –ø—Ä–æ–¥—É–∫—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –¥–∞–Ω–Ω—ã–µ –¥–Ω—è –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è.
- [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —á–∏—Å—Ç—ã–π (–Ω–µ—Ç –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π) –ò–õ–ò —Å–æ–∑–¥–∞–Ω–∞ backup –≤–µ—Ç–∫–∞.

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ (–∏–ª–∏ Chrome DevTools ‚Üí Device Mode).
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç.
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤.

### üõë –¢–æ—á–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è (–ü–û–°–õ–ï PHASE 2)
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UX –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ** (–º–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è).
- [ ] **–û—Ü–µ–Ω–∏—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –ª–∏ –ø–æ–ø–∞–¥–∞—Ç—å –ø–æ –∫–Ω–æ–ø–∫–∞–º/–≤–∫–ª–∞–¥–∫–∞–º/input –ø–æ–ª—è–º?
- [ ] **–ó–∞–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –µ—Å—Ç—å –ª–∏ –∑–∞–º–µ—Ç–Ω—ã–µ –ª–∞–≥–∏ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ —Å–ø–∏—Å–∫–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫?
- [ ] **–ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ**:
  - ‚úÖ –ï—Å–ª–∏ UX –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –∏ –Ω–µ—Ç –ª–∞–≥–æ–≤ ‚Üí Phase 3-4 –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.
  - ‚ö†Ô∏è –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –∏–∑ Phase 3-4, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã.

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ù–ï –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å)
1. **`window.HEYS.*` –¥–æ—Å—Ç—É–ø–µ–Ω** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏: `console.log(window.HEYS)`.
2. **localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: `localStorage.getItem('heys_client_current')`.
3. **Supabase sync** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `window.HEYS.cloud.getStatus()` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `'online'`.
4. **–ü—Ä–æ–¥—É–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç, –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–Ω –æ—Å—Ç–∞–ª—Å—è.
5. **–î–∞–Ω–Ω—ã–µ –¥–Ω—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** ‚Äî –≤–≤–µ—Å—Ç–∏ –≤–µ—Å, –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å.

---

## üöÄ –ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å ‚Äî —Å–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å:**

```text
–Ø –≥–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Mobile UX Improvement Plan (Option B).

–ó–ê–î–ê–ß–ê: –£–ª—É—á—à–∏—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é HEYS v12, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤—Å—é —Ç–µ–∫—É—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

–ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô (–ø–æ—à–∞–≥–æ–≤–æ):

‚ö° **–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢**: –ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å—Ä–∞–∑—É —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ, –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å Phase 2 (CSS), –∞ Phase 1 —Å–¥–µ–ª–∞—Ç—å –ø–æ—Ç–æ–º. CSS –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –¥–∞—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.

=== PHASE 1: Structural Refactoring (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û –ü–ï–†–í–û–ô) ===
0. –°–¥–µ–ª–∞—Ç—å –ë–≠–ö–ê–ü: `Copy-Item apps/web/index.html apps/web/index.html.bak`.
1. –ò–∑–≤–ª–µ—á—å inline script –∏–∑ `apps/web/index.html` (—Å—Ç—Ä–æ–∫–∏ ~82-1140).
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª `apps/web/heys_app_v12.js` —Å —ç—Ç–∏–º –∫–æ–¥–æ–º.
3. –û–±–Ω–æ–≤–∏—Ç—å `index.html`: —É–¥–∞–ª–∏—Ç—å inline script, –¥–æ–±–∞–≤–∏—Ç—å `<script defer src="heys_app_v12.js?v=1"></script>`.
4. –ü–†–û–í–ï–†–ò–¢–¨: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏, `window.HEYS` –¥–æ—Å—Ç—É–ø–µ–Ω, HMR —Ä–∞–±–æ—Ç–∞–µ—Ç.

=== PHASE 2: Mobile UX Foundation (CSS) ‚Äî –ú–û–ñ–ù–û –î–ï–õ–ê–¢–¨ –ü–ï–†–í–û–ô ===
5. –î–æ–±–∞–≤–∏—Ç—å "App-like" —Å—Ç–∏–ª–∏: `overscroll-behavior-y: none`, `-webkit-tap-highlight-color: transparent`.
6. –£–≤–µ–ª–∏—á–∏—Ç—å touch targets: `.btn`, `.tab`, `input` ‚Üí min-height 44px, –±–æ–ª—å—à–µ padding.
7. –î–æ–±–∞–≤–∏—Ç—å safe-area –¥–ª—è iPhone: `env(safe-area-inset-*)` –≤ `.hdr`, `.tabs`, `.page`.
8. –£–ª—É—á—à–∏—Ç—å media queries: –¥–æ–±–∞–≤–∏—Ç—å –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç @media (max-width: 640px).
9. –î–æ–±–∞–≤–∏—Ç—å active states: `:active` —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ –≤–∫–ª–∞–¥–æ–∫.
10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.
11. –ü–†–û–í–ï–†–ò–¢–¨: —ç–ª–µ–º–µ–Ω—Ç—ã —É–¥–æ–±–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ, –Ω–µ—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ iPhone.

=== üõë –¢–û–ß–ö–ê –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–Ø ===
10. –û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø –ø–æ—Å–ª–µ Phase 2 –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ (5+ –º–∏–Ω—É—Ç).
11. –û—Ü–µ–Ω–∏—Ç—å: —É–¥–æ–±–Ω–æ –ª–∏ –ø–æ–ø–∞–¥–∞—Ç—å –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º? –ï—Å—Ç—å –ª–∏ –ª–∞–≥–∏?
12. –†–ï–®–ò–¢–¨: –Ω—É–∂–Ω—ã –ª–∏ Phase 3-4 –∏–ª–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è?

=== PHASE 3: Navigation & Interaction (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û) ===
–í—ã–ø–æ–ª–Ω—è—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ø–æ—Å–ª–µ Phase 2 UX –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–¥–æ–±–µ–Ω.

13. –î–æ–±–∞–≤–∏—Ç—å Swipe Navigation –≤ `heys_app_v12.js` (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App`):
    - onTouchStart/Move/End –¥–ª—è –¥–µ—Ç–µ–∫—Ç–∞ —Å–≤–∞–π–ø–æ–≤.
    - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ.
14. –ü–†–û–í–ï–†–ò–¢–¨: —Å–≤–∞–π–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º.

15. (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û, –í–´–°–û–ö–ò–ô –†–ò–°–ö) Pull-to-Refresh:
    - –î–µ–ª–∞—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —è–≤–Ω–æ –Ω—É–∂–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è "–æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ".
    - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø—Ä–æ—Å—Ç–∞—è –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –≤ header (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ).

=== PHASE 4: Performance & Polish (–¢–û–õ–¨–ö–û –ü–†–ò –†–ï–ê–õ–¨–ù–´–• –ü–†–û–ë–õ–ï–ú–ê–•) ===
–í—ã–ø–æ–ª–Ω—è—Ç—å –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –ª–∞–≥–∏ –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∂–∞–ª–æ–±—ã.

16. (–ï—Å–ª–∏ —Å–ø–∏—Å–∫–∏ —Ç–æ—Ä–º–æ–∑—è—Ç) –î–æ–±–∞–≤–∏—Ç—å "Load More" –∫–Ω–æ–ø–∫—É –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (>50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤).
17. (–ï—Å–ª–∏ input —Ç–æ—Ä–º–æ–∑—è—Ç) –î–æ–±–∞–≤–∏—Ç—å –¥–µ–±–∞—É–Ω—Å –¥–ª—è input –ø–æ–ª–µ–π –≤ `heys_day_v12.js`.
18. (–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ –≤–ª–µ–∑–∞—é—Ç) –°–∫—Ä—ã—Ç—å –ª–∏—à–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö (CSS @media).
19. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å skeleton screens –≤–º–µ—Å—Ç–æ "–ó–∞–≥—Ä—É–∑–∫–∞...".
20. –ü–†–û–í–ï–†–ò–¢–¨: –ø–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –Ω–µ—Ç –ª–∞–≥–æ–≤.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê:
- –ù–ï –º–µ–Ω—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã `window.HEYS.*`.
- –ù–ï —Ç—Ä–æ–≥–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Supabase.
- –ù–ï –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É localStorage –∫–ª—é—á–µ–π.
- –ù–ï –ø–æ–¥–∫–ª—é—á–∞—Ç—å –Ω–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏/CDN –∏ –Ω–µ –º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ —Å–±–æ—Ä–∫–∏.
- –ù–ï –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å CSS –∫–ª–∞—Å—Å—ã/HTML –∞—Ç—Ä–∏–±—É—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º —Å—Ç–∏–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –ö–ê–ñ–î–û–ô —Ñ–∞–∑—ã.

–ù–ê–ß–ò–ù–ê–ô –° PHASE 1 (–∏–ª–∏ —Å PHASE 2, –µ—Å–ª–∏ —è –ø–æ–ø—Ä–æ—à—É). –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã ‚Äî –û–°–¢–ê–ù–û–í–ò–°–¨ –∏ –¥–æ–∂–¥–∏—Å—å –º–æ–µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π.

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Äî —Å–ø—Ä–æ—Å–∏ –ü–ï–†–ï–î –Ω–∞—á–∞–ª–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **Apple HIG Touch Targets**: –º–∏–Ω–∏–º—É–º 44x44pt –¥–ª—è iOS.
- **Material Design Touch Targets**: –º–∏–Ω–∏–º—É–º 48x48dp –¥–ª—è Android.
- **Safe Area Insets**: –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ iPhone —Å –≤—ã—Ä–µ–∑–æ–º.
- **Touch-action CSS**: —É–±–∏—Ä–∞–µ—Ç 300ms –∑–∞–¥–µ—Ä–∂–∫—É —Ç–∞–ø–∞.

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
1. **iOS Safari**: iPhone SE (320px), iPhone 14 (390px), iPhone 14 Pro Max (430px).
2. **Android Chrome**: Samsung Galaxy S10 (360px), Pixel 7 (412px).
3. **Landscape —Ä–µ–∂–∏–º**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ.

### Rollback –ø–ª–∞–Ω (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è)
1. –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ Git: `git checkout HEAD -- apps/web/`.
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞.
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Ñ–∞–∑—É –∑–∞–Ω–æ–≤–æ.
