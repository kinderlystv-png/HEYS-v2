<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üó∫Ô∏è HEYS ROADMAPS SUPERSYSTEM - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ä–æ–∂–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        
        .nav-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav-link {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        
        .roadmap-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .roadmap-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .roadmap-header h3 {
            color: #2d3748;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .roadmap-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .toggle-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #3182ce;
        }
        
        .roadmap-content {
            transition: all 0.3s ease;
        }
        
        .roadmap-content.hidden {
            display: none;
        }
        
        .roadmap-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .roadmap-stat {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .roadmap-stat .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .roadmap-stat .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .roadmap-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .roadmap-item {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .roadmap-item:hover {
            border-color: #667eea;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        
        .roadmap-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            gap: 15px;
        }
        
        .roadmap-item-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #2d3748;
            line-height: 1.3;
        }
        
        .roadmap-item-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-ready {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .status-planning {
            background: #fef5e7;
            color: #c05621;
        }
        
        .status-progress {
            background: #e6fffa;
            color: #234e52;
        }
        
        .status-completed {
            background: #e6fffa;
            color: #234e52;
        }
        
        .priority-high {
            border-left: 4px solid #e53e3e;
        }
        
        .priority-medium {
            border-left: 4px solid #d69e2e;
        }
        
        .priority-low {
            border-left: 4px solid #38a169;
        }
        
        .roadmap-item-details {
            margin: 15px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }
        
        .roadmap-detail {
            text-align: center;
        }
        
        .roadmap-detail-label {
            font-size: 0.75em;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 2px;
        }
        
        .roadmap-detail-value {
            font-weight: 600;
            color: #2d3748;
        }
        
        .complexity-stars {
            color: #ffd700;
        }
        
        .roadmap-description {
            background: #edf2f7;
            padding: 12px;
            border-radius: 6px;
            font-size: 0.9em;
            color: #4a5568;
            margin: 15px 0;
            line-height: 1.4;
        }
        
        .roadmap-item-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .view-roadmap-btn {
            background: #4299e1;
            color: white;
        }
        
        .view-roadmap-btn:hover {
            background: #3182ce;
        }
        
        .copy-command-btn {
            background: #48bb78;
            color: white;
        }
        
        .copy-command-btn:hover {
            background: #38a169;
        }
        
        .edit-roadmap-btn {
            background: #ed8936;
            color: white;
        }
        
        .edit-roadmap-btn:hover {
            background: #dd6b20;
        }
        
        .status-toggle-btn {
            background: #667eea;
            color: white;
        }
        
        .status-toggle-btn:hover {
            background: #5a67d8;
        }
        
        .mark-completed-btn {
            background: #48bb78;
            color: white;
        }
        
        .mark-completed-btn:hover {
            background: #38a169;
        }
        
        .mark-progress-btn {
            background: #ed8936;
            color: white;
        }
        
        .mark-progress-btn:hover {
            background: #dd6b20;
        }
        
        .mark-ready-btn {
            background: #4299e1;
            color: white;
        }
        
        .mark-ready-btn:hover {
            background: #3182ce;
        }
        
        .delete-roadmap-btn {
            background: #e53e3e;
            color: white;
        }
        
        .delete-roadmap-btn:hover {
            background: #c53030;
            transform: scale(1.05);
        }
        
        .roadmap-phases {
            margin: 15px 0;
            background: #f7fafc;
            border-radius: 8px;
            padding: 15px;
        }
        
        .phases-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .phases-progress {
            font-size: 0.9em;
            color: #4a5568;
        }
        
        .phase-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .phase-item:last-child {
            border-bottom: none;
        }
        
        .phase-status {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .phase-status.completed {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .phase-status.in-progress {
            background: #fef5e7;
            color: #c05621;
        }
        
        .phase-status.pending {
            background: #edf2f7;
            color: #4a5568;
            border: 2px solid #cbd5e0;
        }
        
        .phase-content {
            flex: 1;
        }
        
        .phase-title {
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 2px;
        }
        
        .phase-description {
            font-size: 0.85em;
            color: #718096;
            line-height: 1.3;
        }
        
        .phase-date {
            font-size: 0.75em;
            color: #48bb78;
            font-weight: 500;
        }
        
        .phase-toggle-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.75em;
            transition: all 0.2s ease;
        }
        
        .phase-toggle-btn:hover {
            background: #3182ce;
        }
        
        .phases-collapsed .phase-item {
            display: none;
        }
        
        .phases-collapsed .phase-item:first-child {
            display: flex;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #48bb78;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #e53e3e;
        }
        
        .create-roadmap-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .create-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .form-group label {
            font-weight: 600;
            color: #2d3748;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .create-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .create-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        
        .quick-actions {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .quick-actions h3 {
            color: #2d3748;
            margin-bottom: 15px;
        }
        
        .quick-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .quick-btn {
            background: #764ba2;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .quick-btn:hover {
            background: #6b46c1;
            transform: translateY(-2px);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç */
        .roadmap-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        
        .tab-btn {
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            padding: 12px 20px;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            border-bottom: none;
            font-size: 0.95em;
        }
        
        .tab-btn:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }
        
        .tab-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            box-shadow: 0 -2px 8px rgba(102, 126, 234, 0.2);
        }
        
        .filter-section {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .filter-group label {
            font-size: 0.85em;
            color: #4a5568;
            font-weight: 500;
        }
        
        .filter-group select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
        }
        
        .search-box {
            flex: 1;
            min-width: 200px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤ */
        .roadmap-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .roadmap-modal-content {
            background: white;
            width: 90%;
            max-width: 900px;
            max-height: 90%;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }
        
        .roadmap-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 12px 12px 0 0;
        }
        
        .roadmap-modal-header h2 {
            margin: 0;
            color: #2d3748;
            font-size: 1.5em;
        }
        
        .roadmap-modal-close {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 4px;
        }
        
        .roadmap-modal-close:hover {
            background: #e2e8f0;
            color: #2d3748;
        }
        
        .roadmap-modal-body {
            padding: 25px;
            overflow-y: auto;
            flex: 1;
        }
        
        .roadmap-modal-footer {
            display: flex;
            gap: 15px;
            padding: 20px 25px;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 0 0 12px 12px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .roadmap-list {
                grid-template-columns: 1fr;
            }
            
            .roadmap-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .create-form {
                grid-template-columns: 1fr;
            }
            
            .quick-buttons {
                justify-content: center;
            }
            
            .filter-section {
                justify-content: center;
            }
            
            .roadmap-modal-content {
                width: 95%;
                max-height: 95%;
            }
            
            .roadmap-modal-body {
                padding: 15px;
            }
            
            .roadmap-modal-footer {
                padding: 15px;
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üó∫Ô∏è HEYS ROADMAPS SUPERSYSTEM</h1>
            <div class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ä–æ–∂–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á</div>
            <div class="nav-links">
                <a href="super-diagnostic-center.html" class="nav-link">üè• –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä</a>
                <a href="#roadmaps" class="nav-link">üó∫Ô∏è –î–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã</a>
                <a href="#create" class="nav-link">‚ûï –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É</a>
                <a href="#analytics" class="nav-link">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="quick-buttons">
                <button class="quick-btn" onclick="roadmapSystem.createQuickRoadmap('[–ü–õ–ê–ù]')">üìã –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω</button>
                <button class="quick-btn" onclick="roadmapSystem.exportAllRoadmaps()">üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∫–∞—Ä—Ç</button>
                <button class="quick-btn" onclick="roadmapSystem.refreshData()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                <button class="quick-btn" onclick="roadmapSystem.openDocs()">üìö –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é</button>
            </div>
        </div>

        <!-- Roadmaps Section -->
        <div class="roadmap-section" id="roadmaps">
            <div class="roadmap-header">
                <h3>üó∫Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ä–æ–∂–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏</h3>
                <div class="roadmap-controls">
                    <button class="toggle-btn" onclick="roadmapSystem.toggleRoadmapContent()">
                        –°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å
                    </button>
                    <button class="toggle-btn" onclick="roadmapSystem.refreshRoadmaps()">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="roadmap-content" id="roadmapContent">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="roadmap-stats" id="roadmapStats">
                    <div class="roadmap-stat">
                        <div class="stat-value" id="totalRoadmaps">-</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∫–∞—Ä—Ç</div>
                    </div>
                    <div class="roadmap-stat">
                        <div class="stat-value" id="readyRoadmaps">-</div>
                        <div class="stat-label">–ì–æ—Ç–æ–≤—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</div>
                    </div>
                    <div class="roadmap-stat">
                        <div class="stat-value" id="inProgressRoadmaps">-</div>
                        <div class="stat-label">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
                    </div>
                    <div class="roadmap-stat">
                        <div class="stat-value" id="completedRoadmaps">-</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</div>
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="filter-section">
                    <!-- –î–æ–±–∞–≤–ª—è–µ–º –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö -->
                    <div class="roadmap-tabs">
                        <button class="tab-btn active" id="activeTab" onclick="roadmapSystem.switchTab('active')">
                            üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã
                        </button>
                        <button class="tab-btn" id="completedTab" onclick="roadmapSystem.switchTab('completed')">
                            ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã
                        </button>
                    </div>
                    
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é...">
                    </div>
                    <div class="filter-group">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="statusFilter">
                            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                            <option value="ready">–ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</option>
                            <option value="planning">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                            <option value="progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="priorityFilter">
                            <option value="">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
                        <select id="complexityFilter">
                            <option value="">–õ—é–±–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</option>
                            <option value="1">‚≠ê (1)</option>
                            <option value="2">‚≠ê‚≠ê (2)</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê (3)</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4)</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5)</option>
                        </select>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç -->
                <div class="roadmap-list" id="roadmapList">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript -->
                </div>
            </div>
        </div>

        <!-- Create Roadmap Section -->
        <div class="create-roadmap-section" id="create">
            <div class="roadmap-header">
                <h3>‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã</h3>
            </div>
            
            <div class="create-form">
                <div class="form-group">
                    <label for="roadmapTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                    <input type="text" id="roadmapTitle" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏">
                </div>
                
                <div class="form-group">
                    <label for="roadmapPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <select id="roadmapPriority">
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                        <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="roadmapComplexity">–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
                    <select id="roadmapComplexity">
                        <option value="1">‚≠ê –ü—Ä–æ—Å—Ç–∞—è</option>
                        <option value="2">‚≠ê‚≠ê –õ–µ–≥–∫–∞—è</option>
                        <option value="3">‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è</option>
                        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê –°–ª–æ–∂–Ω–∞—è</option>
                        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è</option>
                    </select>
                </div>
                
                <div class="form-group" style="grid-column: 1 / -1;">
                    <label for="roadmapDescription">–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="roadmapDescription" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∏—Ç—å, –∫–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–∂–∏–¥–∞–µ—Ç—Å—è..."></textarea>
                </div>
            </div>
            
            <button class="create-btn" onclick="roadmapSystem.createRoadmap()">
                üöÄ –°–æ–∑–¥–∞—Ç—å –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É
            </button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Roadmap System Manager
        class RoadmapSystem {
            constructor() {
                this.roadmaps = [];
                this.filteredRoadmaps = [];
                this.persisted = { roadmaps: {}, deleted: [] }; // –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                this.currentTab = 'active';
                this.roadmapFilesPath = '../docs/plans/';
                this.init();
            }
            
            // üöÄ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–ì–†–£–ó–ö–ê ROADMAPS –ò–ó –§–ê–ô–õ–û–í
            async loadRoadmapFiles() {
                try {
                    // –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ roadmaps –≤ –ø–∞–ø–∫–µ docs/plans
                    const roadmapFilesList = [
                        'UNIVERSAL_NAVIGATION_MAPS_SYSTEM.md',
                        'ENHANCED_ERROR_LOGGING_SYSTEM.md', 
                        'ROADMAPS_INTERACTIVE_SYSTEM.md',
                        'COMPREHENSIVE_SYSTEM_FIXES_ROADMAP.md',
                        'DOCS_ACTUALIZATION_SYSTEM.md'
                    ];
                    
                    const roadmaps = [];
                    
                    for (const filename of roadmapFilesList) {
                        try {
                            const response = await fetch(this.roadmapFilesPath + filename);
                            if (response.ok) {
                                const content = await response.text();
                                const roadmap = this.parseRoadmapFile(filename, content);
                                if (roadmap) {
                                    roadmaps.push(roadmap);
                                }
                            }
                        } catch (error) {
                            console.warn(`–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª ${filename}:`, error);
                        }
                    }
                    
                    return roadmaps;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ roadmaps –∏–∑ —Ñ–∞–π–ª–æ–≤:', error);
                    return null;
                }
            }
            
            // üìã –ü–ê–†–°–ò–ù–ì ROADMAP –§–ê–ô–õ–ê
            parseRoadmapFile(filename, content) {
                try {
                    // –ò–∑–≤–ª–µ–∫–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ñ–∞–π–ª–∞
                    const metadata = this.extractMetadata(content);
                    const phases = this.extractPhases(content);
                    
                    return {
                        id: filename.replace('.md', '').toLowerCase().replace(/_/g, '-'),
                        title: metadata.title || filename.replace('.md', '').replace(/_/g, ' '),
                        filename: filename,
                        status: metadata.status || 'ready',
                        priority: metadata.priority || 'medium',
                        complexity: metadata.complexity || 3,
                        created: metadata.created || new Date().toLocaleDateString('ru-RU'),
                        description: metadata.description || '–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...',
                        estimatedTime: metadata.estimatedTime || '–£—Ç–æ—á–Ω—è–µ—Ç—Å—è',
                        filesAffected: metadata.filesAffected || '–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞',
                        phases: phases,
                        completedDate: metadata.completedDate,
                        startedDate: metadata.startedDate
                    };
                } catch (error) {
                    console.error(`–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ñ–∞–π–ª–∞ ${filename}:`, error);
                    return null;
                }
            }
            
            // üîç –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –ú–ï–¢–ê–î–ê–ù–ù–´–• –ò–ó –§–ê–ô–õ–ê
            extractMetadata(content) {
                const metadata = {};
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
                const titleMatch = content.match(/^#\s+(.+)/m);
                if (titleMatch) {
                    metadata.title = titleMatch[1].replace(/[üìöüéØüó∫Ô∏è‚ö°üöÄ]/g, '').trim();
                }
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Ç–∞—Ç—É—Å
                const statusMatch = content.match(/\*\*–°—Ç–∞—Ç—É—Å:\*\*\s*(.+)/);
                if (statusMatch) {
                    const statusText = statusMatch[1].toLowerCase();
                    if (statusText.includes('–∑–∞–≤–µ—Ä—à–µ–Ω') || statusText.includes('completed') || statusText.includes('‚úÖ')) {
                        metadata.status = 'completed';
                    } else if (statusText.includes('–ø—Ä–æ–≥—Ä–µ—Å—Å') || statusText.includes('progress') || statusText.includes('üîÑ')) {
                        metadata.status = 'progress';
                    } else if (statusText.includes('–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω') || statusText.includes('planning') || statusText.includes('üîÑ')) {
                        metadata.status = 'planning';
                    } else {
                        metadata.status = 'ready';
                    }
                }
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
                const descMatch = content.match(/##\s+üéØ\s+–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞\s*\n\n(.+?)(?=\n\n##|\n\n$)/s);
                if (descMatch) {
                    metadata.description = descMatch[1].replace(/\n/g, ' ').trim().substring(0, 200) + '...';
                }
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Ä–µ–º—è
                const timeMatch = content.match(/\*\*–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:\*\*\s*(.+)/);
                if (timeMatch) {
                    metadata.estimatedTime = timeMatch[1].trim();
                }
                
                return metadata;
            }
            
            // üìù –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –≠–¢–ê–ü–û–í –ò–ó –§–ê–ô–õ–ê
            extractPhases(content) {
                const phases = [];
                
                // –ò—â–µ–º —ç—Ç–∞–ø—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ "### üèóÔ∏è **–≠—Ç–∞–ø N: –ù–∞–∑–≤–∞–Ω–∏–µ**"
                const phaseMatches = content.match(/###\s*[üèóÔ∏èüîßüé®ü§ñüåê]*\s*\*\*–≠—Ç–∞–ø\s*\d+:\s*(.+?)\*\*/g);
                
                if (phaseMatches) {
                    phaseMatches.forEach((match, index) => {
                        const titleMatch = match.match(/–≠—Ç–∞–ø\s*\d+:\s*(.+?)\*\*/);
                        if (titleMatch) {
                            phases.push({
                                id: `phase${index + 1}`,
                                title: titleMatch[1].trim(),
                                status: 'pending',
                                description: `–≠—Ç–∞–ø ${index + 1} —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞`
                            });
                        }
                    });
                }
                
                // –ï—Å–ª–∏ —ç—Ç–∞–ø–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ
                if (phases.length === 0) {
                    phases.push(
                        { id: 'phase1', title: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑', status: 'pending', description: '–î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π' },
                        { id: 'phase2', title: '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏', status: 'pending', description: '–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤' },
                        { id: 'phase3', title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞', status: 'pending', description: '–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫' },
                        { id: 'phase4', title: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è', status: 'pending', description: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π' }
                    );
                }
                
                return phases;
            }

            async init() {
                console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RoadmapSystem...');
                
                // –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                this.loadFromLocalStorage();
                console.log(`üíæ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ localStorage: ${Object.keys(this.persisted.roadmaps).length} —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö roadmaps, ${this.persisted.deleted.length} —É–¥–∞–ª–µ–Ω–Ω—ã—Ö`);
                
                // –ó–∞—Ç–µ–º –∑–∞–≥—Ä—É–∂–∞–µ–º roadmaps –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
                await this.loadRoadmaps();
                console.log(`üìÇ –ó–∞–≥—Ä—É–∂–µ–Ω–æ roadmaps: ${this.roadmaps.length}`);
                
                this.autoUpdateRoadmapStatuses(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å—ã
                this.setupEventListeners();
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É "–ê–∫—Ç–∏–≤–Ω—ã–µ" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
                this.switchTab('active', true);
                
                console.log('‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            }

            setupEventListeners() {
                // –ü–æ–∏—Å–∫
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.filterRoadmaps();
                });

                // –§–∏–ª—å—Ç—Ä—ã
                ['statusFilter', 'priorityFilter', 'complexityFilter'].forEach(id => {
                    document.getElementById(id).addEventListener('change', () => {
                        this.filterRoadmaps();
                    });
                });
            }

            async loadRoadmaps() {
                /* 1. —á–∏—Ç–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ */
                this.loadFromLocalStorage();

                /* 2. –≥—Ä—É–∑–∏–º MD-—Ñ–∞–π–ª—ã */
                const list = await this.loadRoadmapFiles() || [];   // [] –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
                const fresh = new Map(list.map(r => [r.id, r]));

                /* 3. –º–µ—Ä–∂–∏–º:  MD-—Ñ–∞–π–ª ‚ü∂ –ø–æ–≤–µ—Ä—Ö —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ  */
                Object.entries(this.persisted.roadmaps).forEach(([id, saved]) => {
                    if (fresh.has(id)) {
                        fresh.set(id, { ...fresh.get(id), ...saved });
                    }
                });

                /* 4. —É–¥–∞–ª—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏—Å–∫–ª—é—á–∞–µ–º */
                this.roadmaps = [...fresh.values()]
                               .filter(r => !this.persisted.deleted.includes(r.id));

                this.filterRoadmaps();   // –ø–æ—Å—Ç—Ä–æ–∏—Ç—å filteredRoadmaps + render + stats
                
                if (list.length > 0) {
                    console.log(`‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${list.length} roadmaps –∏–∑ —Ñ–∞–π–ª–æ–≤`);
                    this.showNotification(`üìÇ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${list.length} –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç`, 'success');
                } else {
                    console.warn('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å roadmaps –∏–∑ —Ñ–∞–π–ª–æ–≤');
                    this.showNotification('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ docs/plans/', 'warning');
                }
            }

            filterRoadmaps() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                const statusFilter = document.getElementById('statusFilter').value;
                const priorityFilter = document.getElementById('priorityFilter').value;
                const complexityFilter = document.getElementById('complexityFilter').value;

                let baseRoadmaps = [...this.roadmaps];
                
                // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–µ (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ)
                if (this.currentTab === 'active') {
                    baseRoadmaps = baseRoadmaps.filter(roadmap => roadmap.status !== 'completed');
                } else if (this.currentTab === 'completed') {
                    baseRoadmaps = baseRoadmaps.filter(roadmap => roadmap.status === 'completed');
                }

                this.filteredRoadmaps = baseRoadmaps.filter(roadmap => {
                    const matchesSearch = !searchTerm || 
                        roadmap.title.toLowerCase().includes(searchTerm) ||
                        roadmap.description.toLowerCase().includes(searchTerm);
                    
                    const matchesStatus = !statusFilter || roadmap.status === statusFilter;
                    const matchesPriority = !priorityFilter || roadmap.priority === priorityFilter;
                    const matchesComplexity = !complexityFilter || roadmap.complexity.toString() === complexityFilter;

                    return matchesSearch && matchesStatus && matchesPriority && matchesComplexity;
                });

                this.renderRoadmaps();
                this.updateStats();
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
            switchTab(tab, silent = false) {
                console.log(`üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É: ${tab}`);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É
                this.currentTab = tab;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.getElementById(tab + 'Tab').classList.add('active');
                
                // –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö
                const statusFilter = document.getElementById('statusFilter');
                if (tab === 'completed') {
                    // –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ completed
                    statusFilter.value = 'completed';
                    statusFilter.disabled = true;
                } else {
                    // –î–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∫—Ä–æ–º–µ completed
                    statusFilter.disabled = false;
                    if (statusFilter.value === 'completed') {
                        statusFilter.value = '';
                    }
                }
                
                // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫
                this.filterRoadmaps();
                
                // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                const activeCount = this.roadmaps.filter(r => r.status !== 'completed').length;
                const completedCount = this.roadmaps.filter(r => r.status === 'completed').length;
                console.log(`üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ê–∫—Ç–∏–≤–Ω—ã—Ö: ${activeCount}, –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö: ${completedCount}, –ü–æ–∫–∞–∑–∞–Ω–æ: ${this.filteredRoadmaps.length}`);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ silent
                if (!silent) {
                    this.showNotification(`üìã –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞: ${tab === 'active' ? '–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã' : '–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã'}`);
                }
            }

            renderRoadmaps() {
                const container = document.getElementById('roadmapList');
                
                if (this.filteredRoadmaps.length === 0) {
                    container.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666;">
                            <h3>üîç –î–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.filteredRoadmaps.map(roadmap => `
                    <div class="roadmap-item priority-${roadmap.priority}">
                        <div class="roadmap-item-header">
                            <div class="roadmap-item-title">${roadmap.title}</div>
                            <div class="roadmap-item-status status-${roadmap.status}">
                                ${this.getStatusLabel(roadmap.status)}
                            </div>
                        </div>
                        
                        <div class="roadmap-item-details">
                            <div class="roadmap-detail">
                                <div class="roadmap-detail-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
                                <div class="roadmap-detail-value">${this.getPriorityLabel(roadmap.priority)}</div>
                            </div>
                            <div class="roadmap-detail">
                                <div class="roadmap-detail-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å</div>
                                <div class="roadmap-detail-value complexity-stars">${'‚≠ê'.repeat(roadmap.complexity)}</div>
                            </div>
                            <div class="roadmap-detail">
                                <div class="roadmap-detail-label">–í—Ä–µ–º—è</div>
                                <div class="roadmap-detail-value">${roadmap.estimatedTime}</div>
                            </div>
                            <div class="roadmap-detail">
                                <div class="roadmap-detail-label">–°–æ–∑–¥–∞–Ω–æ</div>
                                <div class="roadmap-detail-value">${roadmap.created}</div>
                            </div>
                            ${roadmap.completedDate ? `
                                <div class="roadmap-detail">
                                    <div class="roadmap-detail-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                                    <div class="roadmap-detail-value" style="color: #48bb78; font-weight: bold;">‚úÖ ${roadmap.completedDate}</div>
                                </div>
                            ` : ''}
                            ${roadmap.startedDate && roadmap.status === 'progress' ? `
                                <div class="roadmap-detail">
                                    <div class="roadmap-detail-label">–ù–∞—á–∞—Ç–æ</div>
                                    <div class="roadmap-detail-value" style="color: #ed8936; font-weight: bold;">üöÄ ${roadmap.startedDate}</div>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="roadmap-description">
                            ${roadmap.description}
                        </div>
                        
                        <div class="roadmap-phases" id="phases-${roadmap.id}">
                            <div class="phases-header">
                                <span>üìã –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</span>
                                <div class="phases-progress">
                                    ${this.getPhaseProgress(roadmap.phases)}
                                    <button class="phase-toggle-btn" onclick="roadmapSystem.togglePhases('${roadmap.id}')">
                                        ‚ñº –°–≤–µ—Ä–Ω—É—Ç—å
                                    </button>
                                </div>
                            </div>
                            ${roadmap.phases.map(phase => `
                                <div class="phase-item">
                                    <div class="phase-status ${phase.status}">
                                        ${this.getPhaseIcon(phase.status)}
                                    </div>
                                    <div class="phase-content">
                                        <div class="phase-title">${phase.title}</div>
                                        <div class="phase-description">${phase.description}</div>
                                        ${phase.completedDate ? `<div class="phase-date">‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: ${phase.completedDate}</div>` : ''}
                                    </div>
                                    ${phase.status === 'pending' ? `
                                        <button class="action-btn mark-progress-btn" style="font-size: 0.75em; padding: 4px 8px;" onclick="roadmapSystem.markPhaseInProgress('${roadmap.id}', '${phase.id}')">
                                            üöÄ –ù–∞—á–∞—Ç—å
                                        </button>
                                    ` : ''}
                                    ${phase.status === 'in-progress' ? `
                                        <button class="action-btn mark-completed-btn" style="font-size: 0.75em; padding: 4px 8px;" onclick="roadmapSystem.markPhaseCompleted('${roadmap.id}', '${phase.id}')">
                                            ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å
                                        </button>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="font-size: 0.85em; color: #666; margin: 10px 0;">
                            <strong>–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã:</strong> ${roadmap.filesAffected}
                        </div>
                        
                        <div class="roadmap-item-actions">
                            <button class="action-btn view-roadmap-btn" onclick="roadmapSystem.viewRoadmap('${roadmap.filename}')">
                                üëÅÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞–Ω
                            </button>
                            <button class="action-btn copy-command-btn" onclick="roadmapSystem.copyImplementCommand('${roadmap.filename}')">
                                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
                            </button>
                            ${roadmap.status !== 'completed' ? `
                                <button class="action-btn mark-completed-btn" onclick="roadmapSystem.markAsCompleted('${roadmap.id}')">
                                    ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
                                </button>
                            ` : ''}
                            ${roadmap.status !== 'progress' && roadmap.status !== 'completed' ? `
                                <button class="action-btn mark-progress-btn" onclick="roadmapSystem.markAsInProgress('${roadmap.id}')">
                                    üöÄ –í —Ä–∞–±–æ—Ç—É
                                </button>
                            ` : ''}
                            ${roadmap.status === 'completed' ? `
                                <button class="action-btn mark-ready-btn" onclick="roadmapSystem.markAsReady('${roadmap.id}')">
                                    üîÑ –í–µ—Ä–Ω—É—Ç—å –≤ –≥–æ—Ç–æ–≤–æ
                                </button>
                            ` : ''}
                            <button class="action-btn edit-roadmap-btn" onclick="roadmapSystem.editRoadmap('${roadmap.id}')">
                                ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                            <button class="action-btn delete-roadmap-btn" onclick="roadmapSystem.confirmDeleteRoadmap('${roadmap.id}')">
                                üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            updateStats() {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞–∫–∏–µ –∫–∞—Ä—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∫–ª–∞–¥–∫–∏
                let roadmapsToCount = this.roadmaps;
                if (this.currentTab === 'active') {
                    roadmapsToCount = this.roadmaps.filter(r => r.status !== 'completed');
                } else if (this.currentTab === 'completed') {
                    roadmapsToCount = this.roadmaps.filter(r => r.status === 'completed');
                }

                const stats = {
                    total: roadmapsToCount.length,
                    ready: roadmapsToCount.filter(r => r.status === 'ready').length,
                    inProgress: roadmapsToCount.filter(r => r.status === 'progress').length,
                    completed: roadmapsToCount.filter(r => r.status === 'completed').length
                };

                document.getElementById('totalRoadmaps').textContent = stats.total;
                document.getElementById('readyRoadmaps').textContent = stats.ready;
                document.getElementById('inProgressRoadmaps').textContent = stats.inProgress;
                document.getElementById('completedRoadmaps').textContent = stats.completed;
            }

            getStatusLabel(status) {
                const labels = {
                    'ready': 'üìã –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏',
                    'planning': 'üîç –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
                    'progress': 'üöÄ –í –ø—Ä–æ—Ü–µ—Å—Å–µ',
                    'completed': '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω'
                };
                return labels[status] || status;
            }

            getPriorityLabel(priority) {
                const labels = {
                    'high': 'üî• –í—ã—Å–æ–∫–∏–π',
                    'medium': '‚ö° –°—Ä–µ–¥–Ω–∏–π',
                    'low': 'üìù –ù–∏–∑–∫–∏–π'
                };
                return labels[priority] || priority;
            }

            getPhaseProgress(phases) {
                const completed = phases.filter(p => p.status === 'completed').length;
                const total = phases.length;
                return `${completed}/${total} —ç—Ç–∞–ø–æ–≤`;
            }

            getPhaseIcon(status) {
                const icons = {
                    'completed': '‚úì',
                    'in-progress': '‚ö°',
                    'pending': '‚óã'
                };
                return icons[status] || '?';
            }

            togglePhases(roadmapId) {
                const phasesContainer = document.getElementById(`phases-${roadmapId}`);
                const button = phasesContainer.querySelector('.phase-toggle-btn');
                
                if (phasesContainer.classList.contains('phases-collapsed')) {
                    phasesContainer.classList.remove('phases-collapsed');
                    button.textContent = '‚ñº –°–≤–µ—Ä–Ω—É—Ç—å';
                } else {
                    phasesContainer.classList.add('phases-collapsed');
                    button.textContent = '‚ñ∂ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å';
                }
            }

            markPhaseInProgress(roadmapId, phaseId) {
                const roadmap = this.roadmaps.find(r => r.id === roadmapId);
                if (roadmap) {
                    const phase = roadmap.phases.find(p => p.id === phaseId);
                    if (phase) {
                        phase.status = 'in-progress';
                        phase.startedDate = new Date().toLocaleDateString('ru-RU');
                        this.updateRoadmapStatus(roadmap);
                        this.renderRoadmaps();
                        this.updateStats();
                        this.saveToLocalStorage();
                        this.showNotification(`üöÄ –≠—Ç–∞–ø "${phase.title}" –≤–∑—è—Ç –≤ —Ä–∞–±–æ—Ç—É!`);
                    }
                }
            }

            markPhaseCompleted(roadmapId, phaseId) {
                const roadmap = this.roadmaps.find(r => r.id === roadmapId);
                if (roadmap) {
                    const phase = roadmap.phases.find(p => p.id === phaseId);
                    if (phase) {
                        phase.status = 'completed';
                        phase.completedDate = new Date().toLocaleDateString('ru-RU');
                        
                        const oldStatus = roadmap.status;
                        this.updateRoadmapStatus(roadmap);
                        
                        // –ï—Å–ª–∏ –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ"
                        if (oldStatus !== 'completed' && roadmap.status === 'completed') {
                            setTimeout(() => {
                                this.switchTab('completed');
                            }, 1500);
                            this.showNotification(`‚úÖ –≠—Ç–∞–ø "${phase.title}" –∑–∞–≤–µ—Ä—à–µ–Ω! –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ "${roadmap.title}" –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞!`);
                        } else {
                            this.showNotification(`‚úÖ –≠—Ç–∞–ø "${phase.title}" –∑–∞–≤–µ—Ä—à–µ–Ω!`);
                        }
                        
                        this.renderRoadmaps();
                        this.updateStats();
                        this.saveToLocalStorage();
                    }
                }
            }

            updateRoadmapStatus(roadmap) {
                const phases = roadmap.phases;
                const completedPhases = phases.filter(p => p.status === 'completed').length;
                const inProgressPhases = phases.filter(p => p.status === 'in-progress').length;
                
                if (completedPhases === phases.length) {
                    roadmap.status = 'completed';
                    if (!roadmap.completedDate) {
                        roadmap.completedDate = new Date().toLocaleDateString('ru-RU');
                    }
                } else if (inProgressPhases > 0 || completedPhases > 0) {
                    roadmap.status = 'progress';
                    if (!roadmap.startedDate) {
                        roadmap.startedDate = new Date().toLocaleDateString('ru-RU');
                    }
                } else {
                    roadmap.status = 'ready';
                    delete roadmap.startedDate;
                    delete roadmap.completedDate;
                }
            }

            autoUpdateRoadmapStatuses() {
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                this.roadmaps.forEach(roadmap => {
                    if (roadmap.id === 'enhanced-error-logging') {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ Enhanced Error Logging System
                        this.checkEnhancedErrorLoggingStatus(roadmap);
                    } else if (roadmap.id === 'universal-navigation-maps') {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
                        this.checkNavigationMapsStatus(roadmap);
                    } else if (roadmap.id === 'performance-optimization') {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                        this.checkPerformanceOptimizationStatus(roadmap);
                    } else if (roadmap.id === 'comprehensive-system-fixes') {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
                        this.checkComprehensiveFixesStatus(roadmap);
                    } else if (roadmap.id === 'roadmaps-interactive-system') {
                        // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
                        this.checkRoadmapsInteractiveSystemStatus(roadmap);
                    }
                });
            }

            checkEnhancedErrorLoggingStatus(roadmap) {
                // Enhanced Error Logging –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
                roadmap.phases.forEach(phase => {
                    if (phase.status !== 'completed') {
                        phase.status = 'completed';
                        phase.completedDate = '26.08.2025';
                    }
                });
                this.updateRoadmapStatus(roadmap);
            }

            checkNavigationMapsStatus(roadmap) {
                // –ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
                // –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
            }

            checkPerformanceOptimizationStatus(roadmap) {
                // –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –ø–µ—Ä–≤—ã–π —ç—Ç–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω
                if (roadmap.phases[0].status !== 'completed') {
                    roadmap.phases[0].status = 'completed';
                    roadmap.phases[0].completedDate = '26.08.2025';
                }
                if (roadmap.phases[1].status !== 'in-progress') {
                    roadmap.phases[1].status = 'in-progress';
                    roadmap.phases[1].startedDate = '26.08.2025';
                }
                this.updateRoadmapStatus(roadmap);
            }

            checkComprehensiveFixesStatus(roadmap) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
                // –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫ - –≤—Å–µ —ç—Ç–∞–ø—ã –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
                // –ù–æ –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
                roadmap.phases.forEach(phase => {
                    if (phase.status === 'completed') {
                        // –ï—Å–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —ç—Ç–∞–ø—ã —É–∂–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –≤ localStorage
                        // –æ—Å—Ç–∞–≤–ª—è–µ–º –∏—Ö —Å—Ç–∞—Ç—É—Å
                    }
                });
                this.updateRoadmapStatus(roadmap);
            }

            checkRoadmapsInteractiveSystemStatus(roadmap) {
                // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
                roadmap.phases.forEach(phase => {
                    if (phase.status !== 'completed') {
                        phase.status = 'completed';
                        phase.completedDate = '26.08.2025';
                    }
                });
                this.updateRoadmapStatus(roadmap);
            }

            viewRoadmap(filename) {
                const path = `../docs/plans/${filename}`;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
                fetch(path)
                    .then(response => {
                        if (response.ok) {
                            return response.text();
                        } else {
                            throw new Error(`–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: ${path}`);
                        }
                    })
                    .then(content => {
                        this.showRoadmapModal(filename, content);
                    })
                    .catch(() => {
                        this.showNotification(`‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª ${filename}`, 'error');
                    });
            }

            showRoadmapModal(filename, content) {
                // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–∞–Ω–∞
                const modal = document.createElement('div');
                modal.className = 'roadmap-modal';
                
                const modalContent = document.createElement('div');
                modalContent.className = 'roadmap-modal-content';
                
                modalContent.innerHTML = `
                    <div class="roadmap-modal-header">
                        <h2>üìã ${filename}</h2>
                        <button class="roadmap-modal-close">‚úï</button>
                    </div>
                    <div class="roadmap-modal-body">
                        <pre style="white-space: pre-wrap; font-family: 'Segoe UI', sans-serif; line-height: 1.6; color: #333;"></pre>
                    </div>
                    <div class="roadmap-modal-footer">
                        <button class="action-btn copy-plan-btn">
                            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω
                        </button>
                        <button class="action-btn close-modal-btn">
                            ‚ùå –ó–∞–∫—Ä—ã—Ç—å
                        </button>
                    </div>
                `;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∫–∞–≤—ã—á–∫–∞–º–∏
                const preElement = modalContent.querySelector('pre');
                preElement.textContent = content;
                
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                modalContent.querySelector('.roadmap-modal-close').addEventListener('click', () => {
                    modal.remove();
                });
                
                modalContent.querySelector('.close-modal-btn').addEventListener('click', () => {
                    modal.remove();
                });
                
                modalContent.querySelector('.copy-plan-btn').addEventListener('click', () => {
                    if (navigator.clipboard) {
                        navigator.clipboard.writeText(content).then(() => {
                            this.showNotification('üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
                        });
                    } else {
                        this.fallbackCopy(content);
                    }
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
            }

            copyImplementCommand(filename) {
                const command = `[–†–ï–ê–õ–ò–ó–û–í–ê–¢–¨] ${filename}`;
                
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(command).then(() => {
                        this.showNotification(`üìã –ö–æ–º–∞–Ω–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞: ${command}`);
                    }).catch(() => {
                        this.fallbackCopy(command);
                    });
                } else {
                    this.fallbackCopy(command);
                }
            }

            fallbackCopy(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    this.showNotification(`üìã –ö–æ–º–∞–Ω–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞: ${text}`);
                } catch (err) {
                    this.showNotification('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É', 'error');
                }
                
                document.body.removeChild(textArea);
            }

            createRoadmap() {
                const title = document.getElementById('roadmapTitle').value.trim();
                const priority = document.getElementById('roadmapPriority').value;
                const complexity = parseInt(document.getElementById('roadmapComplexity').value);
                const description = document.getElementById('roadmapDescription').value.trim();

                if (!title || !description) {
                    this.showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏', 'error');
                    return;
                }

                // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ò–ò
                const command = `[–ü–õ–ê–ù] ${title}\n\n–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ${priority}\n–°–ª–æ–∂–Ω–æ—Å—Ç—å: ${complexity} –∑–≤–µ–∑–¥\n\n–û–ø–∏—Å–∞–Ω–∏–µ:\n${description}`;
                
                // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(command).then(() => {
                        this.showNotification('üöÄ –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞! –í—Å—Ç–∞–≤—å—Ç–µ –µ—ë –≤ —á–∞—Ç —Å –ò–ò.');
                        this.clearCreateForm();
                    });
                } else {
                    this.fallbackCopy(command);
                    this.clearCreateForm();
                }
            }

            clearCreateForm() {
                document.getElementById('roadmapTitle').value = '';
                document.getElementById('roadmapDescription').value = '';
                document.getElementById('roadmapPriority').value = 'medium';
                document.getElementById('roadmapComplexity').value = '3';
            }

            createQuickRoadmap(prefix) {
                const description = prompt('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã:');
                if (description && description.trim()) {
                    const command = `${prefix} ${description.trim()}`;
                    
                    if (navigator.clipboard) {
                        navigator.clipboard.writeText(command).then(() => {
                            this.showNotification(`üìã –ö–æ–º–∞–Ω–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞: ${command}`);
                        });
                    } else {
                        this.fallbackCopy(command);
                    }
                }
            }

            exportAllRoadmaps() {
                const data = {
                    exported: new Date().toISOString(),
                    roadmaps: this.roadmaps,
                    stats: {
                        total: this.roadmaps.length,
                        ready: this.roadmaps.filter(r => r.status === 'ready').length,
                        inProgress: this.roadmaps.filter(r => r.status === 'progress').length,
                        completed: this.roadmaps.filter(r => r.status === 'completed').length
                    }
                };

                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `heys-roadmaps-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                this.showNotification('üì§ –î–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã');
            }

            refreshData() {
                this.loadRoadmaps().then(() => {
                    this.showNotification('üîÑ –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
                });
            }

            refreshRoadmaps() {
                this.refreshData();
            }

            openDocs() {
                window.open('../docs/', '_blank');
            }

            markAsCompleted(id) {
                const roadmap = this.roadmaps.find(r => r.id === id);
                if (roadmap) {
                    console.log(`üîÑ –û—Ç–º–µ—á–∞–µ–º –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é: ${roadmap.title} (ID: ${id})`);
                    
                    roadmap.status = 'completed';
                    roadmap.completedDate = new Date().toLocaleDateString('ru-RU');
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    this.saveToLocalStorage();
                    
                    console.log(`üíæ –°—Ç–∞—Ç—É—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω: ${roadmap.title} = ${roadmap.status}`);
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ"
                    setTimeout(() => {
                        this.switchTab('completed');
                    }, 1000);
                    
                    this.renderRoadmaps();
                    this.updateStats();
                    this.showNotification(`‚úÖ "${roadmap.title}" –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è! –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ"...`);
                }
            }

            markAsInProgress(id) {
                const roadmap = this.roadmaps.find(r => r.id === id);
                if (roadmap) {
                    roadmap.status = 'progress';
                    roadmap.startedDate = new Date().toLocaleDateString('ru-RU');
                    
                    // –£–±–µ–∂–¥–∞–µ–º—Å—è —á—Ç–æ –º—ã –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ê–∫—Ç–∏–≤–Ω—ã–µ"
                    if (this.currentTab !== 'active') {
                        this.switchTab('active');
                    }
                    
                    this.renderRoadmaps();
                    this.updateStats();
                    this.saveToLocalStorage();
                    this.showNotification(`üöÄ "${roadmap.title}" –≤–∑—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É!`);
                }
            }

            markAsReady(id) {
                const roadmap = this.roadmaps.find(r => r.id === id);
                if (roadmap) {
                    roadmap.status = 'ready';
                    delete roadmap.completedDate;
                    delete roadmap.startedDate;
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ê–∫—Ç–∏–≤–Ω—ã–µ"
                    this.switchTab('active');
                    
                    this.renderRoadmaps();
                    this.updateStats();
                    this.saveToLocalStorage();
                    this.showNotification(`üîÑ "${roadmap.title}" –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –≤ —Å—Ç–∞—Ç—É—Å "–ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"`);
                }
            }

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã
            confirmDeleteRoadmap(id) {
                const roadmap = this.roadmaps.find(r => r.id === id);
                if (roadmap) {
                    const isConfirmed = confirm(
                        `‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É?\n\n` +
                        `"${roadmap.title}"\n\n` +
                        `–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!`
                    );
                    
                    if (isConfirmed) {
                        this.deleteRoadmap(id);
                    }
                }
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã
            deleteRoadmap(id) {
                const roadmapIndex = this.roadmaps.findIndex(r => r.id === id);
                if (roadmapIndex !== -1) {
                    const deletedRoadmap = this.roadmaps[roadmapIndex];
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º ID –≤ —Å–ø–∏—Å–æ–∫ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö
                    this.persisted.deleted.push(id);
                    
                    // –£–¥–∞–ª—è–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞
                    this.roadmaps.splice(roadmapIndex, 1);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
                    this.renderRoadmaps();
                    this.updateStats();
                    this.saveToLocalStorage();
                    
                    this.showNotification(`üóëÔ∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ "${deletedRoadmap.title}" —É–¥–∞–ª–µ–Ω–∞`);
                }
            }

            saveToLocalStorage() {
                try {
                    const obj = {
                        roadmaps: Object.fromEntries(this.roadmaps.map(r => [r.id, {
                            status: r.status,
                            completedDate: r.completedDate,
                            startedDate: r.startedDate,
                            phases: r.phases.map(p => ({
                                id: p.id,
                                status: p.status,
                                completedDate: p.completedDate,
                                startedDate: p.startedDate
                            }))
                        }])),
                        deleted: this.persisted.deleted
                    };
                    localStorage.setItem('heys-roadmaps-status', JSON.stringify(obj));
                    this.persisted = obj;
                } catch (error) {
                    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ localStorage:', error);
                }
            }

            loadFromLocalStorage() {
                try {
                    const raw = localStorage.getItem('heys-roadmaps-status');
                    if (raw) {
                        const saveData = JSON.parse(raw);
                        
                        // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
                        if (Array.isArray(saveData)) {
                            // –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º
                            this.persisted.roadmaps = {};
                            saveData.forEach(roadmap => {
                                this.persisted.roadmaps[roadmap.id] = roadmap;
                            });
                            this.persisted.deleted = [];
                        } else {
                            // –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
                            this.persisted = {
                                roadmaps: saveData.roadmaps || {},
                                deleted: saveData.deleted || saveData.deletedRoadmapIds || []
                            };
                        }
                    }
                } catch (error) {
                    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage:', error);
                    this.persisted = { roadmaps: {}, deleted: [] };
                }
            }

            applySavedStatuses() {
                if (!this.savedRoadmaps || this.savedRoadmaps.length === 0) {
                    return;
                }

                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º roadmaps
                this.savedRoadmaps.forEach(savedRoadmap => {
                    const roadmap = this.roadmaps.find(r => r.id === savedRoadmap.id);
                    if (roadmap) {
                        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å
                        roadmap.status = savedRoadmap.status;
                        
                        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã
                        if (savedRoadmap.completedDate) {
                            roadmap.completedDate = savedRoadmap.completedDate;
                        }
                        if (savedRoadmap.startedDate) {
                            roadmap.startedDate = savedRoadmap.startedDate;
                        }
                        
                        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã —ç—Ç–∞–ø–æ–≤
                        if (savedRoadmap.phases && roadmap.phases) {
                            savedRoadmap.phases.forEach(savedPhase => {
                                const phase = roadmap.phases.find(p => p.id === savedPhase.id);
                                if (phase) {
                                    phase.status = savedPhase.status;
                                    if (savedPhase.completedDate) {
                                        phase.completedDate = savedPhase.completedDate;
                                    }
                                    if (savedPhase.startedDate) {
                                        phase.startedDate = savedPhase.startedDate;
                                    }
                                }
                            });
                        }
                    }
                });

                console.log(`‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è ${Object.keys(this.persisted.roadmaps).length} –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç`);
            }

            editRoadmap(id) {
                this.showNotification('‚úèÔ∏è –§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö');
            }

            toggleRoadmapContent() {
                const content = document.getElementById('roadmapContent');
                content.classList.toggle('hidden');
            }

            showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.classList.add('show');

                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
        const roadmapSystem = new RoadmapSystem();

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
        setInterval(() => {
            roadmapSystem.refreshData();
        }, 300000);
    </script>
</body>
</html>
