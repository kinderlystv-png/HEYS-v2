# TODO ‚Äî HEYS v2

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-12-19 | üìä
[DATA_MODEL_REFERENCE.md](./docs/DATA_MODEL_REFERENCE.md) | ‚úÖ
[done.md](./done.md) | üìã [–ë–†–ò–§](./docs/HEYS_BRIEF.md)

> –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏. –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ ‚Üí `done.md`.
>
> **Widgets = Light-—Ä–µ–∂–∏–º** (–æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç Light/META –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è)

---

## üöÄ MVP Launch (–±–ª–æ–∫–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞)

### P0 ‚Äî –ë–∏–∑–Ω–µ—Å-—è–¥—Ä–æ

- üí≥ **–ü–ª–∞—Ç–µ–∂–∏ + —Å—Ç–∞—Ç—É—Å—ã –ø–æ–¥–ø–∏—Å–∫–∏** ‚Äî –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞, –æ–ø–ª–∞—Ç–∞, webhook | 6-10—á
  - [ ] –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞ (Base 1990‚ÇΩ / Pro 12990‚ÇΩ / Pro+ 19990‚ÇΩ)
  - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–ÆKassa/Stripe)
  - [ ] –°—Ç–∞—Ç—É—Å—ã: `trial` ‚Üí `active` ‚Üí `read_only` ‚Üí `canceled`
  - [ ] –§–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è —á–µ–∫–æ–≤ (54-–§–ó)

- üÜì **–¢—Ä–∏–∞–ª-–º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π** ‚Äî –ø—Ä–æ–±–Ω–∞—è –Ω–µ–¥–µ–ª—è Pro | 3-4—á
  - [ ] –°–æ—Å—Ç–æ—è–Ω–∏—è: `pending` (–¥–æ –ø–µ—Ä–≤–æ–≥–æ ‚úÖ) ‚Üí `active` (7 –¥–Ω–µ–π) ‚Üí `ended`
  - [ ] –¢–∞–π–º–µ—Ä –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –≤–Ω–µ—Å—ë–Ω–Ω–æ–≥–æ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏
  - [ ] UI: ¬´–¢—Ä–∏–∞–ª –∞–∫—Ç–∏–≤–µ–Ω: X –¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å¬ª
  - [ ] Day 7: —Å–∞–º–º–∞—Ä–∏ + CTA ¬´–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ¬ª

- üîí **Read-only —Ä–µ–∂–∏–º** ‚Äî –≥–µ–π—Ç–∏–Ω–≥ –ø–æ—Å–ª–µ –Ω–µ–æ–ø–ª–∞—Ç—ã | 2-3—á
  - [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏ ‚Äî –î–ê
  - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥—ã/—Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ ‚Äî –ù–ï–¢
  - [ ] –ë–∞–Ω–Ω–µ—Ä ¬´–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞¬ª + CTA

- üìú **–Æ—Ä–∏–¥–∏–∫–∞ v1** ‚Äî —Å–æ–≥–ª–∞—Å–∏—è –∏ –¥–∏—Å–∫–ª–µ–π–º–µ—Ä—ã | 4-6—á
  - [ ] –û—Ñ–µ—Ä—Ç–∞/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
  - [ ] –°–æ–≥–ª–∞—Å–∏–µ –ü–î–Ω + —Å–ø–µ—Ü–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∑–¥–æ—Ä–æ–≤—å–µ)
  - [ ] –ü–≠–ü (–∫–æ–¥/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ) + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π
  - [ ] –î–∏—Å–∫–ª–µ–π–º–µ—Ä ¬´–Ω–µ –º–µ–¥–∏—Ü–∏–Ω–∞¬ª –Ω–∞ —Å—Ç–∞—Ä—Ç–µ Pro

### P0 ‚Äî –ü—Ä–æ–¥—É–∫—Ç–æ–≤–æ–µ —è–¥—Ä–æ

- ‚úÖ **¬´–°—Ç–∞—Ç—É—Å 0‚Äì100¬ª** ‚Äî –≥–ª–∞–≤–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å InsightsTab + Widgets | ~~4-6—á~~ 2—á
  - [x] Rule-based –º–æ–¥–µ–ª—å: –ø–∏—Ç–∞–Ω–∏–µ + —Ç–∞–π–º–∏–Ω–≥ + —Å–æ–Ω + –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å + —Å—Ç—Ä–µ—Å—Å
  - [x] –ö–∞—Ä—Ç–æ—á–∫–∞: —á–∏—Å–ª–æ 0‚Äì100 + —Ç–æ–ø-2 –ø—Ä–∏—á–∏–Ω—ã + 1‚Äì2 —à–∞–≥–∞
  - [x] **InsightsTab**: –≥–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–≤–µ—Ä—Ö—É (–∑–∞–º–µ–Ω—è–µ—Ç TotalHealthRing)
  - [x] **Widgets**: –≤–∏–¥–∂–µ—Ç `status` (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è)
  - [x] –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å–∫–∞—á–∫–æ–≤, –Ω–µ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è **–†–∏—Å–∫ —Å—Ä—ã–≤–∞ (—Å–≤–µ—Ç–æ—Ñ–æ—Ä)** ‚Äî –≤–∏–¥–∂–µ—Ç –≤ Widgets | 2-3—á
  - [ ] –ù–∏–∑–∫–∏–π/—Å—Ä–µ–¥–Ω–∏–π/–≤—ã—Å–æ–∫–∏–π + 1 –ø–æ–¥—Å–∫–∞–∑–∫–∞
  - [ ] –§–∞–∫—Ç–æ—Ä—ã: –Ω–µ–¥–æ—Å—ã–ø, —Å—Ç—Ä–µ—Å—Å, –≤–µ—á–µ—Ä, –ø–∞—Ç—Ç–µ—Ä–Ω—ã

---

## üî• –ö—Ä–∏—Ç–∏—á–Ω–æ (—Ç–µ–∫—É—â–µ–µ)

- ‚úÖ **Desktop Gate** ‚Äî –∑–∞—â–∏—Ç–∞ –¥–µ—Å–∫—Ç–æ–ø–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ | 30–º ‚úÖ DONE
  - [x] DesktopGateScreen —Å QR-–∫–æ–¥–æ–º
  - [x] `desktopAllowed: false` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø—Ä–æ—Ñ–∏–ª–µ
  - [x] Toggle –≤ —Å–µ–∫—Ü–∏–∏ "–°–∏—Å—Ç–µ–º–∞" –ø—Ä–æ—Ñ–∏–ª—è
  - [x] –ö—É—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –≤—Å—ë, –∫–ª–∏–µ–Ω—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω
- ‚úÖ **PIN login + curator** ‚Äî –µ–¥–∏–Ω—ã–π —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ | ‚úÖ DONE
  - [x] Supabase schema + RLS
  - [x] Auth module (heys_auth_v1.js) ‚Äî loginClient, createClientWithPin,
        resetClientPin
  - [x] Login screen UI ‚Äî –∫–ª–∏–µ–Ω—Ç (—Ç–µ–ª–µ—Ñ–æ–Ω+PIN) + –∫—É—Ä–∞—Ç–æ—Ä (email+–ø–∞—Ä–æ–ª—å)
  - [x] Database RPC ‚Äî get_client_salt, verify_client_pin,
        create_client_with_pin
  - [x] Curator: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî —Ñ–æ—Ä–º–∞ (–∏–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω + PIN)
  - [x] Curator: —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ + –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ + —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - [x] Curator: —Å–±—Ä–æ—Å PIN (—á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - [x] Profile: —Å–µ–∫—Ü–∏—è "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" ‚Äî —Å–º–µ–Ω–∞ PIN –∫–ª–∏–µ–Ω—Ç–∞

---

## ‚ö° –ë—ã—Å—Ç—Ä–æ (<1—á)

- üéØ Progress –∫ weightGoal | 30–º
- üì≤ PWA extras ‚Äî BG Sync/Wake Lock | 45–º
- üìè ¬´–ë–µ–∑ –≤–µ—Å–æ–≤¬ª (approx) ‚Äî —Ñ–ª–∞–≥ + –ø—Ä–µ–¥–º–µ—Ç-—ç—Ç–∞–ª–æ–Ω | 30–º

---

## üü° –°—Ä–µ–¥–Ω–µ (1-2—á)

- üìÖ Weekly Digest (–≤—Å) ‚Äî async —á–µ–∫-–∏–Ω –¥–ª—è Base | 1.5—á
- ü™ü –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–ø–∞–ø: –∞—É–¥–∏—Ç –∏ –¥–∏–∑–∞–π–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
  [–∑–∞–¥–∞—á–∞](./docs/tasks/2025-12-19-popup-audit-universal-component.md) | 2-3—á

---

## üü† –ö—Ä—É–ø–Ω–æ (2-4—á)

- üß© –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ day_v12 ‚Üí –º–æ–¥—É–ª–∏ | 4-6—á
- üåë Dark mode –ø–æ–∫—Ä—ã—Ç–∏–µ | 2—á
- üîç –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (30+ –¥–Ω–µ–π) | 2-3—á
- üë®‚Äçüíº **Curator –ø–∞–Ω–µ–ª—å v1** ‚Äî UI –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–∞ | 3-4—á
  - [ ] Data Overview (–≥–æ—Ç–æ–≤–æ ‚úÖ)
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (–∏–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω + PIN)
  - [ ] –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ + –±—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
  - [ ] –°–±—Ä–æ—Å PIN

---

## üî¨ Deep (>4—á)

- üíä Supplements v2 ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ/—Ñ–æ—Ä–º—ã/–ª–∏–º–∏—Ç—ã |
  [–∑–∞–¥–∞—á–∞](./docs/tasks/2025-12-15-supplements-scientific-v2.md) | 4-6—á
- üîÆ Predictive Insights |
  [–∑–∞–¥–∞—á–∞](./docs/tasks/2025-12-14-predictive-insights-module.md) | 6-10—á
- üß¨ Metabolic Intelligence v2 |
  [–∑–∞–¥–∞—á–∞](./docs/tasks/2025-12-14-metabolic-intelligence-v2.md) | 8-10—á
- üß† Scientific roadmap |
  [–∑–∞–¥–∞—á–∞](./docs/tasks/2025-12-15-scientific-roadmap.md) | 50—á

---

## üü£ Backlog (–ø–æ—Å–ª–µ MVP)

- üì± Barcode scan (OFF API –≥–æ—Ç–æ–≤) | 2-3—á
- üèÜ Gamification extras | varies
- üí¨ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç –∫—É—Ä–∞—Ç–æ—Ä‚Üî–∫–ª–∏–µ–Ω—Ç | 10-15—á
- üìä MVP-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–æ—Ä–æ–Ω–∫–∏ | 2-3—á
  - –°–æ–±—ã—Ç–∏—è: trial_start, first_done, payment_success, cancel_reason
  - –ú–µ—Ç—Ä–∏–∫–∏: –∫–æ–Ω–≤–µ—Ä—Å–∏—è, —É–¥–µ—Ä–∂–∞–Ω–∏–µ, SLA breach

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É (–∏–∑ –∞—É–¥–∏—Ç–∞)

| –ú–æ–¥—É–ª—å                          | –°—Ç–∞—Ç—É—Å |
| ------------------------------- | ------ |
| –î–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è                 | ‚úÖ     |
| 103 —É–º–Ω—ã—Ö —Å–æ–≤–µ—Ç–∞                | ‚úÖ     |
| –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ (37 —Ñ–∞–∫—Ç–æ—Ä–æ–≤) | ‚úÖ     |
| Training Context + NDTE         | ‚úÖ     |
| PWA + offline                   | ‚úÖ     |
| Shared Products + –º–æ–¥–µ—Ä–∞—Ü–∏—è     | ‚úÖ     |
| –§–æ—Ç–æ –µ–¥—ã upload                 | ‚úÖ     |
| Widgets Dashboard               | ‚úÖ     |
| Supabase + RLS                  | ‚úÖ     |
| PIN auth (—á–∞—Å—Ç–∏—á–Ω–æ)             | üü°     |

---

üìÅ [docs/tasks/](./docs/tasks/) ‚Äî –ø—Ä–æ–º–ø—Ç—ã | ‚úÖ [done.md](./done.md) ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
