# HEYS MVP ‚Äî –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

> –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-12-24

---

## üü¢ –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ (–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å)

### 1. üé´ –¢—Ä–∏–∞–ª-–º–∞—à–∏–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ**: 7 –¥–Ω–µ–π —Ç—Ä–∏–∞–ª–∞ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —á–µ–∫-–∏–Ω–∞ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π ‚úÖ)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç (—á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π)  
**–í—Ä–µ–º—è**: ~2-3 —á–∞—Å–∞

**–°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:**
```
trial (7 –¥–Ω–µ–π) ‚Üí read_only (–±–µ–∑ –æ–ø–ª–∞—Ç—ã) ‚Üí active (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)
                     ‚Üë                         ‚Üì
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ canceled ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] –¢–∞–±–ª–∏—Ü–∞ `subscriptions` (client_id, status, trial_start, trial_end, ...)
- [ ] RPC: `get_subscription_status(client_id)` 
- [ ] RPC: `start_trial(client_id)` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —á–µ–∫-–∏–Ω–µ
- [ ] Frontend: —Ö—É–∫ `useSubscription()` ‚Äî –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—É—Å
- [ ] –õ–æ–≥–∏–∫–∞: –ø–µ—Ä–≤—ã–π ‚úÖ –≤ —É—Ç—Ä–µ–Ω–Ω–µ–º —á–µ–∫-–∏–Ω–µ ‚Üí `start_trial()`

### 2. üîí Read-only —Ä–µ–∂–∏–º

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–µ–π—Ç–∏–Ω–≥ UI –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç—Ä–∏–∞–ª–∞ –±–µ–∑ –æ–ø–ª–∞—Ç—ã  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –¢—Ä–∏–∞–ª-–º–∞—à–∏–Ω–∞  
**–í—Ä–µ–º—è**: ~2 —á–∞—Å–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] UI: –±–∞–Ω–Ω–µ—Ä "–¢—Ä–∏–∞–ª –∑–∞–∫–æ–Ω—á–∏–ª—Å—è" —Å –∫–Ω–æ–ø–∫–æ–π –æ–ø–ª–∞—Ç—ã
- [ ] –ì–µ–π—Ç–∏–Ω–≥: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (meals, products, water, ...)
- [ ] –î–æ—Å—Ç—É–ø–Ω–æ: –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —ç–∫—Å–ø–æ—Ä—Ç
- [ ] API: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, v2)

---

## üî¥ –ë–ª–æ–∫–µ—Ä—ã (–∂–¥—É—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π)

### 3. üí≥ –ÆKassa + –ù–∞–ª–æ–≥–∏

**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–µ—à–µ–Ω–∏—è –ø–æ –Ω–∞–ª–æ–≥–∞–º

**–ë–ª–æ–∫–µ—Ä—ã:**
- [ ] –†–µ—à–µ–Ω–∏–µ –ø–æ —é—Ä.—Å—Ö–µ–º–µ: –ò–ü (–ü–°–ù+–£–°–ù) –∏–ª–∏ —Ç–æ–ª—å–∫–æ –£–°–ù
- [ ] –û–ö–í–≠–î: 63.11 (SaaS), 62.01, 62.09, 63.99.1 ‚Äî –ù–ï –º–µ–¥–∏—Ü–∏–Ω–∞
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ÆKassa (shopId + secretKey)
- [ ] –§–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è: –æ–±–ª–∞—á–Ω–∞—è –∫–∞—Å—Å–∞ + –û–§–î –∏–ª–∏ "–ß–µ–∫–∏ –æ—Ç –ÆKassa"

**–ö–æ–¥ –≥–æ—Ç–æ–≤:**
- [x] Cloud Function `heys-api-payments` 
- [x] Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (handlePayment, checkPendingPayment)
- [x] API Gateway —Ä–æ—É—Ç—ã

**–ü–æ—Å–ª–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- [ ] –î–µ–ø–ª–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- [ ] Webhook –≤ –ÆKassa
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ sandbox
- [ ] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ `payment_succeeded`

---

## üü° –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 4. ‚úÖ RU –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (152-–§–ó) ‚Äî –í–´–ü–û–õ–ù–ï–ù–û

**–û–ø–∏—Å–∞–Ω–∏–µ**: PostgreSQL –Ω–∞ Yandex.Cloud, Cloud Functions

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- [x] SMS.ru –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å "HEYS" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] SMS –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ API server (CORS bypass)
- [x] –Æ—Ä–∏–¥–∏–∫–∞ ‚Äî —Å–æ–≥–ª–∞—Å–∏—è, –ü–≠–ü, SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- [x] Landing page ‚Äî —Ñ–æ—Ä–º–∞, Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [x] Yandex Cloud PostgreSQL ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [x] Cloud Functions ‚Äî RPC, REST, SMS, Leads, Health, Auth
- [x] **–ü–ª–∞—Ç–µ–∂–∏ –∫–æ–¥** ‚Äî Cloud Function + Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] **Consents RPC** ‚Äî 4 —Ñ—É–Ω–∫—Ü–∏–∏ (log, check, revoke, get) —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üìã –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã

```
1. üîÑ –¢—Ä–∏–∞–ª-–º–∞—à–∏–Ω–∞ ‚Üê –°–ï–ô–ß–ê–° (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç–µ–∂–µ–π!)
   ‚Üì
2. Read-only —Ä–µ–∂–∏–º
   ‚Üì
3. ‚è∏Ô∏è –ÆKassa + –ù–∞–ª–æ–≥–∏ (–±–ª–æ–∫–µ—Ä)
   ‚Üì
4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
```
