---
template-version: 3.3.0
created: 2025-12-08
updated: 2025-12-08
purpose: Task-First template ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —à–∞–≥ —á–µ–∫-–∏–Ω–∞ ¬´–ü—Ä–æ—Ñ–∏–ª—å¬ª –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
optimization: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ HEYS v12 legacy UI + modern packages
changelog:
  v0.10.0 ‚Äî –£–±—Ä–∞–Ω confetti (W4), –¥–æ–±–∞–≤–ª–µ–Ω —ç–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º, 11 WOW-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  v0.9.0 ‚Äî Full Scope: –í–°–ï 12 WOW-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤, hints –ø–æ –∫–ª–∏–∫—É "?" (collapsible), —É–±—Ä–∞–Ω—ã –æ—á–µ–≤–∏–¥–Ω—ã–µ hints
  v0.8.0 ‚Äî –ü–æ—Å—Ç-Phase 0 –∞—É–¥–∏—Ç: +3 –Ω–æ–≤—ã—Ö –±–ª–æ–∫–µ—Ä–∞ (B5-B7), —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –æ–≤–µ—Ä–∫–∏–ª–ª-–∞–Ω–∞–ª–∏–∑, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ WOW
  v0.7.0 ‚Äî –ì–ª—É–±–æ–∫–∏–π –∞—É–¥–∏—Ç: +4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–µ—Ä–∞ –≤ Phase 0, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫, getCheckinSteps(), WOW-—ç—Ñ—Ñ–µ–∫—Ç —Å–µ–∫—Ü–∏—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∏—Å–∫-–º–∞—Ç—Ä–∏—Ü–∞
  v0.6.0 ‚Äî UI Hints: –Ω–∞—É—á–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∫ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—é —Å footnotes, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥
  v0.5.0 ‚Äî –ì–µ–Ω–¥–µ—Ä–Ω—ã–µ –Ω–æ—Ä–º—ã –ë–ñ–£: +5-10% –∂–∏—Ä–æ–≤ –¥–ª—è –∂–µ–Ω—â–∏–Ω, +3-5% –±–µ–ª–∫–∞ –¥–ª—è 40+, –Ω–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
  v0.4.0 ‚Äî –ü–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω: 4 —à–∞–≥–∞, +weightGoal, +insulinWaveHours, –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–æ—Ä–º –ë–ñ–£ –ø–æ –Ω–∞—É–∫–µ
  v0.3.0 ‚Äî –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è: —É–±—Ä–∞–Ω activityLevel (HEYS —Ç—Ä–µ–∫–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∞–º)
  v0.2.0 ‚Äî –ê—É–¥–∏—Ç: –¥–æ–±–∞–≤–ª–µ–Ω Phase 0, wizard 3 —à–∞–≥–∞, —Ä–∏—Å–∫-–º–∞—Ç—Ä–∏—Ü–∞
  v0.1.0 ‚Äî –ß–µ—Ä–Ω–æ–≤–∏–∫ –ø—Ä–æ–º–ø—Ç–∞
---

# Task: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ ‚Üí —à–∞–≥ –ø—Ä–æ—Ñ–∏–ª—è –≤ —á–µ–∫-–∏–Ω–µ

---

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–ª—É–±–æ–∫–æ–≥–æ –∞—É–¥–∏—Ç–∞ (v0.8.0)

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã (Phase 0 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ):

| # | –ë–ª–æ–∫–µ—Ä | –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|---|--------|----------|--------|
| B1 | `profileCompleted` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | –í DEFAULT_PROFILE –Ω–µ—Ç —Ñ–ª–∞–≥–∞ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| B2 | –ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã | `INSULIN_WAVE_PRESETS` ‚Üí `INSULIN_PRESETS` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| B3 | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ steps | –í `MorningCheckin()` –∏ `showCheckin.morning()` | ‚ö†Ô∏è `getCheckinSteps()` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø—Ä–æ–º–ø—Ç |
| B4 | –ù–µ–≤–µ—Ä–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ | DEFICIT_PRESETS, INSULIN_PRESETS, registerStep | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

### üî¥ –ù–û–í–´–ï –±–ª–æ–∫–µ—Ä—ã (–æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–∏ –ø–æ—Å—Ç-–∞—É–¥–∏—Ç–µ):

| # | –ë–ª–æ–∫–µ—Ä | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|---|--------|----------|---------|
| **B5** | DEFICIT_PRESETS –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ `UserPage()` scope ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑–≤–Ω–µ | –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ `heys_profile_step_v1.js` –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `HEYS.User.DEFICIT_PRESETS` |
| **B6** | INSULIN_PRESETS –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ ‚Äî –≤–Ω—É—Ç—Ä–∏ `UserPage()` scope | –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ |
| **B7** | Cycle tracking –¥–ª—è –∂–µ–Ω—â–∏–Ω | –ü—Ä–∏ `gender='–ñ–µ–Ω—Å–∫–∏–π'` –ª–æ–≥–∏—á–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ —Ü–∏–∫–ª | –î–æ–±–∞–≤–∏—Ç—å toggle "–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ü–∏–∫–ª?" –≤ —à–∞–≥ Personal |

### üü° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–µ –±–ª–æ–∫–µ—Ä—ã):

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –†–∏—Å–∫ | –†–µ—à–µ–Ω–∏–µ |
|---|----------|------|---------|
| P1 | 4 —à–∞–≥–∞ = –º–Ω–æ–≥–æ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–µ—Ç | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —à–∞–≥–∏ 3+4 ‚Üí 3 —à–∞–≥–∞ |
| P2 | `gender='–î—Ä—É–≥–æ–µ'` | –ö–∞–∫–∏–µ –Ω–æ—Ä–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? | –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (–∫–∞–∫ –º—É–∂—Å–∫–∏–µ) |
| P3 | birthDate picker | –ù–∞—Ç–∏–≤–Ω—ã–π date picker –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—É–¥–æ–±–µ–Ω | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WheelPicker |
| P4 | –ù–µ–ª—å–∑—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å wizard | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω | –î–æ–±–∞–≤–∏—Ç—å "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" |

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ö–æ—Ä–æ—à–æ:
- –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å footnotes (11 —Å—Å—ã–ª–æ–∫)
- Gender-specific –Ω–æ—Ä–º—ã –ë–ñ–£ (–∂–µ–Ω—â–∏–Ω—ã +–∂–∏—Ä—ã)
- Age-based –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (40+ +–±–µ–ª–æ–∫)
- Rollback –ø–ª–∞–Ω + Risk matrix

### üöÄ WOW-—ç—Ñ—Ñ–µ–∫—Ç (12 –∏–¥–µ–π):
W1-W7 (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ) + W8-W12 (–Ω–æ–≤—ã–µ) ‚Äî —Å–º. —Å–µ–∫—Ü–∏—é –Ω–∏–∂–µ

---

## üö® Phase 0 ‚Äî –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π)

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –î–û –Ω–∞—á–∞–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è)

- [x] **B1: –î–æ–±–∞–≤–∏—Ç—å `profileCompleted` –≤ DEFAULT_PROFILE** (`heys_user_v12.js:19-29`)
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: `profileCompleted: false` –≤ –æ–±—ä–µ–∫—Ç DEFAULT_PROFILE
  - –¢–µ–ø–µ—Ä—å `isProfileIncomplete()` —Å–º–æ–∂–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- [x] **B2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å INSULIN_PRESETS** (–ù–ï `INSULIN_WAVE_PRESETS`!)
  - ‚úÖ –ù–∞–π–¥–µ–Ω –Ω–∞ `heys_user_v12.js:485-490`
  - –ü—Ä–µ—Å–µ—Ç—ã: `2.5—á –ë—ã—Å—Ç—Ä—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º`, `3—á –ù–æ—Ä–º–∞–ª—å–Ω—ã–π`, `4—á –ú–µ–¥–ª–µ–Ω–Ω—ã–π`, `4.5—á –ò–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å`

### üÜï –ù–æ–≤—ã–µ –±–ª–æ–∫–µ—Ä—ã (–ø–æ—Å—Ç-Phase 0 –∞—É–¥–∏—Ç)

- [ ] **B5: DEFICIT_PRESETS –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω** ‚Äî –≤–Ω—É—Ç—Ä–∏ scope `UserPage()`
  - ‚ùå –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑–≤–Ω–µ: `HEYS.User.DEFICIT_PRESETS` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  - **–†–µ—à–µ–Ω–∏–µ**: –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ—Å–µ—Ç—ã –≤ `heys_profile_step_v1.js`:
    ```javascript
    const GOAL_PRESETS = [
      { value: -20, label: '–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ', emoji: 'üî•üî•', color: '#ef4444' },
      { value: -15, label: '–ê–∫—Ç–∏–≤–Ω–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ', emoji: 'üî•', color: '#f97316' },
      { value: -10, label: '–£–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ', emoji: 'üéØ', color: '#eab308' },
      { value: 0, label: '–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞', emoji: '‚öñÔ∏è', color: '#22c55e' },
      { value: 10, label: '–£–º–µ—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä', emoji: 'üí™', color: '#3b82f6' },
      { value: 15, label: '–ê–∫—Ç–∏–≤–Ω—ã–π –Ω–∞–±–æ—Ä', emoji: 'üí™üí™', color: '#8b5cf6' }
    ];
    ```

- [ ] **B6: INSULIN_PRESETS –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω** ‚Äî –≤–Ω—É—Ç—Ä–∏ scope `UserPage()`
  - ‚ùå –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
  - **–†–µ—à–µ–Ω–∏–µ**: –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ `heys_profile_step_v1.js`:
    ```javascript
    const INSULIN_PRESETS = [
      { value: 2.5, label: '–ë—ã—Å—Ç—Ä—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º', desc: '—Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã, –Ω–∏–∑–∫–æ—É–≥–ª–µ–≤–æ–¥–∫–∞' },
      { value: 3, label: '–ù–æ—Ä–º–∞–ª—å–Ω—ã–π', desc: '–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ª—é–¥–µ–π' },
      { value: 4, label: '–ú–µ–¥–ª–µ–Ω–Ω—ã–π', desc: '—Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –ø–æ–ª–Ω–æ—Ç–µ' },
      { value: 4.5, label: '–ò–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å', desc: '–ø—Ä–µ–¥–¥–∏–∞–±–µ—Ç, –°–ü–ö–Ø' }
    ];
    ```

- [ ] **B7: Cycle tracking –¥–ª—è –∂–µ–Ω—â–∏–Ω**
  - –ü—Ä–∏ `gender='–ñ–µ–Ω—Å–∫–∏–π'` –ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥ —Ü–∏–∫–ª–∞
  - **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å toggle –≤ —à–∞–≥ Personal:
    - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `gender === '–ñ–µ–Ω—Å–∫–∏–π'`
    - "üå∏ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª?" (toggle, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é OFF)
    - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `profile.cycleTrackingEnabled`

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –Ω–∞—á–∞–ª–∞

- [x] **Git status**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ‚Äî —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å
- [x] **–ë—ç–∫–∞–ø**: `apps/web/heys_morning_checkin_v1.js.backup` —Å–æ–∑–¥–∞–Ω
- [x] **Baseline test**: localhost:3001 –æ—Ç–∫—Ä—ã—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- [x] **registerStep**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ‚Üí `apps/web/heys_step_modal_v1.js:204-214` ‚Äî config: `{ id, title, hint, icon, component, getInitialData, validate, save }`
- [x] **–ü–æ—Ä—è–¥–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤** –≤ `index.html:251-252`: `heys_step_modal_v1.js` ‚Üí `heys_steps_v1.js` ‚úÖ
- [x] **–ü—É—Ç—å —Å—Ç–∏–ª–µ–π**: –§–∞–π–ª–∞ `heys_components.css` –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tailwind –∏–ª–∏ `styles/modules/*.css`
- [x] **DEFICIT_PRESETS**: `heys_user_v12.js:369-376` ‚úÖ
- [x] **INSULIN_PRESETS**: `heys_user_v12.js:485-490` ‚úÖ
- [x] **calcSleepNorm**: `heys_user_v12.js:88-120` ‚úÖ
- [x] **MorningCheckin**: –õ–æ–≥–∏–∫–∞ –≤ —Å—Ç—Ä–æ–∫–∞—Ö 113-143 –∏ 169-190 ‚Äî –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `getCheckinSteps()`

### –§—É–Ω–∫—Ü–∏—è isProfileIncomplete()

```javascript
// –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "–Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
// ‚ö†Ô∏è –ù–∞–¥—ë–∂–Ω–µ–µ –≤—Å–µ–≥–æ ‚Äî —Ñ–ª–∞–≥ profileCompleted
function isProfileIncomplete(profile) {
  // –ï—Å–ª–∏ –µ—Å—Ç—å —Ñ–ª–∞–≥ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ (–ù–ê–î–Å–ñ–ù–´–ô —Å–ø–æ—Å–æ–±)
  if (profile.profileCompleted === true) return false;
  
  // Fallback: –ø—Ä–æ–≤–µ—Ä—è–µ–º –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø–æ–ª—è
  const noGender = !profile.gender || profile.gender === '–ú—É–∂—Å–∫–æ–π'; // –¥–µ—Ñ–æ–ª—Ç
  const isDefaultWeight = profile.weight === 70;
  const isDefaultHeight = profile.height === 175;
  const noBirthDate = !profile.birthDate;
  const isDefaultAge = profile.age === 30;
  
  // –ï—Å–ª–∏ –í–°–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω
  return noGender && isDefaultWeight && isDefaultHeight && (noBirthDate && isDefaultAge);
}
```

### –§—É–Ω–∫—Ü–∏—è getCheckinSteps() ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫

```javascript
// –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —à–∞–≥–æ–≤ –¥–ª—è MorningCheckin –∏ showCheckin.morning()
function getCheckinSteps(profile) {
  const steps = [];
  
  // 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å (–¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
  if (isProfileIncomplete(profile)) {
    steps.push('profile-personal', 'profile-body', 'profile-goals', 'profile-metabolism');
  }
  
  // 2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à–∞–≥–∏ —á–µ–∫-–∏–Ω–∞
  steps.push('weight', 'sleepTime', 'sleepQuality');
  
  // 3. –£—Å–ª–æ–≤–Ω—ã–µ —à–∞–≥–∏
  if (HEYS.Steps?.shouldShowCycleStep?.()) {
    steps.push('cycle');
  }
  if (HEYS.Steps?.shouldShowMeasurements?.()) {
    steps.push('measurements');
  }
  
  // 4. –ó–∞–≤–µ—Ä—à–∞—é—â–∏–π —à–∞–≥
  steps.push('stepsGoal');
  
  return steps;
}
```

> **–í–∞–∂–Ω–æ**: –≠—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤ `MorningCheckin()`, –∏ –≤ `showCheckin.morning()` ‚Äî –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è!

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: `activityLevel` –ù–ï –Ω—É–∂–µ–Ω ‚Äî HEYS —Ç—Ä–µ–∫–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ `householdMin`, `steps`, `trainings`. –î–ª—è —Ä–∞—Å—á—ë—Ç–∞ TDEE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é.

---

## üéØ WHY (–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç)

**Problem**: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —á–µ–∫-–∏–Ω –±–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è, –¥–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º/—Ä–∞—Å—á—ë—Ç–æ–≤ –±–µ—Ä—É—Ç—Å—è –∏–∑ –∑–∞–≥–ª—É—à–µ–∫ (–≤–µ—Å 70–∫–≥, —Ä–æ—Å—Ç 175—Å–º), —á—Ç–æ —É—Ö—É–¥—à–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –º–µ—Ç—Ä–∏–∫.

**Impact**: –ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã (–Ω–æ—Ä–º—ã, TDEE, –∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞, —Å–æ–≤–µ—Ç—ã) –Ω–µ—Ç–æ—á–Ω—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ —Ç–µ—Ä—è—é—Ç –¥–æ–≤–µ—Ä–∏–µ.

**Value**: –°—Ä–∞–∑—É —Å–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–æ—Ä–º—ã/—Å–æ–≤–µ—Ç—ã —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è, –º–µ–Ω—å—à–µ churn –≤ –ø–µ—Ä–≤—ã–µ —Å–µ—Å—Å–∏–∏. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π wizard-UI —Å–æ–∑–¥–∞—ë—Ç WOW-—ç—Ñ—Ñ–µ–∫—Ç.

---

## ü§ñ Output Preferences

**Workflow**: –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 0, –∑–∞—Ç–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ —á–µ–∫-–ª–∏—Å—Ç—É.

**Code style**: –°–ª–µ–¥–æ–≤–∞—Ç—å `.github/copilot-instructions.md` (Tailwind/BEM, U.lsSet/HEYS.store, –±–µ–∑ inline —Å—Ç–∏–ª–µ–π –∏ –ª–∏—à–Ω–∏—Ö console.log).

**UI Pattern**: 4-—à–∞–≥–æ–≤—ã–π wizard —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º (–∫–∞–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π StepModal).

---

## üìê –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç–∞ (–∫–ª—é—á–µ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (—Å–æ–±–∏—Ä–∞–µ–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
1. `gender` ‚Äî –ø–æ–ª
2. `birthDate` ‚Üí `age` ‚Äî –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (–≤–æ–∑—Ä–∞—Å—Ç –∞–≤—Ç–æ)
3. `weight` ‚Äî —Ç–µ–∫—É—â–∏–π –≤–µ—Å
4. `height` ‚Äî —Ä–æ—Å—Ç
5. `weightGoal` ‚Äî —Ü–µ–ª–µ–≤–æ–π –≤–µ—Å
6. `deficitPctTarget` ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–¥–µ—Ñ–∏—Ü–∏—Ç/–Ω–∞–±–æ—Ä/–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ)
7. `insulinWaveHours` ‚Äî –ø–µ—Ä–∏–æ–¥ –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã (—Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏)

### –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π:

| –ü–æ–ª–µ | –§–æ—Ä–º—É–ª–∞/–ò—Å—Ç–æ—á–Ω–∏–∫ |
|------|------------------|
| `sleepHours` | `calcSleepNorm(age, gender)` ‚Äî –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ –ø–æ–ª—É |
| `BMR` | Mifflin-St Jeor: `10*–≤–µ—Å + 6.25*—Ä–æ—Å—Ç - 5*–≤–æ–∑—Ä–∞—Å—Ç + (–º—É–∂:+5, –∂–µ–Ω:-161)` |
| `TDEE` | `BMR * activityFactor` (–∏–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫/—à–∞–≥–æ–≤) |
| `optimum` | `TDEE * (1 + deficitPctTarget/100)` |

### –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–æ—Ä–º –ë–ñ–£ –ø–æ —Ü–µ–ª–∏ + –ø–æ–ª—É (–Ω–∞—É—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –í–û–ó + ISSN + Examine.com):

**–§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ë–ñ–£:**

| –§–∞–∫—Ç–æ—Ä | –í–ª–∏—è–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|--------|---------|----------|
| **–ü–æ–ª** | –ñ–µ–Ω—â–∏–Ω–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∂–∏—Ä–æ–≤ (–≥–æ—Ä–º–æ–Ω—ã, –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏—è) | ISSN, Examine.com |
| **–¶–µ–ª—å** | –î–µ—Ñ–∏—Ü–∏—Ç —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –±–µ–ª–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—à—Ü | ISSN Position Stand |
| **–í–æ–∑—Ä–∞—Å—Ç** | 40+ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –±–µ–ª–∫–∞ (–∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–∞—è —Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å) | Examine.com |

#### –ú—É–∂—á–∏–Ω—ã:

| –¶–µ–ª—å | –ë–µ–ª–æ–∫ | –£–≥–ª–µ–≤–æ–¥—ã | –ñ–∏—Ä—ã | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|------|-------|----------|------|----------|
| **–î–µ—Ñ–∏—Ü–∏—Ç ‚â§-15%** (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ) | 35% | 40% | 25% | ISSN: –≤—ã—Å–æ–∫–∏–π –±–µ–ª–æ–∫ |
| **–î–µ—Ñ–∏—Ü–∏—Ç -10%** (—É–º–µ—Ä–µ–Ω–Ω–æ–µ) | 30% | 45% | 25% | –ú–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å |
| **–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ 0%** | 25% | 50% | 25% | –í–û–ó —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| **–ù–∞–±–æ—Ä +10-15%** | 30% | 50% | 20% | ISSN: —É–≥–ª–µ–≤–æ–¥—ã –¥–ª—è —ç–Ω–µ—Ä–≥–∏–∏ |

#### –ñ–µ–Ω—â–∏–Ω—ã (–±–æ–ª—å—à–µ –∂–∏—Ä–æ–≤ –¥–ª—è –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞):

| –¶–µ–ª—å | –ë–µ–ª–æ–∫ | –£–≥–ª–µ–≤–æ–¥—ã | –ñ–∏—Ä—ã | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|------|-------|----------|------|----------|
| **–î–µ—Ñ–∏—Ü–∏—Ç ‚â§-15%** (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ) | 30% | 35% | 35% | ISSN + –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å |
| **–î–µ—Ñ–∏—Ü–∏—Ç -10%** (—É–º–µ—Ä–µ–Ω–Ω–æ–µ) | 28% | 40% | 32% | –ú–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å |
| **–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ 0%** | 25% | 45% | 30% | –í–û–ó + –∂–µ–Ω—Å–∫–∏–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º |
| **–ù–∞–±–æ—Ä +10-15%** | 28% | 47% | 25% | ISSN –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ |

#### –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É:

| –í–æ–∑—Ä–∞—Å—Ç | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–µ–ª–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|---------|---------------------|---------|
| **40-59** | +3% –æ—Ç –±–∞–∑—ã | –ù–∞—á–∞–ª–æ –∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–æ–π —Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ |
| **60+** | +5% –æ—Ç –±–∞–∑—ã | –í—ã—Ä–∞–∂–µ–Ω–Ω–∞—è –∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–∞—è —Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å |

### –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ø–æ–¥–≤–∏–¥–æ–≤ (–ø–æ –í–û–ó):

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----------|----------|----------|
| –ü—Ä–æ—Å—Ç—ã–µ —É–≥–ª–µ–≤–æ–¥—ã | 30% –æ—Ç —É–≥–ª–µ–≤–æ–¥–æ–≤ | –í–û–ó: <10% –æ—Ç –∫–∞–ª–æ—Ä–∏–π (‚âà30% –æ—Ç —É–≥–ª–µ–≤–æ–¥–æ–≤) |
| –°–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã | 70% –æ—Ç —É–≥–ª–µ–≤–æ–¥–æ–≤ | –û—Å—Ç–∞—Ç–æ–∫ |
| –í—Ä–µ–¥–Ω—ã–µ –∂–∏—Ä—ã (–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ) | 30% –æ—Ç –∂–∏—Ä–æ–≤ | –í–û–ó: <10% –æ—Ç –∫–∞–ª–æ—Ä–∏–π |
| –¢—Ä–∞–Ω—Å-–∂–∏—Ä—ã | 5% –æ—Ç –∂–∏—Ä–æ–≤ | –í–û–ó: <1% –æ—Ç –∫–∞–ª–æ—Ä–∏–π |
| –ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã (–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ) | 65% –æ—Ç –∂–∏—Ä–æ–≤ | –û—Å—Ç–∞—Ç–æ–∫ |
| –ö–ª–µ—Ç—á–∞—Ç–∫–∞ | 14–≥ –Ω–∞ 1000 –∫–∫–∞–ª | DRI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| –¶–µ–ª–µ–≤–æ–π –ì–ò | 55 | Low GI Foundation |
| –î–æ–ø—É—Å—Ç–∏–º—ã–π –≤—Ä–µ–¥ | 10% | –ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∏—Ç–∞–Ω–∏—è |

---

## üìã WHAT (–ß–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á)

### Must Have (–∫—Ä–∏—Ç–∏—á–Ω–æ)

- [ ] **Phase 0** ‚Äî –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø—É–Ω–∫—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ (—Å–º. –≤—ã—à–µ)
  - **Why**: –ë–µ–∑ —ç—Ç–æ–≥–æ —Ä–∏—Å–∫—É–µ–º —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–µ–∫-–∏–Ω
  - **Acceptance**: –í—Å–µ —á–µ–∫–±–æ–∫—Å—ã Phase 0 –æ—Ç–º–µ—á–µ–Ω—ã

- [ ] **–®–∞–≥ 1: profile-personal** ‚Äî –ò–º—è, –ø–æ–ª, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
  - **Why**: –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –∏ —Ä–∞—Å—á—ë—Ç–æ–≤
  - **Acceptance**: 
    - `firstName` (text, optional) 
    - `gender` (select: –ú—É–∂—Å–∫–æ–π/–ñ–µ–Ω—Å–∫–∏–π/–î—Ä—É–≥–æ–µ) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
    - `birthDate` (date picker) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**, –≤–æ–∑—Ä–∞—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ "(XX –ª–µ—Ç)"
    - `cycleTrackingEnabled` (toggle) ‚Äî **–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `gender='–ñ–µ–Ω—Å–∫–∏–π'`**, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é OFF
  - **Files**: –ù–æ–≤—ã–π —Ñ–∞–π–ª `apps/web/heys_profile_step_v1.js`
  - **UI Hints** (–ø–æ –∫–ª–∏–∫—É –Ω–∞ "?" ‚Äî collapsible):
    ```
    üë§ –ü–æ–ª ‚Äî –ë–ï–ó hint (–æ—á–µ–≤–∏–¥–Ω–æ)
    
    üéÇ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è [?]
    ‚Üí –ö–ª–∏–∫: "–í–æ–∑—Ä–∞—Å—Ç –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–æ—Ä–º—É —Å–Ω–∞ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –±–µ–ª–∫–µ.
             –ò—Å—Ç–æ—á–Ω–∏–∫: National Sleep Foundation, 2015; Examine.com"
    
    üå∏ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ü–∏–∫–ª? [?] (—Ç–æ–ª—å–∫–æ –¥–ª—è –∂–µ–Ω—â–∏–Ω)
    ‚Üí –ö–ª–∏–∫: "HEYS –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –Ω–æ—Ä–º—ã –∫–∞–ª–æ—Ä–∏–π –∏ –≤–æ–¥—ã –ø–æ–¥ —Ñ–∞–∑—ã —Ü–∏–∫–ª–∞.
             –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø–æ–∑–∂–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ."
    ```

- [ ] **–®–∞–≥ 2: profile-body** ‚Äî –í–µ—Å —Ç–µ–∫—É—â–∏–π, —Ä–æ—Å—Ç, –≤–µ—Å —Ü–µ–ª–µ–≤–æ–π
  - **Why**: –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è BMR/TDEE/–Ω–æ—Ä–º –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏
  - **Acceptance**: 
    - `weight` (WheelPicker 30-200–∫–≥) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
    - `height` (WheelPicker 120-230—Å–º) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
    - `weightGoal` (WheelPicker 30-200–∫–≥) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
    - BMI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å —Ü–≤–µ—Ç–æ–º + —Ä–∞—Å—á—ë—Ç "–û—Å—Ç–∞–ª–æ—Å—å: X –∫–≥, ~Y –Ω–µ–¥–µ–ª—å"
  - **Files**: `apps/web/heys_profile_step_v1.js`
  - **UI Hints** (–ø–æ –∫–ª–∏–∫—É –Ω–∞ "?" ‚Äî collapsible):
    ```
    ‚öñÔ∏è –¢–µ–∫—É—â–∏–π –≤–µ—Å ‚Äî –ë–ï–ó hint (–æ—á–µ–≤–∏–¥–Ω–æ)
    üìè –†–æ—Å—Ç ‚Äî –ë–ï–ó hint (–æ—á–µ–≤–∏–¥–Ω–æ)
    
    üéØ –¶–µ–ª–µ–≤–æ–π –≤–µ—Å [?]
    ‚Üí –ö–ª–∏–∫: "–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 0.5-1 –∫–≥/–Ω–µ–¥–µ–ª—é.
             –ò—Å—Ç–æ—á–Ω–∏–∫: CDC, NHS guidelines"
    
    üìä –ò–ú–¢ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –≤–µ—Å–∞/—Ä–æ—Å—Ç–∞)
    Format: "–ò–ú–¢: {value} ‚Äî {category}"
    Categories:
      <18.5: "‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤–µ—Å–∞"
      18.5-24.9: "‚úÖ –ù–æ—Ä–º–∞"
      25-29.9: "‚ö†Ô∏è –ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å"
      ‚â•30: "üî¥ –û–∂–∏—Ä–µ–Ω–∏–µ"
    
    ‚è± –ü—Ä–æ–≥–Ω–æ–∑ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ø–æ—Å–ª–µ weightGoal)
    Format: "–û—Å—Ç–∞–ª–æ—Å—å: {diff} –∫–≥ ‚Üí ~{weeks} –Ω–µ–¥–µ–ª—å"
    ```

- [ ] **–®–∞–≥ 3: profile-goals** ‚Äî –¶–µ–ª—å (–¥–µ—Ñ–∏—Ü–∏—Ç/–ø—Ä–æ—Ñ–∏—Ü–∏—Ç)
  - **Why**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–µ–ª–µ–≤–æ–π –∫–∞–ª–æ—Ä–∞–∂ –∏ –∞–≤—Ç–æ–Ω–æ—Ä–º—ã –ë–ñ–£
  - **Acceptance**: 
    - `deficitPctTarget`: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å —ç–º–æ–¥–∑–∏ –∏–∑ DEFICIT_PRESETS
    - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–∫–∞–∑–∞—Ç—å:
      - "üéØ –í–∞—à–∞ –Ω–æ—Ä–º–∞: ~XXXX –∫–∫–∞–ª/–¥–µ–Ω—å"
      - "üìä –ê–≤—Ç–æ-–Ω–æ—Ä–º—ã: –ë XX% / –£ XX% / –ñ XX%"
      - "‚è± –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏: ~XX –Ω–µ–¥–µ–ª—å"
  - **Files**: `apps/web/heys_profile_step_v1.js`
  - **UI**: –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –ø—Ä–µ—Å–µ—Ç–∞–º–∏ (–∫–ª–∏–∫ = –≤—ã–±–æ—Ä)
    ```
    üî•üî• –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ (-20%) [?]
    ‚Üí –ö–ª–∏–∫ ?: "–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Å–ª–æ–∂–Ω–µ–µ —É–¥–µ—Ä–∂–∞—Ç—å. –ë–µ–ª–æ–∫ 1.6-2.4 –≥/–∫–≥.
               –ò—Å—Ç–æ—á–Ω–∏–∫: ISSN Position Stand, 2017"
    
    üî• –ê–∫—Ç–∏–≤–Ω–æ–µ (-15%)
    üéØ –£–º–µ—Ä–µ–Ω–Ω–æ–µ (-10%) ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ
    ‚öñÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ (0%)
    üí™ –£–º–µ—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä (+10%)
    üí™üí™ –ê–∫—Ç–∏–≤–Ω—ã–π –Ω–∞–±–æ—Ä (+15%) [?]
    ‚Üí –ö–ª–∏–∫ ?: "–ü—Ä–æ—Ñ–∏—Ü–∏—Ç –¥–ª—è —Ä–æ—Å—Ç–∞ –º—ã—à—Ü. –ë–µ–ª–æ–∫ 1.6-2.2 –≥/–∫–≥ + —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.
               –ò—Å—Ç–æ—á–Ω–∏–∫: ISSN Position Stand, 2017"
    ```
    
    üìä **–ê–≤—Ç–æ-–Ω–æ—Ä–º—ã –ë–ñ–£** (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –°–†–ê–ó–£ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏):
    ```
    "üìä –í–∞—à–∏ –Ω–æ—Ä–º—ã: –ë {prot}% / –£ {carbs}% / –ñ {fat}%"
    
    –ü—Ä–∏–º–µ—Ä –¥–ª—è –∂–µ–Ω—â–∏–Ω—ã 35 –ª–µ—Ç –Ω–∞ –¥–µ—Ñ–∏—Ü–∏—Ç–µ -15%:
    "üìä –í–∞—à–∏ –Ω–æ—Ä–º—ã: –ë 30% / –£ 35% / –ñ 35%"
    "‚ÑπÔ∏è –ë–æ–ª—å—à–µ –∂–∏—Ä–æ–≤ –¥–ª—è –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞"
    ```

- [ ] **–®–∞–≥ 4: profile-metabolism** ‚Äî –ù–æ—Ä–º–∞ —Å–Ω–∞ –∏ –∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞
  - **Why**: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞
  - **Acceptance**: 
    - `sleepHours`: –ø–æ–∫–∞–∑–∞—Ç—å –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É/–ø–æ–ª—É, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      - –ü—Ä–∏–º–µ—Ä: "üí§ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ: 8—á (–≤–∑—Ä–æ—Å–ª—ã–µ 26-64: 7-9—á)"
    - `insulinWaveHours`: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∫–∞–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
      - 2—á ‚Äî –ë—ã—Å—Ç—Ä—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º (—Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã)
      - 3—á ‚Äî –ù–æ—Ä–º–∞–ª—å–Ω—ã–π (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ)
      - 4—á ‚Äî –ó–∞–º–µ–¥–ª–µ–Ω–Ω—ã–π (–≤–æ–∑—Ä–∞—Å—Ç 50+, –¥–∏–∞–±–µ—Ç)
  - **Files**: `apps/web/heys_profile_step_v1.js`
  - **UI**: –ê–≤—Ç–æ-–∑–Ω–∞—á–µ–Ω–∏—è + –∫–∞—Ä—Ç–æ—á–∫–∏
    ```
    üí§ –ù–æ—Ä–º–∞ —Å–Ω–∞: {calcSleepNorm(age, gender)} —á [?]
    ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ-–∑–Ω–∞—á–µ–Ω–∏–µ, –º–æ–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å slider'–æ–º
    ‚Üí –ö–ª–∏–∫ ?: "–†–∞—Å—Å—á–∏—Ç–∞–Ω–æ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É: {ageRange}.
               –ò—Å—Ç–æ—á–Ω–∏–∫: National Sleep Foundation, 2015"
    
    ‚è± –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ [?]
    ‚Üí –ö–ª–∏–∫ ?: "–ü–µ—Ä–∏–æ–¥ –ø–æ—Å–ª–µ –µ–¥—ã, –∫–æ–≥–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é.
               –ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –µ–≥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è.
               –ò—Å—Ç–æ—á–Ω–∏–∫: Ludwig et al., JAMA 2018"
    
    –ö–∞—Ä—Ç–æ—á–∫–∏ (W11 ‚Äî smart default –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É):
    
    ‚ö° 2.5—á ‚Äî –ë—ã—Å—Ç—Ä—ã–π
       –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π: "—Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã, <30 –ª–µ—Ç"
    
    ‚öñÔ∏è 3—á ‚Äî –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π ‚úì (default –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞)
       –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–∑—Ä–æ—Å–ª—ã—Ö"
    
    üê¢ 4—á ‚Äî –ó–∞–º–µ–¥–ª–µ–Ω–Ω—ã–π (default –¥–ª—è 50+)
       –ü–æ–¥—Å–∫–∞–∑–∫–∞: "50+, –Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
    
    üî¨ 4.5—á ‚Äî –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ [?]
       –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–ø—Ä–µ–¥–¥–∏–∞–±–µ—Ç, –°–ü–ö–Ø"
       ‚Üí –ö–ª–∏–∫ ?: "–ü—Ä–∏ –∏–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤–æ–ª–Ω–∞ –¥–ª–∏–Ω–Ω–µ–µ.
                  –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞.
                  –ò—Å—Ç–æ—á–Ω–∏–∫: DeFronzo, 1979"
    ```

- [ ] **–ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–æ—Ä–º –ë–ñ–£** ‚Äî –§—É–Ω–∫—Ü–∏—è `calcNormsFromGoal(deficitPct, gender, age)`
  - **Why**: –ù–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã –±–µ–∑ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - **Acceptance**: 
    - –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `heys_norms`
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã –∏–∑ —Å–µ–∫—Ü–∏–∏ "–õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç–∞" (—É—á—ë—Ç –ø–æ–ª–∞ –∏ –≤–æ–∑—Ä–∞—Å—Ç–∞)
  - **Files**: `apps/web/heys_profile_step_v1.js`, –≤–æ–∑–º–æ–∂–Ω–æ `apps/web/heys_user_v12.js`

- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —á–µ–∫-–∏–Ω** ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å profile-steps –ø–µ—Ä–µ–¥ weight
  - **Why**: –ù—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –î–û –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è
  - **Acceptance**: `shouldShowProfileStep()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ–ø–æ–ª–Ω—ã–π; `HEYS.showCheckin.morning()` –¥–æ–±–∞–≤–ª—è–µ—Ç profile-—à–∞–≥–∏ –≤ –Ω–∞—á–∞–ª–æ (4 —à–∞–≥–∞)
  - **Files**: `apps/web/heys_morning_checkin_v1.js:120-140`, `apps/web/heys_profile_step_v1.js`

- [ ] **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, –Ω–æ—Ä–º—ã –∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π
  - **Why**: –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
  - **Acceptance**: 
    - –ü–æ—Å–ª–µ —à–∞–≥–∞ 4 ‚Üí `U.lsSet('heys_profile', {..., profileCompleted: true})`
    - –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç ‚Üí `U.lsSet('heys_norms', calculatedNorms)`
    - –ß–µ–∫-–∏–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ —à–∞–≥–∏ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
  - **Files**: `apps/web/heys_profile_step_v1.js`, `apps/web/heys_morning_checkin_v1.js`

- [ ] **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ index.html** ‚Äî –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
  - **Why**: –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ `heys_steps_v1.js`
  - **Acceptance**: `<script src="heys_profile_step_v1.js"></script>` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
  - **Files**: `apps/web/index.html`

- [ ] **–£—Ç–æ—á–Ω–∏—Ç—å —Å—Ç–∏–ª–∏** ‚Äî –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –º–µ—Å—Ç–µ —Å—Ç–∏–ª–µ–π, —Ç.–∫. `heys_components.css` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  - **Acceptance**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã Tailwind –∫–ª–∞—Å—Å—ã –ª–∏–±–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –≤ `apps/web/styles/`; –Ω–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö CSS —Ñ–∞–π–ª–æ–≤ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
  - **Files**: `apps/web/index.html` (Tailwind –∫–ª–∞—Å—Å—ã), —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ CSS –º–æ–¥—É–ª–∏

### Should Have (–≤–∞–∂–Ω–æ, –Ω–æ –Ω–µ –±–ª–æ–∫–µ—Ä)

- [ ] **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞** ‚Äî –ü—Ä–∏ –≤–≤–æ–¥–µ birthDate —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å age –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  - **Acceptance**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç age; –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "(XX –ª–µ—Ç)" —Ä—è–¥–æ–º —Å –¥–∞—Ç–æ–π

- [ ] **BMI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä** ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å BMI —Å —Ü–≤–µ—Ç–æ–º (–∑–µ–ª—ë–Ω—ã–π/–∂—ë–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
  - **Acceptance**: –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –≤–µ—Å–∞/—Ä–æ—Å—Ç–∞ –ø–æ–∫–∞–∑–∞—Ç—å: "–ò–ú–¢: 24.5 ‚Äî –ù–æ—Ä–º–∞"

- [ ] **–†–∞—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Ü–µ–ª–∏** ‚Äî –ü—Ä–∏ –≤–≤–æ–¥–µ weightGoal –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑
  - **Acceptance**: "üéØ –¶–µ–ª—å: 80 –∫–≥ | –û—Å—Ç–∞–ª–æ—Å—å: 10 –∫–≥ | ~57 –Ω–µ–¥–µ–ª—å –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ 10%"

- [ ] **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
  - **Acceptance**: –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –≤–æ–∫—Ä—É–≥ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –ø–æ–ª—è, –Ω–æ –∫–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ" –∞–∫—Ç–∏–≤–Ω–∞ (—Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º)

- [ ] **–ü–æ–∫–∞–∑ –Ω–æ—Ä–º –Ω–∞ –ª–µ—Ç—É** ‚Äî –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ü–µ–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å—á—ë—Ç–Ω—ã–µ –Ω–æ—Ä–º—ã
  - **Acceptance**: –ü–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π —Ü–µ–ª–∏: "üìä –ê–≤—Ç–æ-–Ω–æ—Ä–º—ã: –ë 30% / –£ 40% / –ñ 30%"

- [ ] **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã** ‚Äî Tooltip –∏–ª–∏ expand —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
  - **Acceptance**: –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "?" –ø–æ–∫–∞–∑–∞—Ç—å: "–ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ ‚Äî –ø–µ—Ä–∏–æ–¥ –ø–æ—Å–ª–µ –µ–¥—ã, –∫–æ–≥–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é. –ß–µ–º –∫–æ—Ä–æ—á–µ, —Ç–µ–º –±–æ–ª—å—à–µ –≤—Ä–µ–º—è –¥–ª—è –∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏—è."

### Could Have (nice to have)

- [ ] **–ü—Ä–æ–ø—É—Å–∫ —Å warning** ‚Äî –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Üí toast "–ù–æ—Ä–º—ã –±—É–¥—É—Ç –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏"

---

## ‚úÖ DONE (–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏)

### Functional

- [ ] –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (–ø—Ä–æ—Ñ–∏–ª—å —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏) —á–µ–∫-–∏–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 4 —à–∞–≥–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è `heys_profile` —Å–æ–¥–µ—Ä–∂–∏—Ç: `gender`, `weight`, `height`, `weightGoal`, `birthDate`, `age`, `deficitPctTarget`, `sleepHours`, `insulinWaveHours`, `profileCompleted: true`
- [ ] –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è `heys_norms` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≤—Ç–æ—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã –ë–ñ–£
- [ ] –ß–µ–∫-–∏–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–ª–æ—É (weight ‚Üí sleep ‚Üí stepsGoal) –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞ profile-—à–∞–≥–æ–≤
- [ ] –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø—Ä–æ—Ñ–∏–ª—å —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω) ‚Äî profile-—à–∞–≥–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è

### Quality Gates

- [ ] Manual —Ç–µ—Å—Ç: localhost:3001, **–Ω–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç** (–æ—á–∏—â–µ–Ω–Ω—ã–π namespace) ‚Üí profile wizard ‚Üí —á–µ–∫-–∏–Ω ‚Üí –Ω–æ—Ä–º—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
- [ ] Manual —Ç–µ—Å—Ç: **—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∏–µ–Ω—Ç** ‚Üí —á–µ–∫-–∏–Ω –±–µ–∑ profile-—à–∞–≥–æ–≤ (backward compatibility)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ console
- [ ] `pnpm type-check` PASS (–µ—Å–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã TS —Ñ–∞–π–ª—ã)
- [ ] `pnpm build` PASS
- [ ] Bundle legacy —Ñ–∞–π–ª–æ–≤ –Ω–µ —Ä–∞—Å—Ç—ë—Ç >50KB

### UI Testing

- [ ] Mobile (iPhone SE DevTools): 
  - –í—Å–µ –∏–Ω–ø—É—Ç—ã —É–¥–æ–±–Ω—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ —Ç–∏–ø—É (number/email/date)
  - –≠–ª–µ–º–µ–Ω—Ç—ã ‚â•44px (`min-h-11`)
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–∏–¥–µ–Ω
  - Swipe –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è StepModal)
- [ ] Desktop: hover/keyboard —Ä–∞–±–æ—Ç–∞—é—Ç, —Ñ–æ–∫—É—Å-—Å—Ç–∏–ª–∏ –≤–∏–¥–Ω—ã

### Performance

- [ ] –®–∞–≥–∏ wizard –Ω–µ –≤–µ—à–∞—é—Ç main thread
- [ ] –†–∞—Å—á—ë—Ç BMI/–≤–æ–∑—Ä–∞—Å—Ç–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π

### Documentation

- [ ] PR —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É: `docs/tasks/2025-12-08-first-login-profile-checkin.md`

---

## ü§ñ AI Context (Technical Specs)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞/–ø–∞—Ç—Ç–µ—Ä–Ω—ã

- **Legacy runtime**: `apps/web/` (React 18 CDN). –ù–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞ TS.
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: `U.lsSet/lsGet` (—Å clientId namespace) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –≤ `heys_steps_v1.js`
- **–ü—Ä–æ—Ñ–∏–ª—å –∫–ª—é—á**: `heys_profile` (—Å–º. `DATA_MODEL_REFERENCE.md`)
- **StepModal API**: `HEYS.StepModal.registerStep(id, config)` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–∞–≥–æ–≤
- **–ò–∑–±–µ–≥–∞–µ–º**: –ø—Ä—è–º—ã—Ö `localStorage.setItem`, inline styles, –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö CSS –∫–ª–∞—Å—Å–æ–≤; Tailwind-first
- **–ù–µ —Ç—Ä–æ–≥–∞–µ–º**: –ø—É–ª—å—Å–æ–≤—ã–µ –∑–æ–Ω—ã (`heys_hr_zones`) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤ ratio (`heys_ratio_zones_v1.js`)

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã (–∏–∑—É—á–∏—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π)

| –§–∞–π–ª | –ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å |
|------|-------------|
| `apps/web/heys_user_v12.js:19-28` | DEFAULT_PROFILE ‚Äî ‚ö†Ô∏è –¥–æ–±–∞–≤–∏—Ç—å `profileCompleted: false`! |
| `apps/web/heys_user_v12.js:30-70` | PROFILE_VALIDATORS ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| `apps/web/heys_user_v12.js:73-85` | `calcAgeFromBirthDate()` ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| `apps/web/heys_user_v12.js:88-120` | `calcSleepNorm()` ‚Äî –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–æ—Ä–º—ã —Å–Ω–∞ |
| `apps/web/heys_user_v12.js:369-376` | **DEFICIT_PRESETS** ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Step 3 |
| `apps/web/heys_user_v12.js:485-490` | **INSULIN_PRESETS** (–ù–ï INSULIN_WAVE_PRESETS!) ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Step 4 |
| `apps/web/heys_step_modal_v1.js:197-213` | `registerStep(id, config)` ‚Äî API —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| `apps/web/heys_steps_v1.js:85-165` | `WeightStepComponent` + `registerStep('weight')` ‚Äî –æ–±—Ä–∞–∑–µ—Ü —à–∞–≥–∞ |
| `apps/web/heys_morning_checkin_v1.js:113-143` | `MorningCheckin()` ‚Äî –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–æ–≤ |
| `apps/web/heys_morning_checkin_v1.js:169-190` | `showCheckin.morning()` ‚Äî ‚ö†Ô∏è –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É! |
| `apps/web/styles/` | –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ CSS –º–æ–¥—É–ª–∏; —Ñ–∞–π–ª–∞ `heys_components.css` –Ω–µ—Ç |

### –ü–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è (—Å–æ–±—Ä–∞—Ç—å –Ω–∞ —à–∞–≥–∞—Ö)

**–®–∞–≥ 1 ‚Äî Personal:**
- `firstName` (string, optional)
- `gender` (string: '–ú—É–∂—Å–∫–æ–π' | '–ñ–µ–Ω—Å–∫–∏–π' | '–î—Ä—É–≥–æ–µ') ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
- `birthDate` (ISO YYYY-MM-DD) ‚Üí `age` –∞–≤—Ç–æ ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**

**–®–∞–≥ 2 ‚Äî Body:**
- `weight` (number, –∫–≥, 30-200) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
- `height` (number, —Å–º, 120-230) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
- `weightGoal` (number, –∫–≥, 30-200) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
- *–ü–æ–∫–∞–∑–∞—Ç—å BMI + –ø—Ä–æ–≥–Ω–æ–∑ –¥–æ —Ü–µ–ª–∏*

**–®–∞–≥ 3 ‚Äî Goals:**
- `deficitPctTarget` (number, %, -50..+50) ‚Äî –ø—Ä–µ—Å–µ—Ç—ã –∏–∑ DEFICIT_PRESETS ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**
- *–ü–æ–∫–∞–∑–∞—Ç—å –∞–≤—Ç–æ-–Ω–æ—Ä–º—ã –ë–ñ–£*

**–®–∞–≥ 4 ‚Äî Metabolism:**
- `sleepHours` (number, —á, 4-12) ‚Äî –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- `insulinWaveHours` (number, —á, 2-5) ‚Äî –ø—Ä–µ—Å–µ—Ç—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**

### –ê–≤—Ç–æ—Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –ø–æ–ª—è (–ù–ï —Å–ø—Ä–∞—à–∏–≤–∞–µ–º):

| –ü–æ–ª–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|------|----------|
| `age` | `calcAgeFromBirthDate(birthDate)` |
| `sleepHours` (–¥–µ—Ñ–æ–ª—Ç) | `calcSleepNorm(age, gender)` |
| **–í—Å–µ –Ω–æ—Ä–º—ã –ë–ñ–£** (`heys_norms`) | `calcNormsFromGoal(deficitPctTarget, gender, age)` |
| `stepsGoal` | –£–∂–µ –µ—Å—Ç—å –≤ stepsGoal —à–∞–≥–µ —á–µ–∫-–∏–Ω–∞ |

### –§—É–Ω–∫—Ü–∏—è calcNormsFromGoal(deficitPct, gender, age)

```javascript
/**
 * –†–∞—Å—á—ë—Ç –Ω–æ—Ä–º –ë–ñ–£ –ø–æ —Ü–µ–ª–∏, –ø–æ–ª—É –∏ –≤–æ–∑—Ä–∞—Å—Ç—É
 * –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏: –í–û–ó, ISSN Position Stand, Examine.com
 * 
 * @param {number} deficitPct ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç –¥–µ—Ñ–∏—Ü–∏—Ç–∞ (–æ—Ç—Ä–∏—Ü) –∏–ª–∏ –ø—Ä–æ—Ñ–∏—Ü–∏—Ç–∞ (–ø–æ–ª–æ–∂)
 * @param {string} gender ‚Äî '–ú—É–∂—Å–∫–æ–π' | '–ñ–µ–Ω—Å–∫–∏–π' | '–î—Ä—É–≥–æ–µ'
 * @param {number} age ‚Äî –≤–æ–∑—Ä–∞—Å—Ç –≤ –≥–æ–¥–∞—Ö
 * @returns {Object} –Ω–æ—Ä–º—ã –ë–ñ–£ –¥–ª—è heys_norms
 */
function calcNormsFromGoal(deficitPct, gender = '–ú—É–∂—Å–∫–æ–π', age = 30) {
  const isFemale = gender === '–ñ–µ–Ω—Å–∫–∏–π';
  
  // –ë–∞–∑–æ–≤—ã–µ –Ω–æ—Ä–º—ã –ø–æ —Ü–µ–ª–∏ –∏ –ø–æ–ª—É
  let proteinPct, carbsPct, fatPct;
  
  if (deficitPct <= -15) {
    // –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ: –≤—ã—Å–æ–∫–∏–π –±–µ–ª–æ–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—à—Ü
    if (isFemale) {
      proteinPct = 30; carbsPct = 35; fatPct = 35;  // –ñ–µ–Ω—â–∏–Ω—ã: –±–æ–ª—å—à–µ –∂–∏—Ä–æ–≤ –¥–ª—è –≥–æ—Ä–º–æ–Ω–æ–≤
    } else {
      proteinPct = 35; carbsPct = 40; fatPct = 25;  // –ú—É–∂—á–∏–Ω—ã: –±–æ–ª—å—à–µ –±–µ–ª–∫–∞
    }
  } else if (deficitPct <= -5) {
    // –£–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ
    if (isFemale) {
      proteinPct = 28; carbsPct = 40; fatPct = 32;
    } else {
      proteinPct = 30; carbsPct = 45; fatPct = 25;
    }
  } else if (deficitPct <= 5) {
    // –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ
    if (isFemale) {
      proteinPct = 25; carbsPct = 45; fatPct = 30;  // –ñ–µ–Ω—â–∏–Ω—ã: 30% –∂–∏—Ä–æ–≤ (–≥–æ—Ä–º–æ–Ω—ã, –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏—è)
    } else {
      proteinPct = 25; carbsPct = 50; fatPct = 25;
    }
  } else {
    // –ù–∞–±–æ—Ä –º–∞—Å—Å—ã
    if (isFemale) {
      proteinPct = 28; carbsPct = 47; fatPct = 25;
    } else {
      proteinPct = 30; carbsPct = 50; fatPct = 20;
    }
  }
  
  // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É: –∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–∞—è —Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
  // Examine.com: –ª—é–¥–∏ 40+ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±–µ–ª–∫–∞
  if (age >= 60) {
    proteinPct += 5;  // +5% –±–µ–ª–∫–∞ –¥–ª—è 60+
    carbsPct -= 5;    // -5% —É–≥–ª–µ–≤–æ–¥–æ–≤
  } else if (age >= 40) {
    proteinPct += 3;  // +3% –±–µ–ª–∫–∞ –¥–ª—è 40-59
    carbsPct -= 3;    // -3% —É–≥–ª–µ–≤–æ–¥–æ–≤
  }
  
  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—É–º–º–∞ = 100%
  const total = proteinPct + carbsPct + fatPct;
  if (total !== 100) {
    // –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    const factor = 100 / total;
    proteinPct = Math.round(proteinPct * factor);
    carbsPct = Math.round(carbsPct * factor);
    fatPct = 100 - proteinPct - carbsPct;
  }
  
  return {
    carbsPct,
    proteinPct,
    // fatPct –∞–≤—Ç–æ = 100 - carbsPct - proteinPct (–ø—Ä–∏ —á—Ç–µ–Ω–∏–∏)
    
    // –ü–æ–¥–≤–∏–¥—ã –ø–æ –í–û–ó —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º
    simpleCarbPct: 30,    // <10% –æ—Ç –∫–∞–ª–æ—Ä–∏–π = ~30% –æ—Ç —É–≥–ª–µ–≤–æ–¥–æ–≤
    // complexCarbPct –∞–≤—Ç–æ = 100 - simpleCarbPct
    
    badFatPct: 30,        // –ù–∞—Å—ã—â–µ–Ω–Ω—ã–µ <10% –æ—Ç –∫–∞–ª–æ—Ä–∏–π
    superbadFatPct: 5,    // –¢—Ä–∞–Ω—Å <1% –æ—Ç –∫–∞–ª–æ—Ä–∏–π
    // goodFatPct –∞–≤—Ç–æ = 100 - badFatPct - superbadFatPct
    
    fiberPct: 14,         // 14–≥ –Ω–∞ 1000 –∫–∫–∞–ª (DRI)
    giPct: 55,            // –¶–µ–ª–µ–≤–æ–π –ì–ò (Low GI Foundation)
    harmPct: 10           // –î–æ–ø—É—Å—Ç–∏–º—ã–π % –≤—Ä–µ–¥–∞
  };
}
```

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á—ë—Ç–∞:

| –ü–æ–ª | –í–æ–∑—Ä–∞—Å—Ç | –¶–µ–ª—å | –ë–µ–ª–æ–∫ | –£–≥–ª–µ–≤–æ–¥—ã | –ñ–∏—Ä—ã |
|-----|---------|------|-------|----------|------|
| –ú | 30 | –î–µ—Ñ–∏—Ü–∏—Ç -15% | 35% | 40% | 25% |
| –ñ | 30 | –î–µ—Ñ–∏—Ü–∏—Ç -15% | 30% | 35% | 35% |
| –ú | 45 | –î–µ—Ñ–∏—Ü–∏—Ç -10% | 33% | 42% | 25% |
| –ñ | 45 | –î–µ—Ñ–∏—Ü–∏—Ç -10% | 31% | 37% | 32% |
| –ú | 65 | –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ | 30% | 45% | 25% |
| –ñ | 65 | –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ | 30% | 40% | 30% |
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: `activityLevel` –ù–ï —Å–æ–±–∏—Ä–∞–µ–º. HEYS —Ç—Ä–µ–∫–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `householdMin`, `steps`, `trainings`.

**–í–∞–∂–Ω–æ:** –§–ª–∞–≥ `profileCompleted: true` —Å—Ç–∞–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "–Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è".

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑–∫–∏

- **Norms**: `calcNormsFromGoal(deficitPctTarget, gender, age)` ‚Üí `U.lsSet('heys_norms', ...)` –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
- **TDEE/optimum**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `deficitPctTarget` —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ `optimum`
- **–ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞**: `insulinWaveHours` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `heys_insulin_wave_v1.js`
- **Sleep**: `sleepHours` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–æ–≤–µ—Ç–∞—Ö –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è—Ö

### –†–∏—Å–∫–∏/edge cases

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–ª wizard –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Üí –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–Ω–æ–≤–∞ –ø–æ–∫–∞–∂–µ—Ç—Å—è
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `profileCompleted` —Ñ–ª–∞–≥
- –ù–µ —Å–ª–æ–º–∞—Ç—å backward compatibility –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º—ã –≤—Ä—É—á–Ω—É—é –≤ –ø—Ä–æ—Ñ–∏–ª–µ ‚Üí –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ

---

## üìù Notes

- **Priority**: high (–ø–µ—Ä–≤—ã–π user journey)
- **Complexity**: L (~170-200 –º–∏–Ω: Phase 0 ‚úÖ + –±–ª–æ–∫–µ—Ä—ã B5-B7 + 4 —à–∞–≥–∞ + –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç + 11 WOW + hints)
- **Scope**: Full (–≤—Å–µ 11 WOW-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤, collapsible hints –ø–æ –∫–ª–∏–∫—É)
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: gender, birthDate, weight, height, weightGoal, deficitPctTarget, insulinWaveHours
- **–ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç**: age, sleepHours (default), –≤—Å–µ –Ω–æ—Ä–º—ã –ë–ñ–£
- **Audit version**: v0.10.0 (Full Scope, 11 WOW, —ç–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ confetti)
- **–ë–ª–æ–∫–µ—Ä—ã**: B1-B4 ‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã | B5-B7 ‚ö†Ô∏è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Ä–µ—à–µ–Ω–∏—è
- **WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã**: 11 —à—Ç (~88 –º–∏–Ω —Å—É–º–º–∞—Ä–Ω–æ)
- **Related Tasks**: –°–≤—è–∑–∞–Ω–æ —Å `heys_cycle_v1.js` (—Ç—Ä–µ–∫–∏–Ω–≥ —Ü–∏–∫–ª–∞)
- **Created**: 2025-12-08

---

## ‚ö†Ô∏è –†–∏—Å–∫-–º–∞—Ç—Ä–∏—Ü–∞

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ò–º–ø–∞–∫—Ç | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|--------|-----------|
| –°–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–µ–∫-–∏–Ω | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∏–π | –¢–µ—Å—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–ª–∏–µ–Ω—Ç–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ UI –∏–∑ UserTab | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–∏–π | –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DEFICIT_PRESETS, INSULIN_PRESETS |
| –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –Ω–æ—Ä–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä—É—á–Ω—ã–µ | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–∏–π | –ü—Ä–æ–≤–µ—Ä—è—Ç—å: `heys_norms` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ò `profileCompleted === true` ‚Üí –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å |
| 4 —à–∞–≥–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–∏–π | –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–î–∞–ª–µ–µ" –±–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è optional |
| –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ wizard | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | Auto-save draft –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –≤ sessionStorage |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ steps | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–∏–π | –°–æ–∑–¥–∞—Ç—å `getCheckinSteps()` ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ |

---

## üöÄ WOW-—ç—Ñ—Ñ–µ–∫—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–≠—Ç–∏ —à—Ç—Ä–∏—Ö–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç wizard –∏–∑ "—Ñ–æ—Ä–º—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è" –≤ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç:

| # | –ò–¥–µ—è | –≠—Ñ—Ñ–µ–∫—Ç | –í—Ä–µ–º—è | –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å |
|---|------|--------|-------|-----------------|
| **W1** | Spring-–∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ | –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π feel | 10 –º–∏–Ω | CSS `transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)` |
| **W2** | Haptic feedback –ø—Ä–∏ –≤—ã–±–æ—Ä–µ | –¢–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ mobile | 5 –º–∏–Ω | `navigator.vibrate?.(10)` –ø—Ä–∏ tap –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É |
| **W3** | Auto-scroll –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–ª—é | –ü–ª–∞–≤–Ω—ã–π UX | 10 –º–∏–Ω | `element.scrollIntoView({ behavior: 'smooth', block: 'center' })` |
| **W4** | üéâ –≠–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è | –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ | 15 –º–∏–Ω | Summary-–∫–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–ª–∞–Ω–æ–º (—Å–º. –Ω–∏–∂–µ) |
| **W5** | Fade-in –ø–æ–ª–µ–π —Å delay | –≠–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ | 5 –º–∏–Ω | `animation: fadeIn 0.3s ease-out 0.1s both` —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º delay |
| **W6** | –ü—É–ª—å—Å–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" | –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é | 5 –º–∏–Ω | `@keyframes pulse` –Ω–∞ –∫–Ω–æ–ø–∫–µ –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π |
| **W7** | Skeleton loading | –ü—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ | 5 –º–∏–Ω | CSS skeleton –Ω–∞ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ |
| **W8** | –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö | "–®–∞–≥ 2 –∏–∑ 3 (67%)" | 3 –º–∏–Ω | –ü–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º |
| **W9** | Emoji-—Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –≤—ã–±–æ—Ä | –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ü–µ–ª–∏ ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è üí™ | 10 –º–∏–Ω | CSS transform scale |
| **W10** | Smart defaults –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É | 25 –ª–µ—Ç ‚Üí 3—á –∏–Ω—Å—É–ª–∏–Ω, 50+ ‚Üí 4—á | 5 –º–∏–Ω | –í getInitialData() |
| **W11** | "–ü–æ—á–µ–º—É –º—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ–º" expand | –ö–Ω–æ–ø–∫–∞ "?" ‚Üí –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ | 15 –º–∏–Ω | Collapsible hint |

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç WOW:
1. **W4** (—ç–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø–ª–∞–Ω–æ–º) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
2. **W1** (spring-–∞–Ω–∏–º–∞—Ü–∏—è) ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ—Å—Ç—å
3. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî nice to have

### W4 ‚Äî –≠–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è (–¥–µ—Ç–∞–ª–∏):

```jsx
// –ü–æ—Å–ª–µ —à–∞–≥–∞ 4 –ø–æ–∫–∞–∑—ã–≤–∞–µ–º summary-—ç–∫—Ä–∞–Ω (–Ω–µ —à–∞–≥, –∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω)
<div className="text-center p-6">
  <div className="text-4xl mb-4">üéâ</div>
  <h2 className="text-xl font-bold mb-2">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {firstName || '–¥—Ä—É–≥'}!</h2>
  <p className="text-gray-600 mb-6">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≥–æ—Ç–æ–≤</p>
  
  <div className="bg-emerald-50 rounded-xl p-4 mb-6 text-left">
    <div className="flex justify-between mb-2">
      <span>üéØ –¶–µ–ª—å:</span>
      <span className="font-medium">{weightGoal} –∫–≥ ({diffSign}{Math.abs(weightDiff)} –∫–≥)</span>
    </div>
    <div className="flex justify-between mb-2">
      <span>üî• –ö–∞–ª–æ—Ä–∏–∏:</span>
      <span className="font-medium">{optimum} –∫–∫–∞–ª/–¥–µ–Ω—å</span>
    </div>
    <div className="flex justify-between mb-2">
      <span>üìä –ë–ñ–£:</span>
      <span className="font-medium">–ë{proteinPct}% –£{carbsPct}% –ñ{fatPct}%</span>
    </div>
    <div className="flex justify-between">
      <span>‚è± –ü—Ä–æ–≥–Ω–æ–∑:</span>
      <span className="font-medium">~{weeks} –Ω–µ–¥–µ–ª—å</span>
    </div>
  </div>
  
  <p className="text-sm text-gray-500 mb-4">
    –ù–æ—Ä–º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –ø–æ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º. –ú–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –ü—Ä–æ—Ñ–∏–ª–µ.
  </p>
  
  <button className="w-full bg-emerald-500 text-white py-3 rounded-xl font-medium">
    –ù–∞—á–∞—Ç—å! ‚Üí
  </button>
</div>
```

---

## ü§î –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### Q1: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —à–∞–≥–∏ 3+4?
- **–°–µ–π—á–∞—Å**: 4 —à–∞–≥–∞ (Personal ‚Üí Body ‚Üí Goals ‚Üí Metabolism)  
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: 3 —à–∞–≥–∞ (Personal ‚Üí Body ‚Üí Goals+Metabolism)
- **‚úÖ –†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å 4 —à–∞–≥–∞, –Ω–æ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏. 4 —à–∞–≥–∞ —Å 2-3 –ø–æ–ª—è–º–∏ –∫–∞–∂–¥—ã–π –ª—É—á—à–µ, —á–µ–º 3 —à–∞–≥–∞ —Å 4-5 –ø–æ–ª—è–º–∏. –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å–æ–∑–¥–∞—ë—Ç –æ—â—É—â–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è.

### Q2: –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å `gender='–î—Ä—É–≥–æ–µ'`?
- **‚úÖ –†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º—É–∂—Å–∫–∏–µ –Ω–æ—Ä–º—ã –ë–ñ–£ (25% –∂–∏—Ä–æ–≤ –≤–º–µ—Å—Ç–æ 30% –∂–µ–Ω—Å–∫–∏—Ö). –í –∫–æ–¥–µ:
  ```javascript
  const isFemale = gender === '–ñ–µ–Ω—Å–∫–∏–π';  // '–î—Ä—É–≥–æ–µ' ‚Üí false ‚Üí –º—É–∂—Å–∫–∏–µ –Ω–æ—Ä–º—ã
  ```

### Q3: –°–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø—Ä–æ —Ü–∏–∫–ª —É –∂–µ–Ω—â–∏–Ω?
- **‚úÖ –†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å toggle –≤ —à–∞–≥ Personal (—Å–º. B7). –ù–µ –¥–µ–ª–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º ‚Äî —ç—Ç–æ –¥–µ–ª–∏–∫–∞—Ç–Ω–∞—è —Ç–µ–º–∞.

### Q4: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å wizard?
- **‚úÖ –†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –≤ header wizard:
  - –°—Ç–∞–≤–∏—Ç `profileCompleted: true` —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  - Toast: "–ù–æ—Ä–º—ã –±—É–¥—É—Ç –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –ü—Ä–æ—Ñ–∏–ª–µ."
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

### Q5: birthDate picker –Ω–∞ mobile?
- **‚úÖ –†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π `<input type="date">` ‚Äî –æ–Ω —É–∂–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ iOS/Android. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–æ–∑—Ä–∞—Å—Ç —Ä—è–¥–æ–º: "(32 –≥–æ–¥–∞)"

---

## üìä –û–≤–µ—Ä–∫–∏–ª–ª-–∞–Ω–∞–ª–∏–∑

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|--------|--------------|
| 4 —à–∞–≥–∞ wizard | ‚úÖ OK | –û—Å—Ç–∞–≤–∏—Ç—å ‚Äî –∫–∞–∂–¥—ã–π —à–∞–≥ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π (2-3 –ø–æ–ª—è) |
| 11 –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | ‚ö†Ô∏è –ú–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ | Footnotes –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ –∫–ª–∏–∫—É "?" |
| calcNormsFromGoal() | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ö–æ–¥ –≤ –ø—Ä–æ–º–ø—Ç–µ –≥–æ—Ç–æ–≤ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é |
| UI Hints –Ω–∞ –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ | ‚ö†Ô∏è –ú–Ω–æ–≥–æ | –°–¥–µ–ª–∞—Ç—å collapsible ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ –∫–ª–∏–∫—É |
| WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã 12 —à—Ç | ‚ö†Ô∏è –ú–Ω–æ–≥–æ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: W5 ‚Üí W4 ‚Üí W1, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| Cycle tracking toggle | ‚úÖ –£–º–µ—Å—Ç–Ω–æ | –î–æ–±–∞–≤–∏—Ç—å –¥–ª—è –∂–µ–Ω—â–∏–Ω (B7) |

---

## üéØ MVP vs Full Scope

### üöÄ Full Scope ‚Äî –¥–µ–ª–∞–µ–º –í–°–Å (~180-210 –º–∏–Ω)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ß—Ç–æ –¥–µ–ª–∞–µ–º |
|-----------|------------|
| **Core** | 4 —à–∞–≥–∞ wizard, calcNormsFromGoal(), cycle toggle |
| **WOW W1-W12** | –í–°–ï 12 —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (—Å–º. —Ç–∞–±–ª–∏—Ü—É –Ω–∏–∂–µ) |
| **Hints "?"** | Collapsible hints –ø–æ –∫–ª–∏–∫—É (–ù–ï inline —Ç–µ–∫—Å—Ç) |
| **–ü—Ä–æ–ø—É—Å–∫** | –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" —Å toast |

### WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî –¥–µ–ª–∞–µ–º –í–°–ï 12:

| # | WOW | –í—Ä–µ–º—è | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---|-----|-------|------------|
| **W1** | Spring-–∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ | 10 –º–∏–Ω | `transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)` |
| **W2** | Haptic feedback | 5 –º–∏–Ω | `navigator.vibrate?.(10)` –ø—Ä–∏ tap |
| **W3** | Auto-scroll –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–ª—é | 10 –º–∏–Ω | `scrollIntoView({ behavior: 'smooth', block: 'center' })` |
| **W4** | üéâ –≠–∫—Ä–∞–Ω –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è | 15 –º–∏–Ω | Summary-–∫–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–ª–∞–Ω–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π "–ù–∞—á–∞—Ç—å!" |
| **W5** | Fade-in –ø–æ–ª–µ–π —Å delay | 5 –º–∏–Ω | `animation: fadeIn 0.3s ease-out` —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º |
| **W6** | –ü—É–ª—å—Å–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" | 5 –º–∏–Ω | `@keyframes pulse` –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö |
| **W7** | Skeleton loading | 5 –º–∏–Ω | CSS skeleton –Ω–∞ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ |
| **W8** | –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö | 3 –º–∏–Ω | "–®–∞–≥ 2 –∏–∑ 4 (50%)" –ø–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º |
| **W9** | Emoji-—Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –≤—ã–±–æ—Ä | 10 –º–∏–Ω | CSS transform scale –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ä—Ç–æ—á–∫–∏ |
| **W10** | Smart defaults –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É | 5 –º–∏–Ω | 25 –ª–µ—Ç ‚Üí 3—á –∏–Ω—Å—É–ª–∏–Ω, 50+ ‚Üí 4—á |
| **W11** | Collapsible "?" hints | 15 –º–∏–Ω | –ö–Ω–æ–ø–∫–∞ "?" ‚Üí expand —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º |

---

## üîô Rollback –ø–ª–∞–Ω

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫:
1. `git checkout apps/web/heys_morning_checkin_v1.js` ‚Äî –æ—Ç–∫–∞—Ç —á–µ–∫-–∏–Ω–∞
2. –£–¥–∞–ª–∏—Ç—å `apps/web/heys_profile_step_v1.js` ‚Äî —É–¥–∞–ª–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª
3. –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ `index.html` ‚Äî —É–±—Ä–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
4. `pnpm dev` ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —á–µ–∫-–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

## üìö –ù–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–¥–ª—è footnotes –≤ UI)

| # | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ß—Ç–æ –æ–±–æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç | –°—Å—ã–ª–∫–∞ |
|---|----------|------------------|--------|
| 1 | National Sleep Foundation, 2015 | –ù–æ—Ä–º—ã —Å–Ω–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É | [sleepfoundation.org](https://www.sleepfoundation.org/how-sleep-works/how-much-sleep-do-we-really-need) |
| 2 | Mifflin et al., 1990 | –§–æ—Ä–º—É–ª–∞ BMR (–∑–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç) | AJCN 51(2):241-7 |
| 3 | CDC, NHS | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ö—É–¥–µ–Ω–∏—è 0.5-1 –∫–≥/–Ω–µ–¥ | [cdc.gov](https://www.cdc.gov/healthyweight/losing_weight/) |
| 4 | ISSN Position Stand, 2017 | –ë–µ–ª–æ–∫ 1.6-2.4 –≥/–∫–≥ –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ | JISSN 14:16 |
| 5 | ISSN Position Stand, 2017 | –ë–µ–ª–æ–∫ 1.6-2.2 –≥/–∫–≥ –¥–ª—è –≥–∏–ø–µ—Ä—Ç—Ä–æ—Ñ–∏–∏ | JISSN 14:16 |
| 6 | ISSN + Examine.com | –ñ–µ–Ω—â–∏–Ω–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∂–∏—Ä–æ–≤ (–≥–æ—Ä–º–æ–Ω—ã) | examine.com/guides/protein-intake |
| 7 | National Sleep Foundation, 2015 | –í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–Ω–∞ | Sleep Health 1(1):40-43 |
| 8 | Ludwig et al., JAMA 2018 | –ü–æ—Å—Ç–ø—Ä–∞–Ω–¥–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—É–ª–∏–Ω–æ–≤—ã–π –æ—Ç–≤–µ—Ç | JAMA 319(8):768-770 |
| 9 | DeFronzo, 1979 | –ò–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–∏–∞–±–µ—Ç–µ/–æ–∂–∏—Ä–µ–Ω–∏–∏ | Diabetes 28(12):1086-96 |
| 10 | Examine.com Protein Guide | –ë–µ–ª–æ–∫ 40+ (–∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–∞—è —Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å) | examine.com/guides/protein-intake |
| 11 | –í–û–ó (WHO) | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ë–ñ–£ –∏ –ø–æ–¥–≤–∏–¥–∞–º | who.int/nutrition |

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ UI:

```jsx
// –ü—Ä–∏–º–µ—Ä –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å footnote
<p className="text-xs text-gray-500 mt-1">
  –í–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç –±–∞–∑–æ–≤–æ–≥–æ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞ –∏ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ë–ñ–£
</p>

// Footnote –≤–Ω–∏–∑—É —à–∞–≥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–Ω–æ—Å–∫–∏)
<div className="text-[10px] text-gray-400 mt-4 border-t pt-2">
  ¬π National Sleep Foundation, 2015; Examine.com Protein Guide
</div>
```

---

## üìä Summary (v0.10.0)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ wizard (4 —à–∞–≥–∞):

| # | –®–∞–≥ | –ü–æ–ª—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ |
|---|-----|------|--------------|
| 1 | **Personal** | firstName, gender, birthDate, cycleTrackingEnabled* | gender, birthDate |
| 2 | **Body** | weight, height, weightGoal | –í–°–ï |
| 3 | **Goals** | deficitPctTarget | –î–ê |
| 4 | **Metabolism** | sleepHours (–∞–≤—Ç–æ), insulinWaveHours | insulinWaveHours |

*cycleTrackingEnabled –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è `gender='–ñ–µ–Ω—Å–∫–∏–π'`

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (7):
`gender`, `birthDate`, `weight`, `height`, `weightGoal`, `deficitPctTarget`, `insulinWaveHours`

### –ë–ª–æ–∫–µ—Ä—ã Phase 0:
- ‚úÖ B1-B4: –í—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚ö†Ô∏è B5-B7: –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Ä–µ—à–µ–Ω–∏—è (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–æ–≤, cycle toggle)

### –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç (–≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ):
- `age` ‚Üê birthDate
- `sleepHours` (default) ‚Üê calcSleepNorm(age, gender)
- **–í—Å–µ –Ω–æ—Ä–º—ã –ë–ñ–£** ‚Üê calcNormsFromGoal(deficitPctTarget, gender, age) –ø–æ –Ω–∞—É–∫–µ –í–û–ó + ISSN

### –ö–ª—é—á–µ–≤–∞—è –ª–æ–≥–∏–∫–∞:
- –¶–µ–ª—å (deficitPctTarget) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ë–ñ–£ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–ª –∏ –≤–æ–∑—Ä–∞—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç –Ω–æ—Ä–º—ã (–∂–µ–Ω—â–∏–Ω—ã +–∂–∏—Ä—ã, 40+ +–±–µ–ª–æ–∫)
- –ü–æ–¥–≤–∏–¥—ã (–ø—Ä–æ—Å—Ç—ã–µ/—Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã, –≤–∏–¥—ã –∂–∏—Ä–æ–≤) ‚Äî –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –í–û–ó
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º—ã –≤—Ä—É—á–Ω—É—é –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–∑–∂–µ

### WOW-—ç—Ñ—Ñ–µ–∫—Ç:
- –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –∏–º–µ–µ—Ç –Ω–∞—É—á–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É (hint)
- Footnotes —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ-—Ä–∞—Å—á—ë—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ ‚Üí –¥–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üöÄ Usage

1. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å Phase 0 (–≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ —á–µ–∫-–ª–∏—Å—Ç—É Must Have (4 —à–∞–≥–∞ + –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç)
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–æ–≤–æ–º –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–ª–∏–µ–Ω—Ç–µ
4. –í PR —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ `docs/tasks/2025-12-08-first-login-profile-checkin.md`
5. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `docs/tasks/archive/` –∏ –æ–±–Ω–æ–≤–∏—Ç—å `done.md`
