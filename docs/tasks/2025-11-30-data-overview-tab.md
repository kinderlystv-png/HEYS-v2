---
template-version: 3.3.0
created: 2025-11-30
purpose: ะะบะปะฐะดะบะฐ "ะะฑะทะพั ะดะฐะฝะฝัั" โ ัะฐะฑะปะธัะฐ ะทะฐะฟะพะปะฝะตะฝะฝะพััะธ ะฟะฐัะฐะผะตััะพะฒ ะทะฐ ะผะตััั ะดะปั ะบััะฐัะพัะฐ
audit-version: v2
---

# Task: ะะบะปะฐะดะบะฐ ยซะะฑะทะพั ะดะฐะฝะฝััยป (Data Overview)

## ๐ฏ WHY (ะะธะทะฝะตั-ะบะพะฝัะตะบัั)

**Problem**: ะััะฐัะพั ะฝะต ะฒะธะดะธั, ะบะฐะบะธะต ะดะฝะธ ะบะปะธะตะฝั ะทะฐะฟะพะปะฝะธะป, ะฐ ะบะฐะบะธะต โ ะฟัะพะฟัััะธะป. ะัะถะฝะพ ะปะธััะฐัั ะบะฐะถะดัะน ะดะตะฝั ะฒัััะฝัั, ััะพะฑั ะฟะพะฝััั ะบะฐััะธะฝั.

**Impact**: ะััะฐัะพั ััะฐัะธั ะฒัะตะผั ะฝะฐ ะฟะพะธัะบ ะฟัะพะฑะตะปะพะฒ โ ััะถะต ะบะฐัะตััะฒะพ ัะฐะฑะพัั ั ะบะปะธะตะฝัะพะผ.

**Value**: ะะดะฝะฐ ัะฐะฑะปะธัะฐ ะฟะพะบะฐะทัะฒะฐะตั ะะกะ 30 ะดะฝะตะน ั ะธะฝะดะธะบะฐัะธะตะน ะทะฐะฟะพะปะฝะตะฝะฝะพััะธ ะบะฐะถะดะพะณะพ ะฟะฐัะฐะผะตััะฐ โ ะบััะฐัะพั ะฒะธะดะธั ะฟัะพะฑะตะปั ะทะฐ 2 ัะตะบัะฝะดั.

---

## ๐ ะะะฃะะะะะ ะะฃะะะข (v2)

### ๐ด ะัะธัะธัะตัะบะธะต ะฝะฐัะพะดะบะธ

| # | ะัะพะฑะปะตะผะฐ | ะกัะฐััั | ะะตัะตะฝะธะต |
|---|----------|--------|---------|
| 1 | **clientId namespace** โ ะดะฐะฝะฝัะต ัะฐะทะฝัะต ะดะปั ัะฐะทะฝัั ะบะปะธะตะฝัะพะฒ! | โ๏ธ ะะะะะะ | ะะฐััะตัะฝ ะธะท `heys_day_v12.js:3525` |
| 2 | **ะัะพะฟััะตะฝะฝัะต ะฟะพะปั** โ ะฒ v1 ะฝะต ะฑัะปะพ `householdMin`, `moodAvg`, `wellbeingAvg`, `stressAvg` | โ๏ธ | ะะพะฑะฐะฒะปะตะฝะพ ะฝะธะถะต |
| 3 | **setTab + setSelectedDate** โ ะดะปั ะฝะฐะฒะธะณะฐัะธะธ ะฝัะถะตะฝ ะดะพัััะฟ ะบ ััะธะผ ััะฝะบัะธัะผ | โ๏ธ | Props ะธะปะธ window.HEYS |
| 4 | **Ternary hell ะฒ tab ัะตะฝะดะตัะธะฝะณะต** โ ัะปะพะถะฝะฐั ะฒะปะพะถะตะฝะฝะพััั (ัััะพะบะฐ 1907) | โ๏ธ | ะะบะบััะฐัะฝะพ ะดะพะฑะฐะฒะธัั case |

### ๐ก ะะพัะตะฝัะธะฐะปัะฝัะต ะฟัะพะฑะปะตะผั

| # | ะัะพะฑะปะตะผะฐ | ะะธัะบ | ะะตัะตะฝะธะต |
|---|----------|------|---------|
| 1 | **11+ ะบะพะปะพะฝะพะบ ะฝะฐ ะผะพะฑะธะปัะฝะพะผ** โ ะฝะต ะฒะปะตะทะตั | ะััะพะบะธะน | ะะพัะธะทะพะฝัะฐะปัะฝัะน ัะบัะพะปะป + sticky ะดะฐัะฐ |
| 2 | **sticky + scroll** โ ะผะพะถะตั ะบะพะฝัะปะธะบัะพะฒะฐัั | ะกัะตะดะฝะธะน | ะขะตััะธัะพะฒะฐัั ะฝะฐ iOS Safari! |
| 3 | **ะะฝะพะณะพ ััะตะตะบ = ะผะตะดะปะตะฝะฝัะน ัะตะฝะดะตั** | ะะธะทะบะธะน | 30 ัััะพะบ ร 12 ะบะพะปะพะฝะพะบ = 360 ััะตะตะบ (ะฝะพัะผ) |
| 4 | **Dark mode** โ sticky ัะปะตะผะตะฝัั ะฝัะถะฝั ะพัะพะฑัะต ััะธะปะธ | ะกัะตะดะฝะธะน | CSS ะฟะตัะตะผะตะฝะฝัะต |

### โ ะะพะปะฝัะน ัะฟะธัะพะบ ะฟะพะปะตะน DayRecord

> **ะััะพัะฝะธะบ**: `docs/DATA_MODEL_REFERENCE.md` + `heys_day_v12.js`

| ะะฐัะฐะผะตัั | ะะพะปะต | ะะบะพะฝะบะฐ | ะงัะพ ััะธัะฐะตััั "ะทะฐะฟะพะปะฝะตะฝะพ" | ะัะธะพัะธัะตั |
|----------|------|--------|---------------------------|-----------|
| **ะะตั** | `weightMorning` | โ๏ธ | > 0 | ๐ด ะัะธัะธัะฝะพ |
| **ะกะพะฝ (ะปัะณ)** | `sleepStart` | ๐๏ธ | ะฝะต ะฟัััะพ | ๐ด |
| **ะกะพะฝ (ะฒััะฐะป)** | `sleepEnd` | โฐ | ะฝะต ะฟัััะพ | ๐ด |
| **ะะฐัะตััะฒะพ ัะฝะฐ** | `sleepQuality` | ๐ด | 1-5 | ๐ก |
| **ะจะฐะณะธ** | `steps` | ๐ | > 0 | ๐ด |
| **ะะพะดะฐ** | `waterMl` | ๐ง | > 0 | ๐ก |
| **ะัะตะฝะบะฐ ะดะฝั** | `dayScore` | โญ | 1-10 | ๐ก |
| **ะะพะผ. ะฐะบัะธะฒะฝะพััั** | `householdMin` | ๐ | > 0 | ๐ข ะะฟัะธะพะฝะฐะปัะฝะพ |
| **ะขัะตะฝะธัะพะฒะบะฐ** | `trainings.length` | ๐ | > 0 | ๐ข |
| **ะัะธัะผั ะฟะธัะธ** | `meals.length` | ๐ฝ๏ธ | > 0 | ๐ด |
| **ะะฐัััะพะตะฝะธะต (avg)** | `moodAvg` | ๐ | 1-5 (ะฒััะธัะปัะตััั) | ๐ข |
| **ะกะฐะผะพััะฒััะฒะธะต** | `wellbeingAvg` | ๐ช | 1-5 (ะฒััะธัะปัะตััั) | ๐ข |
| **ะกััะตัั** | `stressAvg` | ๐ฐ | 1-5 (ะฒััะธัะปัะตััั) | ๐ข |
| **ะะพะผะผะตะฝัะฐัะธะน** | `dayComment` | ๐ฌ | ะฝะต ะฟัััะพ | ๐ข |
| **ะะตัะธัะธั %** | `deficitPct` | ๐ | ัะธัะปะพ (ะผะพะถะตั ะฑััั 0) | ๐ก |

**ะะตะบะพะผะตะฝะดะฐัะธั**: ะะฐัะฐัั ั **8 ะบะปััะตะฒัั ะฟะพะปะตะน** (๐ด+๐ก), ะพััะฐะปัะฝัะต โ Phase 2

### ๐ ะัะตะฝะบะฐ ะฝะฐ ะพะฒะตัะบะธะปะป

| ะญะปะตะผะตะฝั | ะัะพะฒะตัะบะฐ | ะะตัะดะธะบั |
|---------|----------|---------|
| 15 ะบะพะปะพะฝะพะบ | ะะฝะพะณะพ ะดะปั ะผะพะฑะธะปัะฝะพะณะพ | โ๏ธ ะกะพะบัะฐัะธัั ะดะพ 8-10 |
| Tooltip ะฝะฐ ะบะฐะถะดะพะน ััะตะนะบะต | +360 event listeners | โ๏ธ ะะตะปะตะณะธัะพะฒะฐะฝะธะต |
| Heatmap ะณัะฐะดะธะตะฝัั | ะกะปะพะถะฝะพ ะดะปั MVP | โณ Phase 2 |
| ะคะธะปััั ะฟะพ ะฟะพะปั | ะฃัะปะพะถะฝัะตั | โณ Phase 2 |
| Sticky ะบะพะปะพะฝะบะฐ | ะัะถะฝะพ, ะฝะพ ัะปะพะถะฝะพ | โ ะะตะปะฐะตะผ |

### ๐ UI ะบะพะฝัะตะฟัะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะะฑะทะพั ะดะฐะฝะฝัั ะทะฐ 30 ะดะฝะตะน                    ะะฐะฟะพะปะฝะตะฝะพ: 78%   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะะฐัะฐ     โ โ๏ธ โ ๐๏ธ โ โฐ โ ๐ด โ ๐ โ ๐ง โ โญ โ ๐ โ ๐ฝ๏ธ โ ๐ฌ โ
โโโโโโโโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโผโโโโโค
โ 30.11 ะกะฑ โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ 80%
โ 29.11 ะั โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ 60%
โ 28.11 ะงั โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ  โ โ 10% โ๏ธ
โ ...      โ    โ    โ    โ    โ    โ    โ    โ    โ    โ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะตะณะตะฝะดะฐ:**
- โ (ะทะตะปัะฝัะน) โ ะทะฐะฟะพะปะฝะตะฝะพ (ะพะฑััะฝัะน ัะพะฝ)
- โ (ัะตััะน ะฝะฐ ะบัะฐัะฝะพะผ ัะพะฝะต) โ ะฟัััะพ โ ััะฐะทั ะฒะธะดะฝะพ ะฟัะพะฑะตะปั!

---

## โช ะคะะะ 0 โ ะัะตะดะฒะฐัะธัะตะปัะฝะฐั ะฟะพะดะณะพัะพะฒะบะฐ

### 0.1 ะัะพะฒะตัะบะธ

- [ ] **ะกะฟะธัะพะบ ะฟะพะปะตะน DayRecord** โ ัะฑะตะดะธัััั ััะพ ะฒัะต ะฟะพะปั ะดะพัััะฟะฝั
  - ะกะผ. `docs/DATA_MODEL_REFERENCE.md` โ ัะตะบัะธั "ะะฐะฝะฝัะต ะดะฝั"
  
- [ ] **TABS_ORDER** โ ะฝะฐะนัะธ ะฒัะต ะผะตััะฐ (5+)
  ```bash
  grep -n "TABS_ORDER\|tab === " apps/web/heys_app_v12.js | head -20
  ```

- [ ] **clientId namespace** โ ะฟะฐััะตัะฝ ะธะท `heys_day_v12.js:3525`

### 0.2 ะัะฑะพั

- [ ] **ะะฐะทะฒะฐะฝะธะต ัะฐะนะปะฐ**: `heys_data_overview_v1.js`
- [ ] **ะะฐะทะฒะฐะฝะธะต ะฒะบะปะฐะดะบะธ**: `๐ ะะฐะฝะฝัะต` ะธะปะธ `๐ ะะฑะทะพั`
- [ ] **ะะพะทะธัะธั ะฒ ะผะตะฝั**: ะะพัะปะต reports, ะฟะตัะตะด user
- [ ] **ID ะฒะบะปะฐะดะบะธ**: `'overview'` (ะบะพัะพัะบะธะน, ะฟะพะฝััะฝัะน)

---

## ๐ค Output Preferences

**Workflow**: Implement directly

**Code style**: Follow copilot-instructions.md

---

## ๐ WHAT (ะงะตะบ-ะปะธัั ะทะฐะดะฐั)

### Must Have (ะบัะธัะธัะฝะพ)

- [ ] **Legacy UI** โ `apps/web/heys_app_v12.js` โ ะดะพะฑะฐะฒะธัั ะฒะบะปะฐะดะบั
  - **TABS_ORDER**: ะะพะฑะฐะฒะธัั `'overview'` ะฟะพัะปะต `'reports'` (ัััะพะบะฐ 654)
  - **ะะตะฝั**: ะะฝะพะฟะบะฐ ๐ ะผะตะถะดั reports ะธ user (ัััะพะบะฐ ~1865)
  - **ะะพะฝัะตะฝั**: Case ะดะปั `tab === 'overview'` (ัััะพะบะฐ ~1907)
  - **DatePicker**: ะะ ะฟะพะบะฐะทัะฒะฐัั (ะผะตััั, ะฝะต ะดะตะฝั)

- [ ] **ะะพะฒัะน ัะฐะนะป** โ `apps/web/heys_data_overview_v1.js`
  - **ะะฐััะตัะฝ**: IIFE ะบะฐะบ ะฒ `heys_reports_v12.js`
  - **Props**: `{ clientId }` ะดะปั namespace
  - **ะญะบัะฟะพัั**: `HEYS.DataOverviewTab = DataOverviewTab`

- [ ] **ะงัะตะฝะธะต ะดะฐะฝะฝัั** โ 30 ะดะฝะตะน ั ะฟัะพะฒะตัะบะพะน ะบะฐะถะดะพะณะพ ะฟะพะปั
  - **โ๏ธ clientId namespace ะพะฑัะทะฐัะตะปะตะฝ!**
  - **ะะพะปั**: weightMorning, sleepStart, sleepEnd, sleepQuality, steps, waterMl, dayScore, deficitPct, trainings, meals, dayComment

- [ ] **UI ัะฐะฑะปะธัะฐ** โ ะบะพะผะฟะฐะบัะฝะฐั ั ะธะบะพะฝะบะฐะผะธ
  - **ะะฐะณะพะปะพะฒะพะบ**: ะะบะพะฝะบะธ ะฒะผะตััะพ ัะตะบััะฐ (ัะบะพะฝะพะผะธั ะผะตััะฐ)
  - **ะฏัะตะนะบะธ**: โ (ะทะตะปัะฝัะน) / โ (ัะตััะน)
  - **ะัะพัะตะฝั**: ะกะฟัะฐะฒะฐ ะพั ะบะฐะถะดะพะน ัััะพะบะธ
  - **ะะฑัะธะน %**: ะ header

- [ ] **HTML** โ ะฟะพะดะบะปััะธัั ัะบัะธะฟั
  - `<script defer src="heys_data_overview_v1.js?v=1"></script>`

### Should Have

- [ ] **ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั ััะตะตะบ**
  - ะะฐะฟะพะปะฝะตะฝะพ โ ะพะฑััะฝัะน ัะพะฝ, โ ะทะตะปัะฝัะน
  - ะัััะพ โ ะบัะฐัะฝัะน ัะพะฝ ััะตะนะบะธ, โ ัะตััะน

- [ ] **Tooltip ะฝะฐ ััะตะนะบะฐั** โ ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ ะฟะพะบะฐะทะฐัั ะทะฝะฐัะตะฝะธะต
  - ะะตั: "75.5 ะบะณ"
  - ะกะพะฝ: "23:30 โ 07:00 (7.5ั)"
  - ะจะฐะณะธ: "8500"

- [ ] **ะะปะธะบ ะฝะฐ ัััะพะบั โ ะฟะตัะตัะพะด ะฝะฐ ะดะตะฝั**
  - `setTab('stats')` + `setSelectedDate(rowDate)`

### โจ WOW Features

- [ ] **Heatmap ัะฒะตั ััะตะตะบ** โ ะฝะต ะฟัะพััะพ โ/โ, ะฐ ะณัะฐะดะธะตะฝั
  - ะะตั: ะธะฝัะตะฝัะธะฒะฝะพััั ะฟะพ ะพัะบะปะพะฝะตะฝะธั ะพั ััะตะดะฝะตะณะพ
  - ะจะฐะณะธ: ะทะตะปัะฝะตะต ะตัะปะธ ะฑะปะธะถะต ะบ ัะตะปะธ
  - ะกะพะฝ: ะทะตะปัะฝะตะต ะตัะปะธ 7-8ั

- [ ] **"ะฅัะดัะธะน ะดะตะฝั"** ะฟะพะดัะฒะตัะธัั ะบัะฐัะฝัะผ ๐จ
  - ะะตะฝั ั ะผะธะฝะธะผะฐะปัะฝัะผ % ะทะฐะฟะพะปะฝะตะฝะฝะพััะธ

- [ ] **ะคะธะปััั ะฟะพ ะฟะพะปั** โ ะบะปะธะบ ะฝะฐ ะธะบะพะฝะบั ะฒ header
  - ะะพะบะฐะทะฐัั ัะพะปัะบะพ ะดะฝะธ ะณะดะต ััะพ ะฟะพะปะต ะฟัััะพะต
  - ะัััััะน ะฟะพะธัะบ: "ะณะดะต ะฝะตั ะฒะตัะฐ?"

- [ ] **ะกะฒะพะดะบะฐ ะฒะฒะตััั** โ ะบะฐััะพัะบะธ ั ะบะปััะตะฒัะผะธ ะผะตััะธะบะฐะผะธ
  ```
  [ะะฐะฟะพะปะฝะตะฝะพ 78%] [ะะตั: 25/30] [ะกะพะฝ: 28/30] [ะจะฐะณะธ: 20/30]
  ```

---

## โ DONE (ะัะธัะตัะธะธ ะฟัะธัะผะบะธ)

### Functional

- [ ] ะะปะธะบ ะฝะฐ ะฒะบะปะฐะดะบั โ ะพัะบััะฒะฐะตััั ัะฐะฑะปะธัะฐ 30 ะดะฝะตะน
- [ ] ะะธะดะฝั ะะกะ ะพััะปะตะถะธะฒะฐะตะผัะต ะฟะฐัะฐะผะตััั (10-11 ะบะพะปะพะฝะพะบ)
- [ ] ะััััะต ะดะฝะธ ะฟะพะดัะฒะตัะตะฝั (ะฒะธะดะฝะพ ััะฐะทั!)
- [ ] ะกะฒะฐะนะฟ ะผะตะถะดั ะฒะบะปะฐะดะบะฐะผะธ ัะฐะฑะพัะฐะตั
- [ ] ะะปะธะบ ะฝะฐ ัััะพะบั โ ะฟะตัะตัะพะด ะฝะฐ ะดะตะฝั

### Edge Cases

- [ ] ะะตั ะดะฐะฝะฝัั ะฒะพะพะฑัะต โ "ะะปะธะตะฝั ะตัั ะฝะต ะฝะฐัะฐะป ะทะฐะฟะพะปะฝััั ะดะฐะฝะฝัะต"
- [ ] clientId ะฟัััะพะน โ fallback ะฑะตะท namespace
- [ ] ะงะฐััะธัะฝะพ ะทะฐะฟะพะปะฝะตะฝะฝัะต ะดะฝะธ โ ะฟะพะบะฐะทะฐัั ััะพ ะตััั

### Quality Gates

- [ ] `pnpm type-check` PASS
- [ ] `pnpm lint` PASS  
- [ ] `pnpm build` PASS

### UI Testing (Mobile)

- [ ] ะขะฐะฑะปะธัะฐ ัะบัะพะปะปะธััั ะณะพัะธะทะพะฝัะฐะปัะฝะพ (ะผะฝะพะณะพ ะบะพะปะพะฝะพะบ)
- [ ] ะะตัะฒะฐั ะบะพะปะพะฝะบะฐ (ะดะฐัะฐ) ะทะฐะปะธะฟะฐะตั ะฟัะธ ัะบัะพะปะปะต
- [ ] ะฏัะตะนะบะธ ะดะพััะฐัะพัะฝะพ ะฑะพะปััะธะต ะดะปั touch (โฅ32px)
- [ ] ะะบะพะฝะบะธ ัะธัะฐะตะผั (14px+)

---

## ๐ ะะปััะตะฒัะต ัะฐะนะปั

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต | ะกััะพะบะธ |
|------|------------|--------|
| `apps/web/heys_app_v12.js` | ะะพะฑะฐะฒะธัั ะฒะบะปะฐะดะบั | 654, 1785, 1865, 1907 |
| `apps/web/heys_data_overview_v1.js` | **ะะพะฒัะน** ะบะพะผะฟะพะฝะตะฝั | โ |
| `apps/web/index.html` | ะะพะดะบะปััะธัั ัะบัะธะฟั | ~107 |
| `apps/web/styles/main.css` | CSS | ะบะพะฝะตั ัะฐะนะปะฐ |
| `docs/DATA_MODEL_REFERENCE.md` | ะกะฟัะฐะฒะบะฐ ะฟะพ ะฟะพะปัะผ | โ |

---

## ๐ ะกัััะบัััะฐ ะดะฐะฝะฝัั

### ะะพะฝัะธะณััะฐัะธั ะฟะพะปะตะน (MVP โ 10 ะบะปััะตะฒัั)

> **ะััะพัะฝะธะบ**: ะะปัะฑะพะบะธะน ะฐัะดะธั `heys_day_v12.js` (lines 217-219, 244-246, 342, 357, 1160-1170)

```js
// Phase 1: ะะปััะตะฒัะต ะฟะพะปั (10 ัั)
const TRACKED_FIELDS = [
  { key: 'weightMorning', icon: 'โ๏ธ', label: 'ะะตั', check: v => v > 0, format: v => v + ' ะบะณ' },
  { key: 'sleepStart', icon: '๐๏ธ', label: 'ะัะณ', check: v => !!v, format: v => v },
  { key: 'sleepEnd', icon: 'โฐ', label: 'ะััะฐะป', check: v => !!v, format: v => v },
  { key: 'sleepQuality', icon: '๐ด', label: 'ะกะพะฝ', check: v => v >= 1 && v <= 5, format: v => 'โ'.repeat(v) },
  { key: 'steps', icon: '๐', label: 'ะจะฐะณะธ', check: v => v > 0, format: v => v.toLocaleString() },
  { key: 'waterMl', icon: '๐ง', label: 'ะะพะดะฐ', check: v => v > 0, format: v => (v/1000).toFixed(1) + ' ะป' },
  { key: 'dayScore', icon: 'โญ', label: 'ะัะตะฝะบะฐ', check: v => v >= 1 && v <= 10, format: v => v + '/10' },
  { key: 'trainings', icon: '๐', label: 'ะขัะตะฝะธัะพะฒะบะฐ', check: v => Array.isArray(v) && v.length > 0, format: v => v.length + ' ัั' },
  { key: 'meals', icon: '๐ฝ๏ธ', label: 'ะะดะฐ', check: v => Array.isArray(v) && v.length > 0, format: v => v.length + ' ะฟัะธัะผะพะฒ' },
  { key: 'dayComment', icon: '๐ฌ', label: 'ะะพะผะผะตะฝั', check: v => !!v && v.trim().length > 0, format: v => v.slice(0, 20) + '...' },
];

// Phase 2: ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะฟะพะปั (5 ัั) โ ะดะพะฑะฐะฒะธัั ะฟะพัะปะต MVP
const EXTRA_FIELDS = [
  { key: 'householdMin', icon: '๐', label: 'ะะพะผ', check: v => v > 0, format: v => v + ' ะผะธะฝ' },
  { key: 'moodAvg', icon: '๐', label: 'ะะฐัััะพะตะฝะธะต', check: v => v > 0, format: v => v.toFixed(1) },
  { key: 'wellbeingAvg', icon: '๐ช', label: 'ะกะฐะผะพััะฒ.', check: v => v > 0, format: v => v.toFixed(1) },
  { key: 'stressAvg', icon: '๐ฐ', label: 'ะกััะตัั', check: v => v > 0, format: v => v.toFixed(1) },
  { key: 'deficitPct', icon: '๐', label: 'ะะตัะธัะธั', check: v => v !== undefined && v !== null, format: v => v + '%' },
];
```

**ะัะธะผะตัะฐะฝะธะต**: `moodAvg`, `wellbeingAvg`, `stressAvg` โ ะฒััะธัะปัะตะผัะต ััะตะดะฝะธะต ะธะท ะฟัะธัะผะพะฒ ะฟะธัะธ (ัะผ. `heys_day_v12.js:1160-1170`).

### ะงัะตะฝะธะต ะดะฐะฝะฝัั

```js
function getOverviewData(clientId, daysCount = 30) {
  const today = new Date();
  const days = [];
  
  for (let i = 0; i < daysCount; i++) {
    const d = new Date(today);
    d.setDate(d.getDate() - i);
    const dateStr = d.toISOString().slice(0, 10);
    
    // โ๏ธ ะะะะขะะงะะ: clientId namespace!
    const scopedKey = clientId 
      ? 'heys_' + clientId + '_dayv2_' + dateStr 
      : 'heys_dayv2_' + dateStr;
    
    const raw = localStorage.getItem(scopedKey);
    const dayData = raw ? JSON.parse(raw) : {};
    
    // ะัะพะฒะตััะตะผ ะบะฐะถะดะพะต ะฟะพะปะต
    const fields = {};
    let filledCount = 0;
    
    TRACKED_FIELDS.forEach(f => {
      const value = dayData[f.key];
      const isFilled = f.check(value);
      fields[f.key] = { value, filled: isFilled };
      if (isFilled) filledCount++;
    });
    
    days.push({
      date: dateStr,
      dayOfWeek: ['ะั','ะะฝ','ะั','ะกั','ะงั','ะั','ะกะฑ'][d.getDay()],
      fields,
      filledCount,
      filledPct: Math.round((filledCount / TRACKED_FIELDS.length) * 100)
    });
  }
  
  return days;
}
```

### ะะฐะฒะธะณะฐัะธั ะฟัะธ ะบะปะธะบะต ะฝะฐ ัััะพะบั

> **ะััะพัะฝะธะบ ะฐัะดะธัะฐ**: `heys_app_v12.js` โ `setTab` (lines 711, 719, 1815), `setSelectedDate` (lines 1790, 1798)

```js
// Props ะบะพะผะฟะพะฝะตะฝัะฐ ะดะพะปะถะฝั ะฒะบะปััะฐัั:
// { clientId, setTab, setSelectedDate }

function handleRowClick(dateStr) {
  // 1. ะฃััะฐะฝะพะฒะธัั ะดะฐัั
  setSelectedDate(new Date(dateStr));
  
  // 2. ะะตัะตะนัะธ ะฝะฐ ะฒะบะปะฐะดะบั ััะฐัะธััะธะบะธ
  setTab('stats');
}
```

**ะัะบัะดะฐ ะฑะตััััั ััะฝะบัะธะธ?**
- `setTab` ะธ `setSelectedDate` ะฟะตัะตะดะฐัััั ะธะท `heys_app_v12.js` ะฒ props
- ะะปััะตัะฝะฐัะธะฒะฐ: ัะบัะฟะพััะธัะพะฒะฐัั ัะตัะตะท `window.HEYS.app.setTab()` (ะผะตะฝะตะต ัะธััะพ)

---

## ๐จ CSS

```css
/* Data Overview Tab */
.data-overview-tab {
  padding: 12px;
  overflow-x: auto;
}

.data-overview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  padding: 0 4px;
}

.data-overview-title {
  font-size: 16px;
  font-weight: 600;
}

.data-overview-total {
  font-size: 14px;
  padding: 4px 10px;
  border-radius: 12px;
  background: #d1fae5;
  color: #059669;
}

.data-overview-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
  min-width: 500px; /* ะะปั ะณะพัะธะทะพะฝัะฐะปัะฝะพะณะพ ัะบัะพะปะปะฐ */
}

.data-overview-table th {
  padding: 6px 4px;
  text-align: center;
  font-weight: normal;
  font-size: 14px;
  position: sticky;
  top: 0;
  background: #fff;
  border-bottom: 2px solid #e5e7eb;
}

.data-overview-table td {
  padding: 8px 4px;
  text-align: center;
  border-bottom: 1px solid #f3f4f6;
}

.data-overview-table td:first-child {
  text-align: left;
  font-weight: 500;
  position: sticky;
  left: 0;
  background: #fff;
  z-index: 1;
}

.data-overview-table tbody tr:hover {
  background: #f9fafb;
  cursor: pointer;
}

/* Cell states */
.cell-filled { 
  color: #059669; /* ะทะตะปัะฝะฐั ะณะฐะปะพัะบะฐ */
}

.cell-empty { 
  color: #9ca3af; /* ัะตััะน ะฟัะพัะตัะบ */
  background: #fef2f2; /* ัะฒะตัะปะพ-ะบัะฐัะฝัะน ัะพะฝ */
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  .data-overview-table th,
  .data-overview-table td:first-child { background: #1f2937; }
  .data-overview-table td { border-color: #374151; }
  .data-overview-table tbody tr:hover { background: #374151; }
  .cell-empty { 
    color: #6b7280; 
    background: #451a1a; /* ััะผะฝะพ-ะบัะฐัะฝัะน */
  }
}
```

---

## ๐ก ะะตะบะพะผะตะฝะดะฐัะธะธ

### ๐ WOW-ัััะตะบั

| ะคะธัะฐ | ะัะตะผั | ะะพะปัะทะฐ |
|------|-------|--------|
| **Sticky ะฟะตัะฒะฐั ะบะพะปะพะฝะบะฐ** | +5 ะผะธะฝ | ะะฐัะฐ ะฒัะตะณะดะฐ ะฒะธะดะฝะฐ ะฟัะธ ัะบัะพะปะปะต |
| **ะัะฐัะฝัะน ัะพะฝ ะฟััััั ััะตะตะบ** | +2 ะผะธะฝ | ะะณะฝะพะฒะตะฝะฝะพ ะฒะธะดะฝั ะฟัะพะฑะตะปั |
| **Tooltip ั ะดะตัะฐะปัะผะธ** | +10 ะผะธะฝ | ะฃะดะพะฑะฝะพ ะดะปั ะบััะฐัะพัะฐ |
| **ะะปะธะบ โ ะดะตะฝั** | +3 ะผะธะฝ | ะััััะฐั ะฝะฐะฒะธะณะฐัะธั |
| **ะะฑัะธะน %** | +2 ะผะธะฝ | ะะฑัะฐั ะบะฐััะธะฝะฐ |

### ๐ฏ ะะ ะดะตะปะฐะตะผ (ะพะฒะตัะบะธะปะป)

| ะคะธัะฐ | ะะพัะตะผั |
|------|--------|
| ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะธะท ัะฐะฑะปะธัั | ะััั ะฒ DayTab |
| ะญะบัะฟะพัั ะฒ Excel | ะะพะถะฝะพ ะฟะพะทะถะต |
| ะัะฐัะธะบะธ | ะััั ะฒ Reports |
| ะคะธะปัััั ะฟะพ ะฟะตัะธะพะดั | ะะฐัะฝัะผ ั 30 ะดะฝะตะน |

### ๐ฎ Phase 2

- ะะตัะตะบะปััะฐัะตะปั: 7ะด / 30ะด / 90ะด
- ะคะธะปััั "ะฟะพะบะฐะทะฐัั ัะพะปัะบะพ ะฟััััะต"
- ะััะฟะฟะธัะพะฒะบะฐ ะฟะพ ะฝะตะดะตะปัะผ
- ะกัะฐะฒะฝะตะฝะธะต ั ะฟัะตะดัะดััะธะผ ะฟะตัะธะพะดะพะผ

---

## ๐ Notes

- **Priority**: high (ะดะปั ะบััะฐัะพัะฐ ะบัะธัะธัะฝะพ!)
- **Complexity**: M (60-90 ะผะธะฝ)
- **Created**: 2025-11-30
- **Audit**: v2 (ะณะปัะฑะพะบะธะน ะฐัะดะธั ะฟัะพะฒะตะดัะฝ)

---

## ๐ ะะตะทัะผะต ะฐัะดะธัะฐ

### โ ะัะพะฒะตัะตะฝะพ ะธ OK

- [x] ะัะต 15 ะฟะพะปะตะน DayRecord ะฝะฐะนะดะตะฝั ะธ ะทะฐะดะพะบัะผะตะฝัะธัะพะฒะฐะฝั
- [x] clientId namespace ะฟะฐััะตัะฝ ะฝะฐะนะดะตะฝ (`heys_day_v12.js:3525`)
- [x] setTab/setSelectedDate ะดะพัััะฟะฝั ัะตัะตะท props
- [x] CSS sticky positioning ัะถะต ะธัะฟะพะปัะทัะตััั (`main.css:7447`)
- [x] Ternary ัะตะฝะดะตัะธะฝะณ ะฒ `heys_app_v12.js:1907-1930` ะฟะพะฝััะตะฝ

### โ๏ธ ะขัะตะฑัะตั ะฒะฝะธะผะฐะฝะธั

- [ ] Dark mode ััะธะปะธ ะดะปั sticky ัะปะตะผะตะฝัะพะฒ
- [ ] iOS Safari โ ัะตััะธัะพะฒะฐัั sticky + horizontal scroll
- [ ] Tooltip ะดะตะปะตะณะธัะพะฒะฐะฝะธะต (ะฝะต 360 listeners!)

### ๐ ะะพัะพะฒ ะบ ัะตะฐะปะธะทะฐัะธะธ!
