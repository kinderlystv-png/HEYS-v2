# üéì Onboarding Tutorial ‚Äî –û–±—É—á–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º

> **–í–µ—Ä—Å–∏—è –ø—Ä–æ–º–ø—Ç–∞**: 1.4.0  
> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-06  
> **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-01-07  
> **–°—Ç–∞—Ç—É—Å**: üìã –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
> **–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: ~4-5 —á–∞—Å–æ–≤

---

## üìå TL;DR

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–±—ä—è—Å–Ω—è—é—â–∏–π
–∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Hero-–ø–ª–∞—à–∫–∏, –ì—Ä–∞—Ñ–∏–∫).

**–ß—Ç–æ –¥–µ–ª–∞–µ–º**:

1. –°–æ–∑–¥–∞—ë–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OnboardingTour` –≤
   `apps/web/heys_ui_onboarding_v1.js`
2. –†–µ–∞–ª–∏–∑—É–µ–º –º–µ—Ö–∞–Ω–∏–∫—É "Spotlight" (–∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ + –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞)
3. –î–æ–±–∞–≤–ª—è–µ–º `id` –∫ —Ü–µ–ª–µ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º (`tour-hero-stats`, `tour-calorie-graph`,
   `tour-fab-buttons`, `tour-insulin-wave`, `tour-insights-tab`)
4. **5 —à–∞–≥–æ–≤ —Ç—É—Ä–∞**: Hero ‚Üí Sparkline ‚Üí FAB –∫–Ω–æ–ø–∫–∏ ‚Üí –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ ‚Üí
   Insights
5. **Demo-–¥–∞–Ω–Ω—ã–µ**: –ü—Ä–∏ –ø—É—Å—Ç–æ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
6. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º —Ç—Ä–∏–≥–≥–µ—Ä—ã + —Å–æ—Ö—Ä–∞–Ω—è–µ–º `heys_onboarding_complete` —á–µ—Ä–µ–∑
   `HEYS.store.set()`

**–ó–∞—á–µ–º**:

- –ü–æ–≤—ã—Å–∏—Ç—å Retention D1 –Ω–∞ 15-20%
- –°–Ω–∏–∑–∏—Ç—å –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –Ω–æ–≤–∏—á–∫–æ–≤
- –ö—É—Ä–∞—Ç–æ—Ä—É –º–µ–Ω—å—à–µ –±–∞–∑–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (-30%)
- –ü–µ—Ä–≤—ã–π positive reinforcement –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–í—Ä–µ–º—è**: ~4-5 —á–∞—Å–æ–≤

---

## ‚ö†Ô∏è Phase 0: –ë–ª–æ–∫–µ—Ä—ã –∏ –ø—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã

**–ü–ï–†–ï–î –Ω–∞—á–∞–ª–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] **1. Z-index audit**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å z-index —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–∞–ª–æ–≤ (`StepModal`,
      `PaywallBanner`, —É—Ç—Ä–µ–Ω–Ω–∏–π —á–µ–∫-–∏–Ω) ‚Äî –æ–Ω–∏ –ù–ï –¥–æ–ª–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å
      `z-50/51/52` —Ç—É—Ä–∞
- [ ] **2. –°–µ–ª–µ–∫—Ç–æ—Ä—ã**: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã `#tour-hero-stats` –∏
      `#tour-calorie-graph` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–µ–∑ –ª–æ–º–∫–∏ –≤—ë—Ä—Å—Ç–∫–∏
- [ ] **3. PIN/RPC —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –¢—É—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –õ–Æ–ë–û–ú —Ä–µ–∂–∏–º–µ
      –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∫—É—Ä–∞—Ç–æ—Ä email+JWT –∏ –∫–ª–∏–µ–Ω—Ç —Ç–µ–ª–µ—Ñ–æ–Ω+PIN)
- [ ] **4. Safe-area**: Tooltip –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å `env(safe-area-inset-*)` –Ω–∞ iOS
      –ø—Ä–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
- [ ] **5. Offline capability**: –¢—É—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å offline (–≤—Å–µ assets
      –ª–æ–∫–∞–ª—å–Ω—ã–µ, –±–µ–∑ fetch)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- [ ] **6. Demo-–¥–∞–Ω–Ω—ã–µ**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å mock-–æ–±—ä–µ–∫—Ç –¥–ª—è –ø—É—Å—Ç–æ–≥–æ –¥–Ω–µ–≤–Ω–∏–∫–∞:
  ```javascript
  const TOUR_DEMO_DATA = {
    optimum: 2100, // –¶–µ–ª—å
    eaten: 850, // –°—ä–µ–¥–µ–Ω–æ
    remaining: 1250, // –û—Å—Ç–∞–ª–æ—Å—å
    tdee: 2350, // –ó–∞—Ç—Ä–∞—Ç—ã
    sparkline: [85, 92, 78, 105, 95, 88, 0], // 7 –¥–Ω–µ–π —Ñ–∞–∫—Ç %
  };
  ```
- [ ] **7. Tutorial priority**: –¢—É—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–ï–î –ø–µ—Ä–≤—ã–º morning checkin
      (–∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- [ ] **8. Curator exclusion**: –†–µ–∂–∏–º –∫—É—Ä–∞—Ç–æ—Ä–∞ (`HEYS.cloud.role === 'curator'`)
      –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç—É—Ä
- [ ] **9. Interruption recovery**: –ü—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏/–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
      `current_step`, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ

### Storage –∏ Analytics

- [ ] **10. Storage API**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ** `HEYS.store.set/get` (–ù–ï
      –ø—Ä—è–º–æ–π `localStorage`) ‚Äî —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º clientId namespace
- [ ] **11. Analytics events**: –¢—Ä–µ–∫–∞—Ç—å —á–µ—Ä–µ–∑
      `HEYS.analytics.trackDataOperation()`:
  - `tour_started` ‚Äî –Ω–∞—á–∞–ª —Ç—É—Ä
  - `tour_step_{n}` ‚Äî –ø—Ä–æ—à—ë–ª —à–∞–≥ N
  - `tour_skipped` ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏–ª (+ –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ)
  - `tour_completed` ‚Äî –∑–∞–≤–µ—Ä—à–∏–ª

### UX —Ä–µ—à–µ–Ω–∏—è

- [ ] **12. –ú–µ—Å—Ç–æ "–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫"**: –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –°–∏—Å—Ç–µ–º–∞ ‚Üí "–ü—Ä–æ–π—Ç–∏ –æ–±—É—á–µ–Ω–∏–µ
      –∑–∞–Ω–æ–≤–æ"
- [ ] **13. Achievement**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `heys_gamification_v1.js` ‚Äî –∞—á–∏–≤–∫–∞
      "–ü–µ—Ä–≤–æ–æ—Ç–∫—Ä—ã–≤–∞—Ç–µ–ª—å" (+50 XP) –∑–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—É—Ä–∞

---

## üß† WHY ‚Äî –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞

–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –º–Ω–æ–≥–æ –º–µ—Ç—Ä–∏–∫ (–∑–∞—Ç—Ä–∞—Ç—ã, —Ü–µ–ª—å, —Å—ä–µ–¥–µ–Ω–æ, –æ—Å—Ç–∞–ª–æ—Å—å, –≥—Ä–∞—Ñ–∏–∫)
–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç:

- –ö–∞–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∫–∞–∂–¥–∞—è –º–µ—Ç—Ä–∏–∫–∞
- –ö–∞–∫ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –†–µ—à–µ–Ω–∏–µ

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

1. **Spotlight-—ç—Ñ—Ñ–µ–∫—Ç**: –ó–∞—Ç–µ–º–Ω—è–µ–º –≤–µ—Å—å —ç–∫—Ä–∞–Ω –∫—Ä–æ–º–µ –æ–±—ä—è—Å–Ω—è–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
2. **–ü—Ä–æ—Å—Ç—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è**: –ö–∞–∂–¥—ã–π —à–∞–≥ ‚Äî —á—Ç–æ —ç—Ç–æ, –∫–∞–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è, –∑–∞—á–µ–º
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–π—Ç–∏ –ø–æ–∑–∂–µ

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ–Ω–∏–º–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞ –ø–æ –±–∞–∑–æ–≤—ã–º –≤–æ–ø—Ä–æ—Å–∞–º

---

## ‚öôÔ∏è Output Preferences

- **–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ UI —Ç–µ–∫—Å—Ç—ã)
- **–ö–æ–¥**: ES6+, React (—á–µ—Ä–µ–∑ `window.React`)
- **–°—Ç–∏–ª–∏**: Tailwind + –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ CSS –≤ `heys-components.css`
- **–ë–µ–∑ –ª–∏—à–Ω–µ–≥–æ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å

---

## üìã WHAT ‚Äî –ß–µ–∫–ª–∏—Å—Ç –∑–∞–¥–∞—á

### Must Have (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- [ ] **1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `heys_ui_onboarding_v1.js`**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–æ–Ω—Ñ–∏–≥ —à–∞–≥–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç—É—Ä–∞, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
  - –≠–∫—Å–ø–æ—Ä—Ç –≤ `HEYS.OnboardingTour`
  - API: `start()`, `next()`, `skip()`, `reset()`
  - **Z-index —Å–ª–æ–∏**: overlay `z-50`, highlight `z-51`, tooltip `z-52`

- [ ] **2. Spotlight –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
  - Overlay —Å `backdrop-filter: blur(8px)` –∏–ª–∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω
  - "–î—ã—Ä–∫–∞" –≤–æ–∫—Ä—É–≥ —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (—á–µ—Ä–µ–∑ `clip-path` –∏–ª–∏ box-shadow)
  - –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ (300ms)

- [ ] **3. Tooltip/Card —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º**
  - –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä—è–¥–æ–º —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º (—Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É/—Å–±–æ–∫—É)
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —à–∞–≥–∞ + –æ–ø–∏—Å–∞–Ω–∏–µ
  - –ö–Ω–æ–ø–∫–∏: "–î–∞–ª–µ–µ" / "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç—É—Ä"
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—à–∞–≥ X –∏–∑ Y)

- [ ] **4. –®–∞–≥ 1: Hero-–∫–∞—Ä—Ç–æ—á–∫–∏ (4 –º–µ—Ç—Ä–∏–∫–∏)**
  - –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å 4 –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (–∑–∞—Ç—Ä–∞—Ç—ã, —Ü–µ–ª—å, —Å—ä–µ–¥–µ–Ω–æ, –æ—Å—Ç–∞–ª–æ—Å—å)
  - –¢–µ–∫—Å—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏—è:
    - **–ó–∞—Ç—Ä–∞—Ç—ã**: "–°–∫–æ–ª—å–∫–æ —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–∞—Ç–∏—Ç –≤–∞—à –æ—Ä–≥–∞–Ω–∏–∑–º –∑–∞ –¥–µ–Ω—å (BMR +
      –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)"
    - **–¶–µ–ª—å**: "–í–∞—à —Ü–µ–ª–µ–≤–æ–π –∫–∞–ª–æ—Ä–∞–∂ —Å —É—á—ë—Ç–æ–º –¥–µ—Ñ–∏—Ü–∏—Ç–∞/–ø—Ä–æ—Ñ–∏—Ü–∏—Ç–∞"
    - **–°—ä–µ–¥–µ–Ω–æ**: "–°—É–º–º–∞ –∫–∞–ª–æ—Ä–∏–π –∏–∑ –≤—Å–µ—Ö –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ —Å–µ–≥–æ–¥–Ω—è"
    - **–û—Å—Ç–∞–ª–æ—Å—å**: "–°–∫–æ–ª—å–∫–æ –µ—â—ë –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å –¥–æ –Ω–æ—Ä–º—ã"

- [ ] **5. –®–∞–≥ 2: –ì—Ä–∞—Ñ–∏–∫ –∫–∞–ª–æ—Ä–∏–π (Sparkline)**
  - –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: `#tour-calorie-graph` (sparkline –≤–∏–¥–∂–µ—Ç)
  - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
    - **–°–ø–ª–æ—à–Ω–∞—è –ª–∏–Ω–∏—è**: "–§–∞–∫—Ç ‚Äî —Å–∫–æ–ª—å–∫–æ –≤—ã —Ä–µ–∞–ª—å–Ω–æ —Å—ä–µ–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"
    - **–ü—É–Ω–∫—Ç–∏—Ä–Ω–∞—è –ª–∏–Ω–∏—è**: "–ù–æ—Ä–º–∞ ‚Äî –≤–∞—à —Ü–µ–ª–µ–≤–æ–π –∫–∞–ª–æ—Ä–∞–∂"
    - **–¶–≤–µ—Ç–∞**: "–ó–µ–ª—ë–Ω—ã–π = –≤ –Ω–æ—Ä–º–µ, –∂—ë–ª—Ç—ã–π = –Ω–µ–±–æ–ª—å—à–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ, –∫—Ä–∞—Å–Ω—ã–π =
      —Å—Ä—ã–≤"

- [ ] **6. –®–∞–≥ 3: FAB –∫–Ω–æ–ø–∫–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥—ã –∏ –≤–æ–¥—ã)**
  - –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: `#tour-fab-buttons` (–ø–ª–∞–≤–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É)
  - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
    - **üçΩÔ∏è –ï–¥–∞**: "–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—ë–º –ø–∏—â–∏ ‚Äî –∑–∞–≤—Ç—Ä–∞–∫, –æ–±–µ–¥, —É–∂–∏–Ω –∏–ª–∏
      –ø–µ—Ä–µ–∫—É—Å"
    - **üíß –í–æ–¥–∞**: "–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–ø–∏—Ç—É—é –≤–æ–¥—É ‚Äî –≤–∞–∂–Ω–æ –¥–ª—è –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –∏
      –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞"
  - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–ö—É—Ä–∞—Ç–æ—Ä —Ç–æ–∂–µ –º–æ–∂–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –µ–¥—É –∑–∞ –≤–∞—Å –ø–æ —Ñ–æ—Ç–æ!"

- [ ] **7. –®–∞–≥ 4: –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞**
  - –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: `#tour-insulin-wave` (—Ç–∞–π–º–µ—Ä –≤–æ–ª–Ω—ã –Ω–∞–¥ –ø—Ä–∏—ë–º–∞–º–∏)
  - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
    - **–ß—Ç–æ —ç—Ç–æ**: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–º –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞–µ—Ç –µ–¥—É ‚Äî –∏–Ω—Å—É–ª–∏–Ω
      –ø–æ–≤—ã—à–µ–Ω"
    - **–ó–∞—á–µ–º**: "–ö–æ–≥–¥–∞ –≤–æ–ª–Ω–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è ‚Äî –º–æ–∂–Ω–æ –µ—Å—Ç—å —Å–Ω–æ–≤–∞ –±–µ–∑ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –∂–∏—Ä–∞"
    - **–¶–≤–µ—Ç–∞**: "–ö—Ä–∞—Å–Ω—ã–π = –≤–æ–ª–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞, –∑–µ–ª—ë–Ω—ã–π = –º–æ–∂–Ω–æ –µ—Å—Ç—å"
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç —à–∞–≥ **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 1 –ø—Ä–∏—ë–º –ø–∏—â–∏**
    (–∏–Ω–∞—á–µ skip)

- [ ] **8. –®–∞–≥ 5: –í–∫–ª–∞–¥–∫–∞ Insights (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)**
  - –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: `#tour-insights-tab` (–≤–∫–ª–∞–¥–∫–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞)
  - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
    - **–ß—Ç–æ —Ç–∞–º**: "–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞: —Å—Ç–∞—Ç—É—Å –¥–Ω—è, —Å–æ–≤–µ—Ç—ã, –≤–∏–¥–∂–µ—Ç—ã –∑–¥–æ—Ä–æ–≤—å—è"
    - **Widgets Dashboard**: "–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–∫–∏–µ –≤–∏–¥–∂–µ—Ç—ã –≤–∏–¥–µ—Ç—å –∏ –≤ –∫–∞–∫–æ–º
      —Ä–∞–∑–º–µ—Ä–µ"
  - –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–î–∞–ª–µ–µ" ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É Insights (–¥–µ–º–æ)

- [ ] **9. –¢—Ä–∏–≥–≥–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Ç—É—Ä–∞**
  - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`onRegistrationComplete`)
  - –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —á–µ–∫-–∏–Ω–∞ (`onFirstCheckinComplete`)
  - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –ø–æ–∑–∂–µ" ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ

- [ ] **10. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**
  - –ö–ª—é—á: `heys_onboarding_complete` —á–µ—Ä–µ–∑ `HEYS.store.set/get` (–ù–ï –ø—Ä—è–º–æ–π
    localStorage!)
  - –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç—É—Ä –ø–æ–≤—Ç–æ—Ä–Ω–æ –µ—Å–ª–∏ —É–∂–µ –ø—Ä–æ–π–¥–µ–Ω
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è ‚Üí **–í–∫–ª–∞–¥–∫–∞ "–°–∏—Å—Ç–µ–º–∞" ‚Üí "–ü—Ä–æ–π—Ç–∏
    –æ–±—É—á–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ"**

### Should Have (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

- [ ] **11. –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö**
  - Tooltip —Å–Ω–∏–∑—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (–Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å)
  - Touch-friendly –∫–Ω–æ–ø–∫–∏ (min-height: 44px)

- [ ] **12. Keyboard –Ω–∞–≤–∏–≥–∞—Ü–∏—è**
  - Enter ‚Üí —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
  - Escape ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç—É—Ä

- [ ] **13. –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —à–∞–≥–æ–≤**
  - –®–∞–≥ "–ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞" ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏—ë–º—ã –ø–∏—â–∏
  - –®–∞–≥ "Insights" ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ "–î–∞–ª–µ–µ"

### Could Have (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- [ ] **14. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
  - –¢—Ä–µ–∫–∏–Ω–≥: —Ç—É—Ä –Ω–∞—á–∞—Ç, —Ç—É—Ä –∑–∞–≤–µ—Ä—à—ë–Ω, —Ç—É—Ä –ø—Ä–æ–ø—É—â–µ–Ω, –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏

- [ ] **15. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è**
  - –ö–æ–Ω—Ñ–∏–≥ —à–∞–≥–æ–≤ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç (–ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ (–Ω–µ –≤–µ—Å—å —Ç—É—Ä)
  - –®–∞–≥ 6+ (v2): –õ–µ–Ω—Ç–∞ –ø—Ä–∏—ë–º–æ–≤, —Å–æ–≤–µ—Ç—ã, –ø—Ä–æ—Ñ–∏–ª—å

---

## üóÇÔ∏è –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                                  | –†–æ–ª—å                                  | –î–µ–π—Å—Ç–≤–∏–µ        |
| ------------------------------------- | ------------------------------------- | --------------- |
| `apps/web/heys_ui_onboarding_v1.js`   | –ù–æ–≤—ã–π –º–æ–¥—É–ª—å —Ç—É—Ä–∞                     | **–°–û–ó–î–ê–¢–¨**     |
| `apps/web/heys_day_v12.js`            | Hero-–∫–∞—Ä—Ç–æ—á–∫–∏ (line ~8619)            | –î–æ–±–∞–≤–∏—Ç—å `id`   |
| `apps/web/heys_app_v12.js`            | –¢–æ—á–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤            | –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã |
| `apps/web/index.html`                 | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è             | –î–æ–±–∞–≤–∏—Ç—å script |
| `apps/web/styles/heys-components.css` | CSS –¥–ª—è spotlight (`.tour-highlight`) | –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏  |

### ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç—É—Ä–∞

–î–æ–±–∞–≤–∏—Ç—å –≤ `heys_day_v12.js`:

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 4-—Ö Hero-–ø–ª–∞—à–µ–∫ ‚Üí `id="tour-hero-stats"`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞ –∫–∞–ª–æ—Ä–∏–π ‚Üí `id="tour-calorie-graph"`

---

## üé® UI/UX –†–µ—Ñ–µ—Ä–µ–Ω—Å

### Spotlight —ç—Ñ—Ñ–µ–∫—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ  ‚Üê –ó–∞—Ç–µ–º–Ω—ë–Ω–Ω—ã–π/–∑–∞–±–ª—é—Ä–µ–Ω–Ω—ã–π —Ñ–æ–Ω
‚îÇ ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îÇ  [–ó–∞—Ç—Ä–∞—Ç—ã] [–¶–µ–ª—å]       ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ  ‚Üê "–î—ã—Ä–∫–∞" ‚Äî —á—ë—Ç–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç
‚îÇ ‚ñë‚ñë‚ñë‚îÇ  [–°—ä–µ–¥–µ–Ω–æ] [–û—Å—Ç–∞–ª–æ—Å—å]   ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îÇ üìä –≠—Ç–æ –≤–∞—à–∏ –º–µ—Ç—Ä–∏–∫–∏      ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ  ‚Üê Tooltip —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
‚îÇ ‚ñë‚ñë‚ñë‚îÇ                         ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îÇ [–î–∞–ª–µ–µ]     [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îÇ ‚ñë‚ñë‚ñë‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

```
‚óè ‚óã ‚óã    –®–∞–≥ 1 –∏–∑ 3
```

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ OnboardingTour

```javascript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
OnboardingTour.propTypes = {
  steps: PropTypes.array, // –ú–∞—Å—Å–∏–≤ —à–∞–≥–æ–≤ (—Å–µ–ª–µ–∫—Ç–æ—Ä, –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ç–µ–∫—Å—Ç, –ø–æ–∑–∏—Ü–∏—è)
  isOpen: PropTypes.bool, // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Ç—É—Ä
  onComplete: PropTypes.func, // Callback –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
  onSkip: PropTypes.func, // Callback –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ
};
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞ —à–∞–≥–æ–≤

```javascript
const TOUR_STEPS = [
  {
    id: 'welcome',
    type: 'modal', // –°—Ç–∞—Ä—Ç–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ HEYS!',
    content: '–•–æ—Ç–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π –æ–±–∑–æ—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π?',
    buttons: ['–î–∞, –ø–æ–∫–∞–∑–∞—Ç—å', '–ü–æ–∑–∂–µ'],
  },
  {
    id: 'hero-metrics',
    target: '#tour-hero-stats', // ID —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    title: 'üìä –í–∞—à –ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
    content:
      '–ó–¥–µ—Å—å –≤–∏–¥–Ω–æ –Ω–æ—Ä–º—É –∫–∞–ª–æ—Ä–∏–π, —Å–∫–æ–ª—å–∫–æ —É–∂–µ —Å—ä–µ–¥–µ–Ω–æ –∏, –≥–ª–∞–≤–Ω–æ–µ, —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å. –ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –≤–∞—à—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.',
    position: 'bottom', // top | bottom | left | right
  },
  {
    id: 'sparkline',
    target: '#tour-calorie-graph',
    title: 'üìà –í–∞—à–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è',
    content:
      '–ü—É–Ω–∫—Ç–∏—Ä ‚Äî –∏–¥–µ–∞–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è. –°–ø–ª–æ—à–Ω–∞—è –ª–∏–Ω–∏—è ‚Äî —Ñ–∞–∫—Ç. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –¥–µ—Ä–∂–∞—Ç—å—Å—è —Ä—è–¥–æ–º —Å –ø—É–Ω–∫—Ç–∏—Ä–æ–º –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.',
    position: 'bottom',
  },
];
```

### –ú–µ—Ö–∞–Ω–∏–∫–∞ Spotlight

```css
/* –û–≤–µ—Ä–ª–µ–π —Å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ–º –∏ –±–ª—é—Ä–æ–º */
.tour-overlay {
  position: fixed;
  inset: 0;
  z-index: 50;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* –ö–ª–∞—Å—Å –¥–ª—è –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ */
.tour-highlight {
  position: relative !important;
  z-index: 51 !important;
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5);
  border-radius: 12px;
}

/* Tooltip */
.tour-tooltip {
  position: absolute;
  z-index: 52;
  background: white;
  border-radius: 12px;
  padding: 16px;
  max-width: 300px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}
```

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ tooltip

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –∫–∞—Å—Ç–æ–º–Ω—É—é –ª–æ–≥–∏–∫—É (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π):

```javascript
function getTooltipPosition(targetRect, position = 'bottom') {
  const gap = 12; // –æ—Ç—Å—Ç—É–ø –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞

  switch (position) {
    case 'bottom':
      return { top: targetRect.bottom + gap, left: targetRect.left };
    case 'top':
      return { top: targetRect.top - gap, left: targetRect.left };
    // ... left, right
  }
}
```

> **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª–µ–µ —É–º–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
> `@floating-ui/dom` (–ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞), –Ω–æ –¥–ª—è 2-3 —à–∞–≥–æ–≤ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞
> –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞.

---

## ‚ú® Modern UX (Should Have)

### –ú–∏–∫—Ä–æ-–∞–Ω–∏–º–∞—Ü–∏–∏

```javascript
// Pulse-—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
.tour-highlight {
  animation: tourPulse 2s ease-in-out infinite;
}

@keyframes tourPulse {
  0%, 100% { box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3); }
  50% { box-shadow: 0 0 0 8px rgba(59, 130, 246, 0.15); }
}
```

### Haptic Feedback

```javascript
// –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É (mobile)
function nextStep() {
  if ('vibrate' in navigator) {
    navigator.vibrate(10); // 10ms ‚Äî –ª—ë–≥–∫–∏–π —Ç–∞–∫—Ç–∏–ª—å–Ω—ã–π feedback
  }
  setCurrentStep((prev) => prev + 1);
}
```

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
const firstName = HEYS.profile?.firstName || '–ü—Ä–∏–≤–µ—Ç';
const welcomeTitle = `${firstName}, –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ HEYS!`;
```

### Confetti –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

```javascript
// –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—É—Ä–∞
function onTourComplete() {
  HEYS.store.set('heys_onboarding_complete', true);

  // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ + achievement
  if (HEYS.Gamification) {
    HEYS.Gamification.addXP('tour_completed', 50);
    HEYS.Gamification.showConfetti(); // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç
  }
}
```

---

## üìä KPI & Metrics (Success Criteria)

| –ú–µ—Ç—Ä–∏–∫–∞                | –¶–µ–ª—å                  | –ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å                       |
| ---------------------- | --------------------- | ---------------------------------- |
| **Completion Rate**    | > 60%                 | `tour_completed / tour_started`    |
| **Skip Rate –ø–æ —à–∞–≥–∞–º** | –í—ã—è–≤–∏—Ç—å —Å–ª–∞–±—ã–µ —à–∞–≥–∏   | `tour_skipped` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º step_id |
| **Time to Complete**   | < 3 –º–∏–Ω—É—Ç—ã            | timestamp start ‚Üí complete         |
| **D1 Retention**       | +15% vs –±–µ–∑ —Ç—É—Ä–∞      | A/B —Ç–µ—Å—Ç –∏–ª–∏ –¥–æ/–ø–æ—Å–ª–µ              |
| **Curator Questions**  | -30% –±–∞–∑–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ | –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –æ—Ç –∫—É—Ä–∞—Ç–æ—Ä–∞   |

### Analytics Events

```javascript
// –í—Å–µ —Å–æ–±—ã—Ç–∏—è —Ç—Ä–µ–∫–∞—Ç—å —á–µ—Ä–µ–∑ HEYS.analytics
HEYS.analytics.trackDataOperation('tour_started', {
  trigger: 'registration', // –∏–ª–∏ 'explore', 'repeat'
});

HEYS.analytics.trackDataOperation('tour_step', {
  step_id: 'hero-metrics',
  step_number: 1,
  time_on_step_ms: 4200,
});

HEYS.analytics.trackDataOperation('tour_skipped', {
  last_step_id: 'sparkline',
  last_step_number: 2,
  completion_pct: 40,
});

HEYS.analytics.trackDataOperation('tour_completed', {
  total_time_ms: 95000,
  steps_viewed: 5,
});
```

---

## ‚úÖ Definition of Done

### Phase 0 (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ –Ω–∞—á–∞–ª–∞)

1. [ ] Z-index audit –∑–∞–≤–µ—Ä—à—ë–Ω, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–µ—Ç
2. [ ] –°–µ–ª–µ–∫—Ç–æ—Ä—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, ID –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
3. [ ] Demo-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã

### Core (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

4. [ ] –ú–æ–¥—É–ª—å `heys_ui_onboarding_v1.js` —Å–æ–∑–¥–∞–Ω –∏ –ø–æ–¥–∫–ª—é—á—ë–Ω –≤ `index.html`
5. [ ] ID –¥–æ–±–∞–≤–ª–µ–Ω—ã: `tour-hero-stats`, `tour-calorie-graph`,
       `tour-fab-buttons`, `tour-insulin-wave`, `tour-insights-tab`
6. [ ] Spotlight-—ç—Ñ—Ñ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (blur overlay z-50 + highlight z-51 + tooltip
       z-52)
7. [ ] Welcome-–º–æ–¥–∞–ª —Å "–î–∞, –ø–æ–∫–∞–∑–∞—Ç—å" / "–ü–æ–∑–∂–µ"
8. [ ] **Demo-–¥–∞–Ω–Ω—ã–µ** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∏ –ø—É—Å—Ç–æ–º –¥–Ω–µ–≤–Ω–∏–∫–µ

### –®–∞–≥–∏ —Ç—É—Ä–∞ (5 —à–∞–≥–æ–≤)

9. [ ] **–®–∞–≥ 1**: Hero-–∫–∞—Ä—Ç–æ—á–∫–∏ ‚Äî —Å—Ç–∞—Ç—É—Å, –∫–∞–ª–æ—Ä–∏–∏, –≤–æ–¥–∞, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
10. [ ] **–®–∞–≥ 2**: Sparkline ‚Äî —Ñ–∞–∫—Ç vs –Ω–æ—Ä–º–∞, —Ü–≤–µ—Ç–∞
11. [ ] **–®–∞–≥ 3**: FAB –∫–Ω–æ–ø–∫–∏ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥—ã –∏ –≤–æ–¥—ã
12. [ ] **–®–∞–≥ 4**: –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ ‚Äî —Ç–∞–π–º–∏–Ω–≥ –ø—Ä–∏—ë–º–æ–≤ (—É—Å–ª–æ–≤–Ω—ã–π: —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏
        –µ—Å—Ç—å –µ–¥–∞)
13. [ ] **–®–∞–≥ 5**: Insights –≤–∫–ª–∞–¥–∫–∞ ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –≤–∏–¥–∂–µ—Ç—ã

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ persistence

14. [ ] –ö–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" –∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
15. [ ] –¢—É—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–ï–î –ø–µ—Ä–≤—ã–º morning checkin (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
16. [ ] –§–ª–∞–≥ `heys_onboarding_complete` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `HEYS.store.set()`
17. [ ] **Interruption recovery**: –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è current_step
18. [ ] **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫** —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –°–∏—Å—Ç–µ–º–∞ ‚Üí "–ü—Ä–æ–π—Ç–∏ –æ–±—É—á–µ–Ω–∏–µ"
19. [ ] **Curator exclusion**: –†–µ–∂–∏–º –∫—É—Ä–∞—Ç–æ—Ä–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç—É—Ä

### Modern UX (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å)

20. [ ] Pulse-–∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞ –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
21. [ ] Haptic feedback –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ (navigator.vibrate)
22. [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏ ("–ü—Ä–∏–≤–µ—Ç, {name}!")
23. [ ] Confetti –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω `HEYS.Gamification`)

### Quality

24. [ ] Analytics events: `tour_started`, `tour_step`, `tour_skipped`,
        `tour_completed`
25. [ ] `pnpm build` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
26. [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º (Chrome DevTools ‚Üí iPhone SE) ‚Äî tooltip –Ω–µ
        –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è safe-area
27. [ ] –¢—É—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç offline (–≤—Å–µ assets –ª–æ–∫–∞–ª—å–Ω—ã–µ)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [DATA_MODEL_REFERENCE.md](../DATA_MODEL_REFERENCE.md) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- [heys_day_v12.js](../../apps/web/heys_day_v12.js) ‚Äî Hero-–∫–∞—Ä—Ç–æ—á–∫–∏ (line ~8619)
- [heys_gamification_v1.js](../../apps/web/heys_gamification_v1.js) ‚Äî onboarding
  achievements

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–ø—Ä–∏–Ω—è—Ç—ã –≤ v1.4.0)

- **Demo-–¥–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**: –í —Ç—É—Ä–µ –Ω–µ–ª—å–∑—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Å—Ç–æ–π –¥–Ω–µ–≤–Ω–∏–∫ ‚Äî
  –∏—Å–ø–æ–ª—å–∑—É–µ–º `TOUR_DEMO_DATA`
- **Tutorial > Morning checkin**: –¢—É—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú, —É—Ç—Ä–µ–Ω–Ω–∏–π —á–µ–∫-–∏–Ω –º–æ–∂–µ—Ç
  –ø–æ–¥–æ–∂–¥–∞—Ç—å
- **Curator exclusion**: `HEYS.cloud.role === 'curator'` ‚Äî —Ç—É—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
  (–∫—É—Ä–∞—Ç–æ—Ä –∑–Ω–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- **Interruption safe**: –ü—Ä–∏ `visibilitychange` —Å–æ—Ö—Ä–∞–Ω—è–µ–º `current_step`,
  –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ

### UX –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **5 —à–∞–≥–æ–≤ ‚Äî –Ω–µ –º–Ω–æ–≥–æ**: Hero ‚Üí Sparkline ‚Üí FAB ‚Üí –ò–Ω—Å—É–ª–∏–Ω ‚Üí Insights ‚Äî –ª–æ–≥–∏—á–Ω—ã–π
  flow
- **–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏
- **–ü—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫**: "–°–∫–æ–ª—å–∫–æ –µ—â—ë –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å", –∞ –Ω–µ "–û—Å—Ç–∞—Ç–æ–∫ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  –Ω–æ—Ä–º—ã –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏"
- **–ö—É—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: –£–ø–æ–º–∏–Ω–∞—Ç—å —á—Ç–æ –∫—É—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –µ–¥—É –∑–∞ –∫–ª–∏–µ–Ω—Ç–∞
- **Escape hatch**: –í—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–µ–º
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –û–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∏–º–µ–Ω–∏ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã

- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è
- **Offline first**: –¢—É—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —Å–µ—Ç–∏ (–Ω–∏–∫–∞–∫–∏—Ö fetch –≤–æ –≤—Ä–µ–º—è —Ç—É—Ä–∞)
- **Achievement**: 50 XP –∑–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `HEYS.Gamification`

---

## Changelog

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞       | –ò–∑–º–µ–Ω–µ–Ω–∏—è                                                                                                                                                     |
| ------ | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.4.0  | 2025-01-07 | Demo-–¥–∞–Ω–Ω—ã–µ, tutorial priority, curator exclusion, interruption recovery, modern UX (haptics, pulse, personalization), KPI metrics, expanded DoD (27 –ø—É–Ω–∫—Ç–æ–≤) |
| 1.3.0  | 2025-01-06 | +3 —à–∞–≥–∞ —Ç—É—Ä–∞ (FAB, Insulin wave, Insights), —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π DoD                                                                                                   |
| 1.2.0  | 2025-01-06 | Audit improvements, z-index layers, safe-area, storage API                                                                                                    |
| 1.1.0  | 2025-01-06 | –î–æ–±–∞–≤–ª–µ–Ω Phase 0 (–±–ª–æ–∫–µ—Ä—ã –∏ –ø—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã)                                                                                                                     |
| 1.0.0  | 2025-01-06 | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–º–ø—Ç–∞                                                                                                                                 |
