# ðŸ“Š Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð»Ð³Ð° Ð² optimum â€” Ð“Ð»ÑƒÐ±Ð¾ÐºÐ¸Ð¹ Ð°ÑƒÐ´Ð¸Ñ‚

> **Ð”Ð°Ñ‚Ð°**: 2025-12-11  
> **Ð¡Ñ‚Ð°Ñ‚ÑƒÑ**: âœ… Phase 2 Ð—ÐÐ’Ð•Ð Ð¨ÐÐ  
> **ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ**: âš ï¸ Ð’Ð«Ð¡ÐžÐšÐÐ¯ â€” optimum Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² ~100 Ð¼ÐµÑÑ‚Ð°Ñ…  
> **Ð“Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚ÑŒ**: 85%

---

## âœ… ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

### Phase 0 â€” ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° âœ…

- [x] `git status` â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾
- [x] Ð‘ÑÐºÐ°Ð¿ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚
- [x] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° `displayOptimum` â€” ÐÐ• orphan, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² 4 Ð¼ÐµÑÑ‚Ð°Ñ…
- [x] Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€Ð¾Ðº ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ B â€” Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹

### Phase 1 â€” UI Display âœ…

- [x] 3/4 Ð¼ÐµÑÑ‚Ð° Ð£Ð–Ð• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ `displayOptimum`
- [x] Ð¡Ñ‚Ñ€Ð¾ÐºÐ° 6531 â€” Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° Ð½Ð° `optimum` (Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ð¾Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ)

### Phase 2 â€” Progress Bar Bonus Zone âœ…

- [x] CSS: `.goal-bonus-zone`, `.goal-base-marker`
- [x] React: ÑˆÑ‚Ñ€Ð¸Ñ…Ð¾Ð²Ð°Ñ "Ð±Ð¾Ð½ÑƒÑÐ½Ð°Ñ Ð·Ð¾Ð½Ð°" Ð² Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€Ðµ
- [x] `displayRemainingKcal` = displayOptimum - eatenKcal
- [x] Stats ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° "ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ" Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `displayRemainingKcal`
- [x] Popup Ð¼ÐµÑ‚Ñ€Ð¸Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `displayOptimum` Ð¸ `displayRemainingKcal`
- [x] Inline Ñ†Ð²ÐµÑ‚ Ð´Ð»Ñ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ "ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ"
- [x] Build passes âœ…

### Phase 3 â€” Advice â³

- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¾ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ð¾Ð¼ Ð´Ð¾Ð»Ð³Ðµ

### Phase 4 â€” Streak Logic â³

- [ ] Ð ÐµÑˆÐ¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ñ Ð·Ð°Ñ‡Ñ‘Ñ‚Ð¾Ð¼ "Ð´Ð¾Ð»Ð³Ð¾Ð²Ñ‹Ñ…" Ð´Ð½ÐµÐ¹

---

## ðŸŽ¯ Ð¦ÐµÐ»ÑŒ

Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð»Ð³Ð° Ñ‚Ð°Ðº, Ñ‡Ñ‚Ð¾Ð±Ñ‹:

1. **UI Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ð» ÑÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð½Ð¾Ñ€Ð¼Ñƒ** (Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ð´Ð¾Ð»Ð³Ð°) Ñ‚Ð°Ð¼, Ð³Ð´Ðµ ÑÑ‚Ð¾
   ÑƒÐ¼ÐµÑÑ‚Ð½Ð¾
2. **Ð Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ð¾ÑÑ‚Ð°Ð²Ð°Ð»Ð¸ÑÑŒ Ð½Ð° Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¹ Ð½Ð¾Ñ€Ð¼Ðµ** (Ð±ÐµÐ· Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹)
3. **ÐÐµ Ð»Ð¾Ð¼Ð°Ð»Ð°ÑÑŒ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°** Ñ†Ð²ÐµÑ‚Ð¾Ð², Ð·Ð¾Ð½, ÑÐ¾Ð²ÐµÑ‚Ð¾Ð²

---

## ðŸ“‹ Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° optimum

### ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ (heys_day_v12.js:3619-3620)

```javascript
const baseOptimum = r0(tdee * (1 + dayTargetDef / 100));
const optimum = r0(baseOptimum * cycleKcalMultiplier);
```

**Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð°**: `TDEE Ã— (1 + Ð´ÐµÑ„Ð¸Ñ†Ð¸Ñ‚%) Ã— ÐºÐ¾Ñ€Ñ€ÐµÐºÑ†Ð¸Ñ_Ñ†Ð¸ÐºÐ»Ð°`

### Ð£Ð¶Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ (ÑÑ‚Ð¾Ñ‚ ÑÐµÐ°Ð½Ñ)

```javascript
// heys_day_v12.js:8757-8764
const displayOptimum = useMemo(() => {
  if (caloricDebt && caloricDebt.dailyBoost > 0) {
    return optimum + caloricDebt.dailyBoost;
  }
  return optimum;
}, [optimum, caloricDebt]);
```

---

## ðŸ”¬ ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð°ÑƒÐ´Ð¸Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¹ optimum

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ A: Ð Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ð½Ð¾Ñ€Ð¼ Ð‘Ð–Ð£ â€” ÐÐ• Ð¢Ð ÐžÐ“ÐÐ¢Ð¬ âŒ

Ð­Ñ‚Ð¸ Ð¼ÐµÑÑ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ optimum Ð´Ð»Ñ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð° Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ñ‹Ñ… Ð½Ð¾Ñ€Ð¼ Ð±ÐµÐ»ÐºÐ°/Ð¶Ð¸Ñ€Ð¾Ð²/ÑƒÐ³Ð»ÐµÐ²Ð¾Ð´Ð¾Ð².
**ÐšÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ñ‹Ð¹ Ð´Ð¾Ð»Ð³ ÐÐ• Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð²Ð»Ð¸ÑÑ‚ÑŒ Ð½Ð° ÑÑ‚Ð¸ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹** â€” Ð¸Ð½Ð°Ñ‡Ðµ ÐµÑÐ»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ +300
ÐºÐºÐ°Ð» Ðº Ð½Ð¾Ñ€Ð¼Ðµ, Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²ÑÑ‚ÑÑ +30Ð³ ÑƒÐ³Ð»ÐµÐ²Ð¾Ð´Ð¾Ð², Ñ‡Ñ‚Ð¾ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾.

| Ð¤Ð°Ð¹Ð»                  | Ð¡Ñ‚Ñ€Ð¾ÐºÐ°    | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚                                     |
| --------------------- | --------- | -------------------------------------------- |
| `heys_day_v12.js`     | 7414-7417 | `const K = +optimum` Ð´Ð»Ñ normAbs (Ð‘Ð–Ð£ Ð½Ð¾Ñ€Ð¼Ñ‹) |
| `heys_reports_v12.js` | 399       | `const K = +row.optimum` Ð´Ð»Ñ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð° Ð½Ð¾Ñ€Ð¼    |
| `heys_reports_v12.js` | 546       | `const K = +avg.optimum` Ð´Ð»Ñ ÑÑ€ÐµÐ´Ð½Ð¸Ñ…         |
| `heys_reports_v12.js` | 652, 654  | Ð Ð°ÑÑ‡Ñ‘Ñ‚ carbs/prot/fat Ð¸Ð· optimum             |
| `heys_reports_v12.js` | 771, 773  | Ð¢Ð¾ Ð¶Ðµ Ð´Ð»Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð°                    |

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ B: UI Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ "Ð½Ð¾Ñ€Ð¼Ð° ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹" â€” Ð—ÐÐœÐ•ÐÐ˜Ð¢Ð¬ Ð½Ð° displayOptimum âœ…

Ð­Ñ‚Ð¸ Ð¼ÐµÑÑ‚Ð° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ "ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÑŠÐµÑÑ‚ÑŒ".

| Ð¤Ð°Ð¹Ð»              | Ð¡Ñ‚Ñ€Ð¾ÐºÐ° | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚                        | Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ         |
| ----------------- | ------ | ------------------------------- | ---------------- |
| `heys_day_v12.js` | 6530   | Input "ÐÑƒÐ¶Ð½Ð¾ ÑÑŠÐµÑÑ‚ÑŒ" (disabled) | `displayOptimum` |
| `heys_day_v12.js` | 11766  | `goal-target` Ð² Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€Ðµ   | `displayOptimum` |
| `heys_day_v12.js` | 12078  | Metrics ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° "ÐÑƒÐ¶Ð½Ð¾"        | `displayOptimum` |
| `heys_day_v12.js` | 14633  | Formula popup "ÐÑƒÐ¶Ð½Ð¾ ÑÑŠÐµÑÑ‚ÑŒ"    | `displayOptimum` |

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ C: Ð Ð°ÑÑ‡Ñ‘Ñ‚ ratio (ÑÑŠÐµÐ´ÐµÐ½Ð¾/Ð½Ð¾Ñ€Ð¼Ð°) â€” Ð§ÐÐ¡Ð¢Ð˜Ð§ÐÐž âš ï¸

**Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„ÑÐºÐ¸Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ**: Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ "100%" Ð´Ð½Ñ Ñ Ð´Ð¾Ð»Ð³Ð¾Ð¼?

**Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1 (ÐºÐ¾Ð½ÑÐµÑ€Ð²Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹)**: ratio ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¾Ñ‚ `optimum`, Ð° `displayOptimum` â€”
Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ð²Ð½Ð¾

- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°: Ð·ÐµÐ»Ñ‘Ð½Ð°Ñ Ð·Ð¾Ð½Ð° Ð²ÑÐµÐ³Ð´Ð° 90-105% Ð¾Ñ‚ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¹ Ð½Ð¾Ñ€Ð¼Ñ‹
- âŒ UX: ÑÑŠÐµÐ» 2100 Ð¿Ñ€Ð¸ Ð½Ð¾Ñ€Ð¼Ðµ 1800, Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ 116% (ÐºÑ€Ð°ÑÐ½Ñ‹Ð¹), Ñ…Ð¾Ñ‚Ñ Ð´Ð¾Ð»Ð³
  Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ 2100

**Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2 (Ð°Ð³Ñ€ÐµÑÑÐ¸Ð²Ð½Ñ‹Ð¹)**: ratio ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¾Ñ‚ `displayOptimum`

- âœ… UX: ÑÑŠÐµÐ» 2100 Ð¿Ñ€Ð¸ displayOptimum=2100 â†’ 100% (Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹)
- âš ï¸ Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ: Ð½ÑƒÐ¶Ð½Ð¾ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð²ÑÐµ Ð¼ÐµÑÑ‚Ð° Ñ ratio
- âš ï¸ Ð Ð¸ÑÐº: ÑÐ»Ð¾Ð¼Ð°Ñ‚ÑŒ streak Ð»Ð¾Ð³Ð¸ÐºÑƒ, advice, heatmap

**Ð Ð•ÐšÐžÐœÐ•ÐÐ”ÐÐ¦Ð˜Ð¯**: Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1 + Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ "Ð±Ð¾Ð½ÑƒÑÐ½Ð¾Ð¹ Ð·Ð¾Ð½Ñ‹"

ÐœÐµÑÑ‚Ð° Ñ ratio: | Ð¤Ð°Ð¹Ð» | Ð¡Ñ‚Ñ€Ð¾ÐºÐ° | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ | |------|--------|----------| |
`heys_day_v12.js` | 6265 | `const ratio = totalKcal / (optimum \|\| 1)` | |
`heys_day_v12.js` | 7847 | `currentRatio = eatenKcal / (optimum \|\| 1)` | |
`heys_day_v12.js` | 9467 | Progress bar ratio | | `heys_day_v12.js` | 11659,
11663 | Goal progress pulse | | `heys_day_v12.js` | 16643 | Calendar ratio | |
`heys_advice_v1.js` | 2632, 5323, 6221 | Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ kcalPct | |
`heys_ratio_zones_v1.js` | Ð²ÑÑŽÐ´Ñƒ | Ð—Ð¾Ð½Ñ‹ Ñ†Ð²ÐµÑ‚Ð¾Ð² |

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ D: sparklineData â€” ÐÐšÐšÐ£Ð ÐÐ¢ÐÐž âš ï¸

`sparklineData` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `optimum` ÐºÐ°Ðº `target` Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð´Ð½Ñ.

| Ð¤Ð°Ð¹Ð»              | Ð¡Ñ‚Ñ€Ð¾ÐºÐ°           | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚                                             |
| ----------------- | ---------------- | ---------------------------------------------------- |
| `heys_day_v12.js` | 8420             | `target: optimum` Ð´Ð»Ñ Ð¿ÑƒÑÑ‚Ñ‹Ñ… Ð´Ð½ÐµÐ¹                    |
| `heys_day_v12.js` | 8473             | `target: optimum` Ð´Ð»Ñ ÑÐµÐ³Ð¾Ð´Ð½Ñ                        |
| `heys_day_v12.js` | 8552, 8563, 8584 | ÐŸÑ€Ð¾Ñ‡Ð¸Ðµ Ð´Ð½Ð¸                                           |
| `heys_day_v12.js` | 8677             | `const target = d.target \|\| optimum` Ð² caloricDebt |

**Ð’ÐÐ–ÐÐž**: `caloricDebt` ÑÐ°Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `sparklineData` â†’ Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ°Ñ
Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ target!

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ E: MealCard Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð° â€” ÐŸÐ ÐžÐ’Ð•Ð Ð˜Ð¢Ð¬

| Ð¤Ð°Ð¹Ð»                | Ð¡Ñ‚Ñ€Ð¾ÐºÐ°           | ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚                                          |
| ------------------- | ---------------- | ------------------------------------------------- |
| `heys_day_v12.js`   | 2096, 7395, 7470 | `optimum` Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚ÑÑ Ð² MealCard Ð´Ð»Ñ quality score |
| `heys_day_v12.js`   | 8969             | `getMealQualityScore(meal, ..., optimum, ...)`    |
| `heys_advice_v1.js` | 3570, 3645, 3653 | Quality score Ð² ÑÐ¾Ð²ÐµÑ‚Ð°Ñ…                           |

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: ÐžÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ `optimum` â€” ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¸Ñ‘Ð¼Ð° ÐÐ• Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ð¾Ð³Ð¾
Ð´Ð¾Ð»Ð³Ð° Ð´Ð½Ñ.

### ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ F: heys_advice_v1.js â€” ÐÐ• Ð¢Ð ÐžÐ“ÐÐ¢Ð¬ âŒ

Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ ÑƒÐ¶Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ñ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¼ optimum. Ð”Ð¾Ð±Ð°Ð²Ð¸Ð¼ ÐžÐ¢Ð”Ð•Ð›Ð¬ÐÐ«Ð• ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¿Ñ€Ð¾
ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ñ‹Ð¹ Ð´Ð¾Ð»Ð³, Ð° Ð½Ðµ Ð¼ÐµÐ½ÑÐµÐ¼ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ.

---

## ðŸ—ï¸ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

### 1. Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ

- `optimum` â€” Ð±Ð°Ð·Ð¾Ð²Ð°Ñ Ð½Ð¾Ñ€Ð¼Ð° (TDEE Ã— Ð´ÐµÑ„Ð¸Ñ†Ð¸Ñ‚ Ã— Ñ†Ð¸ÐºÐ») â€” **ÐÐ• ÐœÐ•ÐÐ¯Ð¢Ð¬**
- `displayOptimum` â€” ÑÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð½Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ
- `targetRange` â€” Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ð°Ñ Ð·ÐµÐ»Ñ‘Ð½Ð°Ñ Ð·Ð¾Ð½Ð° Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ð´Ð¾Ð»Ð³Ð°

### 2. Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ Ð´Ð»Ñ ratio/Ð·Ð¾Ð½

**Ð Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ Ð·ÐµÐ»Ñ‘Ð½ÑƒÑŽ Ð·Ð¾Ð½Ñƒ**, Ð° Ð½Ðµ Ð¼ÐµÐ½ÑÑ‚ÑŒ `optimum`:

```javascript
// Ð’Ð¼ÐµÑÑ‚Ð¾ ratio = eaten / displayOptimum
// Ð”ÐµÐ»Ð°ÐµÐ¼:
const baseRatio = eaten / optimum; // ÐžÑÑ‚Ð°Ñ‘Ñ‚ÑÑ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ
const debtBonus = caloricDebt?.dailyBoost || 0;
const bonusRatioPct = debtBonus / optimum; // +17% Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€

// Ð—ÐµÐ»Ñ‘Ð½Ð°Ñ Ð·Ð¾Ð½Ð° ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ: 90% â€” (105% + bonusRatioPct)
// ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: 90% â€” 122% Ð²Ð¼ÐµÑÑ‚Ð¾ 90% â€” 105%
```

**Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ**: ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ "Ð±Ð¾Ð½ÑƒÑÐ½ÑƒÑŽ Ð·Ð¾Ð½Ñƒ" Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð¾Ñ‚Ñ‚ÐµÐ½ÐºÐ¾Ð¼ Ð·ÐµÐ»Ñ‘Ð½Ð¾Ð³Ð¾ Ð½Ð°
Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€Ðµ.

### 3. ÐŸÐ»Ð°Ð½ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (Ð¿Ð¾ Ñ„Ð°Ð·Ð°Ð¼)

#### Ð¤Ð°Ð·Ð° 1: UI Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ (Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾) âœ…

- [x] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ `displayOptimum`
- [ ] Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° `displayOptimum` Ð² 4 Ð¼ÐµÑÑ‚Ð°Ñ… (ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ B)
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ `(+XXX)` Ñ€ÑÐ´Ð¾Ð¼ Ñ Ð½Ð¾Ñ€Ð¼Ð¾Ð¹ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð´Ð¾Ð»Ð³

#### Ð¤Ð°Ð·Ð° 2: ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€ Ñ Ð±Ð¾Ð½ÑƒÑÐ½Ð¾Ð¹ Ð·Ð¾Ð½Ð¾Ð¹ âš ï¸

- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½ÑƒÑŽ "Ð±Ð¾Ð½ÑƒÑÐ½ÑƒÑŽ Ð·Ð¾Ð½Ñƒ" Ð½Ð° goal-progress-bar
- [ ] Ð¦Ð²ÐµÑ‚ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¼ Ð´Ð¾ `105% + bonusPct`
- [ ] ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¼Ð°Ñ€ÐºÐµÑ€ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¹ Ð½Ð¾Ñ€Ð¼Ñ‹ (Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð»Ð¸Ð½Ð¸Ñ)

#### Ð¤Ð°Ð·Ð° 3: Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ñ€Ð¾ Ð´Ð¾Ð»Ð³ (Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾) âœ…

- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² `heys_advice_v1.js`:
  - `caloric_debt_mild` â€” Ð´Ð¾Ð»Ð³ 200-500 ÐºÐºÐ°Ð»
  - `caloric_debt_critical` â€” Ð´Ð¾Ð»Ð³ >700 ÐºÐºÐ°Ð»
  - `refeed_recommended` â€” Ð½ÑƒÐ¶ÐµÐ½ refeed Ð´ÐµÐ½ÑŒ
- [ ] ÐŸÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ `caloricDebt` Ð² params Ð´Ð»Ñ ÑÐ¾Ð²ÐµÑ‚Ð¾Ð²

#### Ð¤Ð°Ð·Ð° 4: Streak Ð»Ð¾Ð³Ð¸ÐºÐ° (Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½Ð¾!) âš ï¸

- [ ] Ð ÐµÑˆÐ¸Ñ‚ÑŒ: ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð»Ð¸ Ð´Ð½Ð¸ Ñ "Ð´Ð¾Ð»Ð³Ð¾Ð²Ñ‹Ð¼ Ð¿ÐµÑ€ÐµÐ±Ð¾Ñ€Ð¾Ð¼" ÐºÐ°Ðº ÑƒÑÐ¿ÐµÑˆÐ½Ñ‹Ðµ
- [ ] Ð•ÑÐ»Ð¸ Ð´Ð° â€” Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ `isStreakDay()` Ð² `heys_ratio_zones_v1.js`

---

## âš ï¸ ÐŸÐ¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### 1. Ð¦Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ

```
optimum â†’ sparklineData â†’ caloricDebt â†’ displayOptimum
                â†‘__________________________|
```

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: `caloricDebt` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `optimum`, displayOptimum â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ UI.

### 2. ÐžÑ‚Ñ‡Ñ‘Ñ‚Ñ‹ (reports)

`heys_reports_v12.js` Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑÐ²Ð¾Ð¹ `optimum` Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð´Ð½Ñ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾.
ÐšÐ°Ð»Ð¾Ñ€Ð¸Ð¹Ð½Ñ‹Ð¹ Ð´Ð¾Ð»Ð³ â€” ÑÑ‚Ð¾ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ "ÑÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½ÐµÐ³Ð¾ Ð´Ð½Ñ", Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ð° Ðº Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼
Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°Ð¼. **Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: ÐÐµ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ reports.

### 3. MealCard quality score

Ð•ÑÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ `displayOptimum`, Ð¿Ñ€Ð¸Ñ‘Ð¼Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ Ð¾Ñ†ÐµÐ½Ð¸Ð²Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð·Ð°Ð²Ñ‹ÑˆÐµÐ½Ð½Ð¾Ð¹
Ð½Ð¾Ñ€Ð¼Ñ‹. **Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: ÐžÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ `optimum` â€” ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¸Ñ‘Ð¼Ð° Ð½Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð´Ð¾Ð»Ð³Ð°.

### 4. Advice engine

Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ñ‚Ð¸Ð¿Ð° `kcal_excess_critical` ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð¿Ñ€Ð¸ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¸Ð¸ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð³Ð¾ optimum.
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ debt-aware ÑÐ¾Ð²ÐµÑ‚Ñ‹, Ð° Ð½Ðµ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ.

---

## ðŸ“ ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

| Ð¤Ð°Ð¹Ð»                         | Ð Ð¾Ð»ÑŒ                   | ÐœÐµÐ½ÑÑ‚ÑŒ?                    |
| ---------------------------- | ---------------------- | -------------------------- |
| `heys_day_v12.js`            | ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð´Ð½Ñ | âœ… displayOptimum, UI      |
| `heys_advice_v1.js`          | Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑÐ¾Ð²ÐµÑ‚Ð¾Ð²        | âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ debt ÑÐ¾Ð²ÐµÑ‚Ñ‹    |
| `heys_ratio_zones_v1.js`     | Ð¦Ð²ÐµÑ‚Ð° Ð·Ð¾Ð½              | âš ï¸ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ Ð·Ð¾Ð½Ñ‹ |
| `heys_reports_v12.js`        | ÐžÑ‚Ñ‡Ñ‘Ñ‚Ñ‹                 | âŒ ÐÐµ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ              |
| `100-metrics-and-graphs.css` | Ð¡Ñ‚Ð¸Ð»Ð¸                  | âœ… Ð‘Ð¾Ð½ÑƒÑÐ½Ð°Ñ Ð·Ð¾Ð½Ð° Ð½Ð° Ð±Ð°Ñ€Ðµ   |

---

## âœ… Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð¿ÐµÑ€ÐµÐ´ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

- [ ] Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ git snapshot Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
- [ ] Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¤Ð°Ð·Ñƒ 1 (UI) Ð¸ Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
- [ ] Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ðº Ð¤Ð°Ð·Ðµ 2-4
- [ ] ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ñ„Ð°Ð·Ñ‹: `pnpm type-check && pnpm build`
- [ ] Ð’Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ: Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€, sparkline, heatmap, calendar

---

## ðŸ”§ Ð¢ÐµÐºÑƒÑ‰ÐµÐµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ (Ñ‡Ñ‚Ð¾ ÑƒÐ¶Ðµ ÑÐ´ÐµÐ»Ð°Ð½Ð¾)

1. âœ… `caloricDebt` useMemo â€” Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð´Ð¾Ð»Ð³ (ÑÑ‚Ñ€Ð¾ÐºÐ° 8640-8755)
2. âœ… ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ð´Ð¾Ð»Ð³Ð° Ð¿Ð¾Ð´ sparkline â€” Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ breakdown
3. âœ… `debtPopup` â€” Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ popup Ð¿Ñ€Ð¸ ÐºÐ»Ð¸ÐºÐµ
4. âœ… **`displayOptimum`** â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð²Ð¾ Ð²ÑÐµÑ… UI Ð¼ÐµÑÑ‚Ð°Ñ…
5. âœ… **Phase 1**: Ð—Ð°Ð¼ÐµÐ½Ñ‘Ð½ `optimum` â†’ `displayOptimum` Ð² Input "ÐÑƒÐ¶Ð½Ð¾ ÑÑŠÐµÑÑ‚ÑŒ" +
   Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð´Ð¾Ð»Ð³Ð°
6. âœ… **Phase 2**: Ð‘Ð¾Ð½ÑƒÑÐ½Ð°Ñ Ð·Ð¾Ð½Ð° Ð½Ð° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€Ðµ (ÑˆÑ‚Ñ€Ð¸Ñ…Ð¾Ð²ÐºÐ° + Ð¼Ð°Ñ€ÐºÐµÑ€ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¹
   Ð½Ð¾Ñ€Ð¼Ñ‹)
7. âœ… **Debt-aware Ð»Ð¾Ð³Ð¸ÐºÐ°**: ÐŸÐµÑ€ÐµÐ±Ð¾Ñ€ Ð¸ Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ðº Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾
   `displayOptimum`
8. â³ Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ñ€Ð¾ Ð´Ð¾Ð»Ð³ (Phase 3)
9. â³ Streak Ð»Ð¾Ð³Ð¸ÐºÐ° (Phase 4)

---

## ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÑƒÑÐ¿ÐµÑ…Ð°

1. **ÐÐµ ÑÐ»Ð¾Ð¼Ð°Ð½Ð¾**: Ð²ÑÐµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚
2. **UI ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚ÐµÐ½**: Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð¸Ð´Ð¸Ñ‚ ÑÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð½Ð¾Ñ€Ð¼Ñƒ
3. **Ð Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ñ‹**: Ð‘Ð–Ð£ Ð½Ð¾Ñ€Ð¼Ñ‹ Ð½Ðµ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ
4. **Streak Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚**: ÑÐµÑ€Ð¸Ñ Ð·Ð°ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾
5. **Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ñ€ÐµÐ»ÐµÐ²Ð°Ð½Ñ‚Ð½Ñ‹**: Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¿Ñ€Ð¾ Ð´Ð¾Ð»Ð³

---

## ðŸŸ¢ WOW-Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

1. **Visual Bonus Zone Ð½Ð° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€Ðµ** ðŸŒŸ  
   ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð±Ð¾Ð½ÑƒÑÐ½ÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ ÑˆÑ‚Ñ€Ð¸Ñ…Ð¾Ð²ÐºÐ¾Ð¹ Ð¸Ð»Ð¸ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð¾Ð¼:

   ```css
   .goal-progress-bonus {
     background: repeating-linear-gradient(
       45deg,
       transparent,
       transparent 5px,
       rgba(16, 185, 129, 0.3) 5px,
       rgba(16, 185, 129, 0.3) 10px
     );
   }
   ```

2. **Animated Badge "ÐœÐ¾Ð¶Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ!"**  
   ÐŸÑƒÐ»ÑŒÑÐ¸Ñ€ÑƒÑŽÑ‰Ð¸Ð¹ Ð±ÐµÐ¹Ð´Ð¶ `+300 ÐºÐºÐ°Ð»` Ñ€ÑÐ´Ð¾Ð¼ Ñ Ð½Ð¾Ñ€Ð¼Ð¾Ð¹ (ÐºÐ°Ðº NDTE badge Ð² Ð¸Ð½ÑÑƒÐ»Ð¸Ð½Ð¾Ð²Ð¾Ð¹
   Ð²Ð¾Ð»Ð½Ðµ)

3. **Haptic feedback Ð¿Ñ€Ð¸ Ð²Ñ…Ð¾Ð´Ðµ Ð² Ð±Ð¾Ð½ÑƒÑÐ½ÑƒÑŽ Ð·Ð¾Ð½Ñƒ**

   ```javascript
   if (ratio > 1.0 && ratio < 1.0 + bonusPct) haptic('light');
   ```

4. **Streak "debt-aware" label** (Future)  
   Ð’ streak popup: "Ð”ÐµÐ½ÑŒ Ð·Ð°ÑÑ‡Ð¸Ñ‚Ð°Ð½ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÑŽ ðŸŽ¯"

---

## âš ï¸ Ð Ð¸ÑÐº-Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð°

| Ð Ð¸ÑÐº                               | Ð’ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ | Ð˜Ð¼Ð¿Ð°ÐºÑ‚      | ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ                                          |
| ---------------------------------- | ----------- | ----------- | -------------------------------------------------- |
| Ð¡Ð»Ð¾Ð¼Ð°Ñ‚ÑŒ streak                     | ÐÐ¸Ð·ÐºÐ°Ñ      | ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ | ÐÐµ Ð¼ÐµÐ½ÑÑ‚ÑŒ ratio â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ UI                        |
| Ð¦Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ            | ÐÐ¸Ð·ÐºÐ°Ñ      | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹     | displayOptimum Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ caloricDebt, Ð½Ðµ Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚ |
| ÐÐµÐºÐ¾Ð½ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ UI               | **Ð¡Ñ€ÐµÐ´Ð½ÑÑ** | Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹     | Ð¤Ð°Ð·Ð° 1 Ð¼ÐµÐ½ÑÐµÑ‚ Ð’Ð¡Ð• 4 Ð¼ÐµÑÑ‚Ð° Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾             |
| `getGradientColor` Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ Ð´Ð¾Ð»Ð³ | **Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ** | Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹     | Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ                    |
| Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð½Ð° Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¼ optimum          | Ð¡Ñ€ÐµÐ´Ð½ÑÑ     | ÐÐ¸Ð·ÐºÐ¸Ð¹      | ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ `caloric_debt_*` ÑÐ¾Ð²ÐµÑ‚Ñ‹                  |

---

## ðŸ”§ Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ´ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

1. **Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**: `caloricDebt.adjustedOptimum` â†’ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾
   `displayOptimum`
2. **Ð—Ð°Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ**: `getGradientColor()` hardcodes Ð¿Ð¾Ñ€Ð¾Ð³Ð¸ 0.5,
   0.75, 0.9, 1.0, 1.1, 1.3
3. **ÐÐºÑ‚ÑƒÐ°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸**: Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ 6530, 11766, 12078,
   14633 ÐµÑ‰Ñ‘ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹

---

## Changelog

| Ð”Ð°Ñ‚Ð°       | Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ                                                       |
| ---------- | --------------------------------------------------------------- |
| 2025-12-11 | Phase 0 Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½, Ñ€Ð¸ÑÐº-Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð°, WOW-Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸, rollback Ð¿Ð»Ð°Ð½ |
| 2025-12-11 | Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð°ÑƒÐ´Ð¸Ñ‚-Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°, ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¹ optimum   |
