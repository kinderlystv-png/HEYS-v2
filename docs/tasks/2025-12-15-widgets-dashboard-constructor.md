---
template-version: 3.3.0
created: 2025-12-15
updated: 2025-12-15
purpose: Task-First template ‚Äî business logic focus, actionable checklist
optimization: Adapted for HEYS-v2 (Legacy + Modern Monorepo)
changelog:
  v3.3.0 ‚Äî Synced with copilot-instructions v2.1.0, added HEYS.store pattern,
  pnpm lint v3.2.0 ‚Äî Added UI Testing section, aligned with copilot-instructions
  v2.0.0 v3.1.0 ‚Äî Added Quick Wins, Quick Reference, consolidated Testing
  Strategy
---

# Task: –í–∫–ª–∞–¥–∫–∞-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏–¥–∂–µ—Ç–æ–≤ (drag & drop dashboard)

## üìå TL;DR (–ö—Ä–∞—Ç–∫–∏–π –±—Ä–∏—Ñ)

**–¶–µ–ª—å**: –°–¥–µ–ª–∞—Ç—å –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –≤–∏–¥–∂–µ—Ç–æ–≤, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞–Ω–µ–ª—å –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ (—Å–æ–Ω/–≤–æ–¥–∞/–∫–∞–ª–æ—Ä–∏–∏/–≤–µ—Å/—à–∞–≥–∏/–∏–Ω—Å—É–ª–∏–Ω –∏ —Ç.–¥.) —á–µ—Ä–µ–∑ drag & drop —Å–µ—Ç–∫—É —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –ø–ª–∏—Ç–æ–∫.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º** (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É):
1. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å layout + —Ä–µ–µ—Å—Ç—Ä –≤–∏–¥–∂–µ—Ç–æ–≤ (—Ç–∏–ø—ã, —Ä–∞–∑–º–µ—Ä—ã 2√ó2 / 4√ó2 / 4√ó4 / 2√ó4, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞–≤–∏—Å–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ).
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å grid engine —Å drag & drop (touch + mouse), –∞–≤—Ç–æ-—É–ø–∞–∫–æ–≤–∫–æ–π –∏ –∞–¥–∞–ø—Ç–∏–≤–æ–º (mobile 4 cols, tablet 8, desktop 12).
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã (—Å–æ–Ω, –≤–æ–¥–∞, –∫–∞–ª–æ—Ä–∏–∏, –º–∞–∫—Ä–æ—Å—ã, –≤–µ—Å, —à–∞–≥–∏, –∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞, streak), —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å layout –≤ ls/HEYS.store, –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –∏ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ó–∞—á–µ–º**:
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è: –±—ã—Å—Ç—Ä–∞—è ¬´–¥–æ–º–∞—à–Ω—è—è¬ª –ø–∞–Ω–µ–ª—å –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞

**–í—Ä–µ–º—è**: ~6-8 —á–∞—Å–æ–≤

---

## üéØ WHY (–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç)

**Problem**: –ù–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–π ¬´–¥–æ–º–∞—à–Ω–µ–π¬ª –ø–∞–Ω–µ–ª–∏: –≤–∞–∂–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (—Å–æ–Ω, –≤–æ–¥–∞, –∫–∞–ª–æ—Ä–∏–∏) —Å–ø—Ä—è—Ç–∞–Ω—ã –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –∏ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö.

**Impact**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∫—É—Ä–∞—Ç–æ—Ä—ã —Ç—Ä–∞—Ç—è—Ç –≤—Ä–µ–º—è –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—é, –ø–∞–¥–∞–µ—Ç —á–∞—Å—Ç–æ—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

**Value**: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π dashboard —Å–æ–∫—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –¥–æ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π, –ø–æ–≤—ã—à–∞–µ—Ç retention –∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å (–æ–∂–∏–¥–∞–µ–º —Ä–æ—Å—Ç Daily Active Time / –æ—Ç–∫—Ä—ã—Ç–∏–π –≤–∏–¥–∂–µ—Ç–æ–≤).

---

## ü§ñ Output Preferences

**Workflow**: Propose plan first, then implement directly

**Code style**: Follow copilot-instructions.md (Tailwind/BEM, –±–µ–∑ inline —Å—Ç–∏–ª–µ–π, HEYS.store/U.lsSet)

---

## üìã WHAT (–ß–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á)

### Must Have (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–µ–ª–∏–∑–∞)

- [ ] **Legacy UI** ‚Äî `apps/web/heys_widgets_v1.js` ‚Üí –±–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å –≤–∫–ª–∞–¥–∫–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–µ—Ç–∫–∏
  - **Why**: –ù—É–∂–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - **Acceptance**: –í–∫–ª–∞–¥–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å–µ—Ç–∫—É —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ edit/view —Ä–µ–∂–∏–º–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫
  - **Files**: `apps/web/heys_app_v12.js`, `apps/web/heys_widgets_v1.js`

- [ ] **Registry** ‚Äî `apps/web/heys_widgets_registry_v1.js` ‚Üí —Ä–µ–µ—Å—Ç—Ä —Ç–∏–ø–æ–≤ –≤–∏–¥–∂–µ—Ç–æ–≤
  - **Why**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–≤, –∏–∫–æ–Ω–æ–∫ –∏ —Ç—Ä–µ–±—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - **Acceptance**: –ö–∞—Ç–∞–ª–æ–≥ –≤–∏–¥–∂–µ—Ç–æ–≤ —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞; –º–∏–Ω–∏–º—É–º 7 –≤–∏–¥–∂–µ—Ç–æ–≤ (—Å–æ–Ω, –≤–æ–¥–∞, –∫–∞–ª–æ—Ä–∏–∏/ratio, –º–∞–∫—Ä–æ—Å—ã, –≤–µ—Å, —à–∞–≥–∏, –∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞/streak)
  - **Files**: `apps/web/heys_widgets_registry_v1.js`, `apps/web/widgets/widget_*.js`

- [ ] **Grid & DnD Engine** ‚Äî `apps/web/heys_widgets_grid_v1.js` ‚Üí –ª–æ–≥–∏–∫–∞ —Å–µ—Ç–∫–∏
  - **Why**: –ù—É–∂–µ–Ω –µ–¥–∏–Ω—ã–π –¥–≤–∏–∂–æ–∫ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–ª–ª–∏–∑–∏–π, –∞–≤—Ç–æ-—É–ø–∞–∫–æ–≤–∫–∏, drag & drop (mouse + touch)
  - **Acceptance**: –í–∏–¥–∂–µ—Ç—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å; –∫–æ–ª–ª–∏–∑–∏–π –Ω–µ—Ç; –∞–≤—Ç–æ-—É–ø–∞–∫–æ–≤–∫–∞ —É–±–∏—Ä–∞–µ—Ç –¥—ã—Ä–∫–∏; —Ä–∞–∑–º–µ—Ä—ã —É—á–∏—Ç—ã–≤–∞—é—Ç 2√ó2 / 4√ó2 / 4√ó4 / 2√ó4; –∞–¥–∞–ø—Ç–∏–≤ (4/8/12 –∫–æ–ª–æ–Ω–æ–∫)
  - **Files**: `apps/web/heys_widgets_grid_v1.js`, CSS –≤ `styles/heys-components.css`

- [ ] **Persistence** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ layout
  - **Why**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –Ω–∞–±–æ—Ä –∏ –ø–æ–∑–∏—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
  - **Acceptance**: Layout –ø–∏—à–µ—Ç—Å—è/—á–∏—Ç–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `HEYS.store`/`U.lsSet` —Å clientId namespace; –≤–µ—Ä—Å–∏—è —Å—Ö–µ–º—ã —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è; graceful fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
  - **Files**: `apps/web/heys_widgets_v1.js`, `apps/web/heys_storage_layer_v1.js`

- [ ] **–ö–∞—Ç–∞–ª–æ–≥ + –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ** ‚Äî UI –≤—ã–±–æ—Ä–∞ –≤–∏–¥–∂–µ—Ç–æ–≤
  - **Why**: –ù—É–∂–µ–Ω –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–∏—Ç—å/—É–±—Ä–∞—Ç—å –ø–ª–∏—Ç–∫—É
  - **Acceptance**: –ú–æ–¥–∞–ª–∫–∞/–ø–∞–Ω–µ–ª—å –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º —Ä–∞–∑–º–µ—Ä–æ–≤; –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç layout –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è; –Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ id
  - **Files**: `apps/web/heys_widgets_v1.js`, `apps/web/heys_widgets_registry_v1.js`

### Should Have (–≤–∞–∂–Ω–æ, –Ω–æ –Ω–µ –±–ª–æ–∫–µ—Ä)

- [ ] **Quick presets** ‚Äî 2-3 –≥–æ—Ç–æ–≤—ã—Ö —Ä–∞—Å–∫–ª–∞–¥–∫–∏ ("–°—Ç–∞—Ä—Ç", "–ú–µ—Ç–∞–±–æ–ª–∏–∑–º", "–°–ø–æ—Ä—Ç")
  - **Why**: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ —Ä—É—á–Ω–æ–π —Å–±–æ—Ä–∫–∏
  - **Acceptance**: –ü—Ä–µ—Å–µ—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π, –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º—É layout
  - **Files**: `apps/web/heys_widgets_v1.js`

- [ ] **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö**
  - **Why**: –í–∏–¥–∂–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–µ—Å—Ç–∏ —Å–µ–±—è –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö
  - **Acceptance**: –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä/—Å–∫–µ–ª–µ—Ç–æ–Ω, –ø–æ–¥—Å–∫–∞–∑–∫–∞ "–¥–æ–±–∞–≤—å—Ç–µ —Å–æ–Ω/–≤–æ–¥—É"; –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
  - **Files**: `apps/web/widgets/widget_*.js`

### Could Have (nice to have)

- [ ] **Haptics/–∞–Ω–∏–º–∞—Ü–∏–∏** –¥–ª—è drag & drop –∏ drop-in
  - **Why**: –ü–æ–≤—ã—à–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ "–∂–∏–≤–æ–≥–æ" –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
  - **Acceptance**: –õ—ë–≥–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤–∏–±—Ä–æ (–≥–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ) –±–µ–∑ –ª–∞–≥–æ–≤
  - **Files**: `styles/heys-components.css`, `apps/web/heys_widgets_grid_v1.js`

- [ ] **Export/Import layout** (JSON)
  - **Why**: –î–µ–ª–∏—Ç—å—Å—è —Ä–∞—Å–∫–ª–∞–¥–∫–æ–π –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏/–∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏
  - **Acceptance**: –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞—é—Ç, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏
  - **Files**: `apps/web/heys_widgets_v1.js`

---

## ‚úÖ DONE (–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏)

### Functional

- [ ] –í–∏–¥–∂–µ—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è/–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é—Ç—Å—è, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –ö–æ–ª–ª–∏–∑–∏–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω—ã, –∞–≤—Ç–æ-—É–ø–∞–∫–æ–≤–∫–∞ —É–±–∏—Ä–∞–µ—Ç –ø—É—Å—Ç–æ—Ç—ã
- [ ] –ê–¥–∞–ø—Ç–∏–≤: mobile (—Å—Ç–µ–∫/4 –∫–æ–ª–æ–Ω–∫–∏), tablet (8), desktop (12); –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–µ–Ω —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π layout
- [ ] –ö–∞—Ç–∞–ª–æ–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –∏–∫–æ–Ω–∫–∏; –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–µ—Ç
- [ ] –í–∏–¥–∂–µ—Ç—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä/empty-state, –Ω–µ –ø–∞–¥–∞—é—Ç

### Quality Gates

- [ ] **Testing Strategy**:
  - **How**: Manual –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π smoke (drag, add/remove, reload), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ unit –¥–ª—è layout-–∞–ª–≥–æ—Ä–∏—Ç–º–∞
  - **Where**: localhost:3001
  - **Edge cases**: –ø—É—Å—Ç–æ–π layout, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –≤—ã—Å–æ—Ç–µ, —Å–º–µ–Ω–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–Ω–∞/–≤–æ–¥—ã
- [ ] **Type safety**: `pnpm type-check` (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ TS) ‚Äî PASS
- [ ] **Linting**: `pnpm lint` ‚Äî PASS (–µ—Å–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –ø–∞–∫–µ—Ç—ã)
- [ ] **Tests**: `pnpm test:all` ‚Äî PASS –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤
- [ ] **Build**: `pnpm build` ‚Äî PASS

### UI Testing (–¥–ª—è UI –∑–∞–¥–∞—á)

**Mobile (Chrome DevTools ‚Üí iPhone SE):**

- [ ] –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Touch targets ‚â•44px (`min-h-11`)
- [ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ

**Desktop (>768px):**

- [ ] Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Keyboard –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Enter, Escape)

**–û–±—â–µ–µ:**

- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ console

### Performance

- [ ] Bundle: –Ω–æ–≤—ã–π JS <50KB –Ω–∞ —Ñ–∞–π–ª legacy; —Ç—è–∂—ë–ª—ã–µ —Ä–∞—Å—á—ë—Ç—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤ —É—Ç–∏–ª–∏—Ç—ã
- [ ] Latency: –Ω–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ main thread; drag & drop –±–µ–∑ —Ñ—Ä–∏–∑–æ–≤

### Documentation

- [ ] PR —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç PROMPT
- [ ] –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π self-review –≤—ã–ø–æ–ª–Ω–µ–Ω

---

## ü§ñ AI Context (Technical Specs)

### üìê Architecture

- Legacy (`apps/web/`): React 18 (CDN), inline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã; –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π runtime
- Modern (`packages/`): TypeScript –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ª–æ–≥–∏–∫–∏
- Storage: `U.lsSet` / `HEYS.store` —Å clientId namespace; –∏–∑–±–µ–≥–∞—Ç—å –ø—Ä—è–º–æ–≥–æ `localStorage`
- UI —Å—Ç–∏–ª–∏: Tailwind / `styles/heys-components.css` (BEM), –±–µ–∑ inline-—Å—Ç–∏–ª–µ–π

### ‚ùå Anti-Patterns (DO NOT)

1. –ù–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å legacy –Ω–∞ TS –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
2. –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å global listeners –±–µ–∑ cleanup
3. –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `console.log` ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫—É/–º–∏–Ω–∏–º—É–º
4. –ù–µ –≤—ã–∑—ã–≤–∞—Ç—å `select('*')` –≤ Supabase

### üîë Key Patterns

- –í–∏–¥–∂–µ—Ç—ã –∫–∞–∫ –º–æ–¥—É–ª–∏: `HEYS.widgets.register(type, { render, sizes, settings })`
- Grid —Ö—Ä–∞–Ω–∏—Ç layout `{id, type, size, position, settings}`; –≤–µ—Ä—Å–∏–∏ —Å—Ö–µ–º—ã —á–µ—Ä–µ–∑ `layoutVersion`
- –ö–∞—Ç–∞–ª–æ–≥ —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, –∞ –Ω–µ –∏–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
- Drag & drop: –Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è + touch; placeholder + –∫–æ–ª–ª–∏–∑–∏–∏; –∞–≤—Ç–æ-pack —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑
- –ê–¥–∞–ø—Ç–∏–≤: mobile fallback (stack) –ø—Ä–∏ —É–∑–∫–æ–º —ç–∫—Ä–∞–Ω–µ; desktop ‚Äî –ø–æ–ª–Ω–∞—è —Å–µ—Ç–∫–∞

---

## üìù Notes

- **Priority**: high
- **Complexity**: L (–º–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω–∞—è UI-—Ñ–∏—á–∞)
- **Blockers**: —É—á–µ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å drag & drop –≤ legacy React; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–æ—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **Related Tasks**: –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è —Å `2025-11-30-pwa-features.md` (—Ä–µ–∂–∏–º—ã –∏–∫–æ–Ω–æ–∫), `2025-11-29-sparkline-enhancements-v2.md` (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
- **Created**: 2025-12-15

---

## üöÄ Usage

1. Copy template ‚Üí `docs/tasks/2025-12-15-widgets-dashboard-constructor.md`
2. Fill all sections (done)
3. Use in PR: "Task prompt: docs/tasks/2025-12-15-widgets-dashboard-constructor.md"
4. Archive completed tasks ‚Üí `docs/tasks/archive/`
