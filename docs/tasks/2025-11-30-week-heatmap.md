# üìä Mini-heatmap –Ω–µ–¥–µ–ª–∏

> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2 (—É–ª—É—á—à–µ–Ω–∏–µ UX)  
> **–í—Ä–µ–º—è**: ~25 –º–∏–Ω—É—Ç  
> **–§–∞–π–ª—ã**: 2 —Ñ–∞–π–ª–∞

---

## üîç –ì–ª—É–±–æ–∫–∏–π –∞—É–¥–∏—Ç

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ –û–ö
- CSS —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `apps/web/styles/main.css` (–Ω–µ `day.css`!)
- –ü–∞—Ç—Ç–µ—Ä–Ω `setDate(day.date)` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—ã ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- –§–æ—Ä–º–∞—Ç –¥–∞—Ç `toISOString().slice(0,10)` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–µ–∫—Ç—É
- `U.lsGet()` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. **CSS —Ñ–∞–π–ª**: –ë—ã–ª —É–∫–∞–∑–∞–Ω `day.css` ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ `main.css`
2. **Timezone bug**: `new Date(date)` –º–æ–∂–µ—Ç –¥–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–µ–Ω—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç ISO-—Å—Ç—Ä–æ–∫–∏ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –¥–∞—Ç—É
3. **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞**: –ñ—ë—Å—Ç–∫–∏–µ —Ü–≤–µ—Ç–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

### üü° –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ù–µ–¥–æ–µ–ª (<75%)**: –î–æ–±–∞–≤–∏—Ç—å 4-–π —Å—Ç–∞—Ç—É—Å `low` (—Å–∏–Ω–∏–π) –¥–ª—è —Å–∏–ª—å–Ω–æ–≥–æ –¥–µ—Ñ–∏—Ü–∏—Ç–∞
2. **Hover –Ω–∞ desktop**: –î–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
3. **Accessibility**: –î–æ–±–∞–≤–∏—Ç—å `title` –¥–ª—è screen readers
4. **Stagger-–∞–Ω–∏–º–∞—Ü–∏—è**: –£–∂–µ –µ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### üü¢ WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã
1. **–°–≤–∞–π–ø –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é/—Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é
2. **Streak-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä** ‚Äî "üî• 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥" –≤ —à–∞–ø–∫–µ
3. **–ü–∞—Ç—Ç–µ—Ä–Ω-–∏–Ω—Å–∞–π—Ç** ‚Äî "–ü–æ –≤—ã—Ö–æ–¥–Ω—ã–º +15% –∫–∞–ª–æ—Ä–∏–π" –ø–æ–¥ heatmap
4. **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å** ‚Äî –º—è–≥–∫–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è —Ä–∞–º–∫–∏

---

## –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ –≤ –±–ª–æ–∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ ‚Äî 7 –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏.

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÖ –ù–µ–¥–µ–ª—è  üî• 4        4/6 –≤ –Ω–æ—Ä–º–µ      ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ ‚îÇ –ü–Ω‚îÇ –í—Ç‚îÇ –°—Ä‚îÇ –ß—Ç‚îÇ –ü—Ç‚îÇ –°–±‚îÇ –í—Å‚îÇ          ‚îÇ
‚îÇ ‚îÇ üü¢‚îÇ üü¢‚îÇ üü°‚îÇ üü¢‚îÇ üî¥‚îÇ üü°‚îÇ ‚¨ú‚îÇ          ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ        –ü–æ –≤—ã—Ö–æ–¥–Ω—ã–º +12% –∫–∞–ª–æ—Ä–∏–π         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (5 —Å—Ç–∞—Ç—É—Å–æ–≤):**
- üîµ –°–∏–Ω–∏–π (`#3b82f6`) ‚Äî <75% (—Å–∏–ª—å–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç, `low`)
- üü¢ –ó–µ–ª—ë–Ω—ã–π (`#22c55e`) ‚Äî 75-100% (–Ω–æ—Ä–º–∞, `green`)
- üü° –ñ—ë–ª—Ç—ã–π (`#eab308`) ‚Äî 100-115% (–Ω–µ–±–æ–ª—å—à–æ–π –∏–∑–±—ã—Ç–æ–∫, `yellow`)
- üî¥ –ö—Ä–∞—Å–Ω—ã–π (`#ef4444`) ‚Äî >115% (—Å–∏–ª—å–Ω—ã–π –∏–∑–±—ã—Ç–æ–∫, `red`)
- ‚¨ú –°–µ—Ä—ã–π (`#3f3f46`) ‚Äî –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö / –±—É–¥—É—â–∏–π –¥–µ–Ω—å (`empty`)

---

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|------|------------|
| `apps/web/heys_day_v12.js` | useMemo + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (~—Å—Ç—Ä–æ–∫–∏ 3680, 4800) |
| `apps/web/styles/main.css` | CSS —Å—Ç–∏–ª–∏ (–≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞) |

---

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–±–ª–æ–∫–µ—Ä—ã)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:**

1. **–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   ```javascript
   U.lsGet('heys_dayv2_2025-11-25', null) // –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç —Å meals
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å optimum** ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0:
   ```javascript
   // –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ DayTab –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ optimum –≤—ã—á–∏—Å–ª–µ–Ω
   ```

3. **–ù–∞–π—Ç–∏ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –≤—Å—Ç–∞–≤–∫–∏ useMemo** ‚Äî –ø–æ—Å–ª–µ `kcalTrend`:
   ```javascript
   // –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫—É: }, [sparklineData, optimum]);
   // –í—Å—Ç–∞–≤–∏—Ç—å weekHeatmapData useMemo –ü–û–°–õ–ï –Ω–µ—ë
   ```

4. **–ù–∞–π—Ç–∏ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** ‚Äî –ø–æ—Å–ª–µ correlation-block, –ø–µ—Ä–µ–¥ weight-sparkline:
   ```javascript
   // –ù–∞–π—Ç–∏: // –°–ø–∞—Ä–∫–ª–∞–π–Ω –≤–µ—Å–∞ ‚Äî –≥—Ä–∞—Ñ–∏–∫ –≤–µ—Å–∞ —Å —Ç—Ä–µ–Ω–¥–æ–º
   // –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ü–ï–†–ï–î —ç—Ç–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
   ```

---

## –®–∞–≥–∏

### 1. –î–∞–Ω–Ω—ã–µ –Ω–µ–¥–µ–ª–∏ (useMemo)

**–ì–¥–µ**: –ü–æ—Å–ª–µ `kcalTrend` useMemo (~—Å—Ç—Ä–æ–∫–∞ 3695, –ø–æ—Å–ª–µ `}, [sparklineData, optimum]);`)

```javascript
    // –î–∞–Ω–Ω—ã–µ –¥–ª—è heatmap —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ (–ø–Ω-–≤—Å)
    const weekHeatmapData = React.useMemo(() => {
      // –ü–∞—Ä—Å–∏–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ timezone issues)
      const [year, month, day] = date.split('-').map(Number);
      const today = new Date(year, month - 1, day);
      const now = new Date();
      const nowDateStr = fmtDate(now);
      
      // –ù–∞—Ö–æ–¥–∏–º –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏
      const dayOfWeek = today.getDay();
      const mondayOffset = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;
      const monday = new Date(today);
      monday.setDate(today.getDate() + mondayOffset);
      
      const days = [];
      const dayNames = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
      let streak = 0;
      let weekendExcess = 0;
      let weekdayAvg = 0;
      let weekendCount = 0;
      let weekdayCount = 0;
      
      for (let i = 0; i < 7; i++) {
        const d = new Date(monday);
        d.setDate(monday.getDate() + i);
        const dateStr = fmtDate(d);
        const isFuture = dateStr > nowDateStr;
        const isToday = dateStr === date;
        const isWeekend = i >= 5;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–Ω—è
        let ratio = null;
        let kcal = 0;
        let status = 'empty'; // empty | low | green | yellow | red
        
        if (!isFuture) {
          const dayData = U.lsGet('heys_dayv2_' + dateStr, null);
          if (dayData && dayData.meals && dayData.meals.length > 0) {
            const totals = M.calcDayTotals ? M.calcDayTotals(dayData, pIndex) : { kcal: 0 };
            kcal = totals.kcal || 0;
            if (kcal > 0 && optimum > 0) {
              ratio = kcal / optimum;
              if (ratio < 0.75) status = 'low';
              else if (ratio <= 1.0) status = 'green';
              else if (ratio <= 1.15) status = 'yellow';
              else status = 'red';
              
              // –°—á–∏—Ç–∞–µ–º streak (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ green)
              if (status === 'green' && (days.length === 0 || days[days.length - 1].status === 'green')) {
                streak++;
              } else if (status !== 'green') {
                streak = 0;
              }
              
              // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö
              if (isWeekend) {
                weekendExcess += ratio;
                weekendCount++;
              } else {
                weekdayAvg += ratio;
                weekdayCount++;
              }
            }
          }
        }
        
        days.push({
          date: dateStr,
          name: dayNames[i],
          status,
          ratio,
          kcal: Math.round(kcal),
          isToday,
          isFuture,
          isWeekend
        });
      }
      
      const inNorm = days.filter(d => d.status === 'green').length;
      const withData = days.filter(d => d.status !== 'empty' && !d.isFuture).length;
      
      // –ü–∞—Ç—Ç–µ—Ä–Ω –≤—ã—Ö–æ–¥–Ω—ã—Ö
      let weekendPattern = null;
      if (weekendCount > 0 && weekdayCount > 0) {
        const avgWeekend = weekendExcess / weekendCount;
        const avgWeekday = weekdayAvg / weekdayCount;
        const diff = Math.round((avgWeekend - avgWeekday) * 100);
        if (Math.abs(diff) >= 10) {
          weekendPattern = diff > 0 
            ? '–ü–æ –≤—ã—Ö–æ–¥–Ω—ã–º +' + diff + '% –∫–∞–ª–æ—Ä–∏–π'
            : '–ü–æ –≤—ã—Ö–æ–¥–Ω—ã–º ' + diff + '% –∫–∞–ª–æ—Ä–∏–π';
        }
      }
      
      return { days, inNorm, withData, streak, weekendPattern };
    }, [date, optimum, pIndex, products]);
```

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç heatmap

**–ì–¥–µ**: –ü–æ—Å–ª–µ –±–ª–æ–∫–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏, –ø–µ—Ä–µ–¥ `// –°–ø–∞—Ä–∫–ª–∞–π–Ω –≤–µ—Å–∞` (~—Å—Ç—Ä–æ–∫–∞ 4803)

```javascript
      // === Mini-heatmap –Ω–µ–¥–µ–ª–∏ ===
      weekHeatmapData.withData > 0 && React.createElement('div', {
        className: 'week-heatmap'
      },
        React.createElement('div', { className: 'week-heatmap-header' },
          React.createElement('span', { className: 'week-heatmap-title' }, 'üìÖ –ù–µ–¥–µ–ª—è'),
          weekHeatmapData.streak >= 2 && React.createElement('span', { 
            className: 'week-heatmap-streak' 
          }, 'üî• ' + weekHeatmapData.streak),
          React.createElement('span', { className: 'week-heatmap-stat' },
            weekHeatmapData.inNorm + '/' + weekHeatmapData.withData + ' –≤ –Ω–æ—Ä–º–µ'
          )
        ),
        React.createElement('div', { className: 'week-heatmap-grid' },
          weekHeatmapData.days.map((d, i) => 
            React.createElement('div', {
              key: i,
              className: 'week-heatmap-day ' + d.status + 
                (d.isToday ? ' today' : '') +
                (d.isWeekend ? ' weekend' : ''),
              title: d.isFuture ? d.name : (d.kcal > 0 ? d.kcal + ' –∫–∫–∞–ª' : '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö'),
              style: { '--stagger-delay': (i * 50) + 'ms' },
              onClick: () => {
                if (!d.isFuture && d.status !== 'empty') {
                  setDate(d.date);
                  haptic('light');
                }
              }
            },
              React.createElement('span', { className: 'week-heatmap-name' }, d.name),
              React.createElement('div', { className: 'week-heatmap-cell' })
            )
          )
        ),
        weekHeatmapData.weekendPattern && React.createElement('div', { 
          className: 'week-heatmap-pattern' 
        }, weekHeatmapData.weekendPattern)
      ),
```

### 3. CSS —Å—Ç–∏–ª–∏

**–ì–¥–µ**: `apps/web/styles/main.css` ‚Äî –ø–æ—Å–ª–µ —Å—Ç–∏–ª–µ–π `.correlation-*` (~—Å—Ç—Ä–æ–∫–∞ 4187)

```css
/* === Week Heatmap === */
.week-heatmap {
  grid-column: 1 / -1;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 12px 16px;
  margin-top: 8px;
}

.week-heatmap-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}

.week-heatmap-title {
  font-size: 14px;
  font-weight: 600;
  color: #1e293b;
}

.week-heatmap-streak {
  font-size: 12px;
  font-weight: 600;
  color: #f59e0b;
  background: #fef3c7;
  padding: 2px 6px;
  border-radius: 8px;
}

.week-heatmap-stat {
  font-size: 12px;
  color: #64748b;
  margin-left: auto;
}

.week-heatmap-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}

.week-heatmap-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  transition: transform 0.15s ease;
  animation: fadeInUp 0.3s ease-out backwards;
  animation-delay: var(--stagger-delay, 0ms);
}

.week-heatmap-day:hover {
  transform: translateY(-2px);
}

.week-heatmap-day:active {
  transform: scale(0.92);
}

.week-heatmap-name {
  font-size: 10px;
  color: #64748b;
  font-weight: 500;
}

.week-heatmap-day.weekend .week-heatmap-name {
  color: #94a3b8;
}

.week-heatmap-day.today .week-heatmap-name {
  color: #3b82f6;
  font-weight: 700;
}

.week-heatmap-cell {
  width: 100%;
  aspect-ratio: 1;
  border-radius: 6px;
  background: #e2e8f0;
  transition: background 0.2s ease, box-shadow 0.2s ease;
}

/* –°—Ç–∞—Ç—É—Å—ã */
.week-heatmap-day.low .week-heatmap-cell {
  background: #3b82f6;
}

.week-heatmap-day.green .week-heatmap-cell {
  background: #22c55e;
}

.week-heatmap-day.yellow .week-heatmap-cell {
  background: #eab308;
}

.week-heatmap-day.red .week-heatmap-cell {
  background: #ef4444;
}

.week-heatmap-day.empty .week-heatmap-cell {
  background: #e2e8f0;
  opacity: 0.5;
}

/* Today ring —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
.week-heatmap-day.today .week-heatmap-cell {
  box-shadow: 0 0 0 2px #3b82f6;
  animation: todayPulse 2s ease-in-out infinite;
}

@keyframes todayPulse {
  0%, 100% { box-shadow: 0 0 0 2px #3b82f6; }
  50% { box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); }
}

/* –ü–∞—Ç—Ç–µ—Ä–Ω-–∏–Ω—Å–∞–π—Ç */
.week-heatmap-pattern {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid #e2e8f0;
  font-size: 11px;
  color: #64748b;
  text-align: center;
}

/* Hover –Ω–∞ –≤—Å—ë–º –±–ª–æ–∫–µ */
.week-heatmap:hover {
  border-color: #cbd5e1;
}
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] 7 –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤ –ø–Ω-–≤—Å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] 5 —Å—Ç–∞—Ç—É—Å–æ–≤ —Ü–≤–µ—Ç–∞ (low/green/yellow/red/empty)
- [ ] –¢–µ–∫—É—â–∏–π –¥–µ–Ω—å –≤—ã–¥–µ–ª–µ–Ω —Ä–∞–º–∫–æ–π —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π
- [ ] –ö–ª–∏–∫ –ø–æ –¥–Ω—é –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å
- [ ] Streak-–±–µ–π–¥–∂ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ >= 2 –¥–Ω–µ–π
- [ ] –ü–∞—Ç—Ç–µ—Ä–Ω –≤—ã—Ö–æ–¥–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–Ω–∏—Ü–µ >= 10%
- [ ] Stagger-–∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏
- [ ] Hover-—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ desktop
- [ ] Title –¥–ª—è accessibility
- [ ] `pnpm type-check` ‚úì
- [ ] `pnpm build` ‚úì

---

## –ë–æ–Ω—É—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, v2)

- **–°–≤–∞–π–ø –Ω–µ–¥–µ–ª—å** ‚Äî –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø—Ä–µ–¥/—Å–ª–µ–¥ –Ω–µ–¥–µ–ª—é
- **Long-press** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π tooltip —Å –∫–∫–∞–ª –∏ –º–∞–∫—Ä–æ—Å–∞–º–∏
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** ‚Äî "–õ—É—á—à–µ –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–∏ –Ω–∞ 15%"
- **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Äî –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∏ "–Ω–∞–ª–∏–≤–∞—é—Ç—Å—è" —Ü–≤–µ—Ç–æ–º —Å–Ω–∏–∑—É –ø–æ ratio

