# üîÆ Predictive Insights Module ‚Äî –£–º–Ω–∞—è –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ø—Ä–µ–¥–∏–∫—Ü–∏–∏ + WOW UI)

**–§–∞–π–ª**: `docs/tasks/2025-12-14-predictive-insights-module.md`  
**–í–µ—Ä—Å–∏—è**: 1.1.0  
**–î–∞—Ç–∞**: 2025-12-14  
**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: ~6-10 —á–∞—Å–æ–≤ (–º–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å –Ω–∞ —Ñ–∞–∑—ã; UI WOW –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏
–æ—Ç–¥–µ–ª—å–Ω–æ)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî• –í–´–°–û–ö–ò–ô

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¶–µ–ª—å](#-—Ü–µ–ª—å)
2. [–§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –±–ª–æ–∫–µ—Ä—ã](#-—Ñ–∞–∑–∞-0-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∏-–±–ª–æ–∫–µ—Ä—ã-–∫—Ä–∏—Ç–∏—á–Ω–æ)
3. [–§–∞–∑–∞ 1: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö](#-—Ñ–∞–∑–∞-1-—Å–±–æ—Ä-–¥–∞–Ω–Ω—ã—Ö)
4. [–§–∞–∑–∞ 2: –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑](#-—Ñ–∞–∑–∞-2-–∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π-–∞–Ω–∞–ª–∏–∑)
5. [–§–∞–∑–∞ 3: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è](#-—Ñ–∞–∑–∞-3-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ø–æ–≤–µ–¥–µ–Ω–∏—è)
6. [–§–∞–∑–∞ 4: –ü—Ä–µ–¥–∏–∫—Ü–∏–∏](#-—Ñ–∞–∑–∞-4-–ø—Ä–µ–¥–∏–∫—Ü–∏–∏-ml-lite)
7. [–§–∞–∑–∞ 5: Health Scores](#-—Ñ–∞–∑–∞-5-health-scores)
8. [–§–∞–∑–∞ 6: UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#-—Ñ–∞–∑–∞-6-ui-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
9. [–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã](#-–∫–ª—é—á–µ–≤—ã–µ-—Ñ–∞–π–ª—ã)
10. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
11. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#-–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)

---

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å **–∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –º–æ–¥—É–ª—å** `heys_predictive_insights_v1.js`, –∫–æ—Ç–æ—Ä—ã–π:

1. **–°–æ–±–∏—Ä–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ** –∫–æ—Ç–æ—Ä—ã–µ –º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∑–∞ 7-30 –¥–Ω–µ–π
2. **–ù–∞—Ö–æ–¥–∏—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏** –º–µ–∂–¥—É –º–µ—Ç—Ä–∏–∫–∞–º–∏ (—Å–æ–Ω‚Üî–≤–µ—Å, —Å—Ç—Ä–µ—Å—Å‚Üî–ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ)
3. **–í—ã—è–≤–ª—è–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã** –ø–æ–≤–µ–¥–µ–Ω–∏—è (weekend effect, —Ü–∏–∫–ª—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å—Ä—ã–≤–æ–≤)
4. **–î–µ–ª–∞–µ—Ç –ø—Ä–µ–¥–∏–∫—Ü–∏–∏** (–≤–µ—Å, —ç–Ω–µ—Ä–≥–∏—è, —Ä–∏—Å–∫ —Å—Ä—ã–≤–∞)
5. **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç Health Scores** (metabolic, recovery, consistency)
6. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–º–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã** –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–º —è–∑—ã–∫–µ

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (WOW): 7. **–î–µ–ª–∞–µ—Ç ‚Äú—É–º–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏‚Äù** (–∫–æ–ª—å—Ü–∞ –∑–¥–æ—Ä–æ–≤—å—è, weekly
wrap, what‚Äëif) 8. **–û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–∏—á–∏–Ω—ã** (explainability: ‚Äú–ø–æ—á–µ–º—É —Ç–∞–∫ –ø–æ—Å—á–∏—Ç–∞–ª–∏‚Äù)
–±–µ–∑ –æ—â—É—â–µ–Ω–∏—è –º–∞–≥–∏–∏

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ** –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `heys_advice_v1.js`:

- Advice = —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç ("—Å–µ–π—á–∞—Å –º–∞–ª–æ –±–µ–ª–∫–∞")
- Predictive Insights = –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ ("–∑–∞ –Ω–µ–¥–µ–ª—é —Ç—ã...")

---

## ‚ö†Ô∏è –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –±–ª–æ–∫–µ—Ä—ã (–ö–†–ò–¢–ò–ß–ù–û)

> –í–∞–∂–Ω–æ: —ç—Ç–æ pre‚Äëproduction. –í –§–∞–∑–µ 0 –º—ã –∑–∞—â–∏—â–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π:
> –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å auth‚Äë—Ä–µ–∂–∏–º–æ–≤ (Curator vs PIN),
> –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö.

### 0.1. –ê—É–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –í–°–ï —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã:

| –î–∞–Ω–Ω—ã–µ             | –ò—Å—Ç–æ—á–Ω–∏–∫ (–≤–∞–∂–Ω–æ: clientId namespace)                  | –°—Ç–∞—Ç—É—Å       | –ë–ª–æ–∫–µ—Ä?  |
| ------------------ | ----------------------------------------------------- | ------------ | -------- |
| –î–µ–Ω—å               | `U.lsGet('heys_dayv2_{date}')`                        | ‚úÖ           | ‚Äî        |
| –ü—Ä–æ—Ñ–∏–ª—å            | `U.lsGet('heys_profile')`                             | ‚úÖ           | ‚Äî        |
| –ù–æ—Ä–º—ã              | `U.lsGet('heys_norms')`                               | ‚úÖ           | ‚Äî        |
| –ü—Ä–æ–¥—É–∫—Ç—ã           | `HEYS.products.getAll()` / `U.lsGet('heys_products')` | ‚úÖ           | ‚Äî        |
| Supplements taken  | `U.lsGet('heys_supplements_taken')` (—É—Ç–æ—á–Ω–∏—Ç—å –∫–ª—é—á)   | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å | –í–æ–∑–º–æ–∂–Ω–æ |
| Cold exposure      | `day.coldExposure` (–ø–æ–ª–µ –≤–Ω—É—Ç—Ä–∏ day)                  | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å | –í–æ–∑–º–æ–∂–Ω–æ |
| Meal Quality Score | `getMealQualityScore(meal, ...)` (–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ)        | ‚úÖ           | ‚Äî        |
| Insulin Wave       | `HEYS.InsulinWave.calculate(...)` (–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ)       | ‚úÖ           | ‚Äî        |
| Cycle data         | `day.cycleDay` + `HEYS.Cycle.*`                       | ‚úÖ           | ‚Äî        |
| Measurements       | `day.measurements`                                    | ‚úÖ           | ‚Äî        |
| Caloric Debt       | –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ (—Å–º. docs)                                | ‚úÖ           | ‚Äî        |
| Refeed Day         | `day.isRefeedDay`, `day.refeedReason`                 | ‚úÖ           | ‚Äî        |

**–î–µ–π—Å—Ç–≤–∏–µ**: –¥–æ–±–∞–≤–∏—Ç—å ‚Äú–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º‚Äù (–≤ dev) –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ
–∫–ª—é—á–µ–π/–ø–æ–ª–µ–π —á–µ—Ä–µ–∑ `U.lsGet()` –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ (–±–µ–∑ –ø—Ä—è–º–æ–≥–æ
`console.*`, —Å–º. –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞; –º–∞–∫—Å–∏–º—É–º ‚Äî `HEYS.analytics.trackError()` + UI
toast).

### 0.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–∏—Å–∫**: –ê–Ω–∞–ª–∏–∑ 30 –¥–Ω–µ–π √ó (–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π: –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏—ë–º–æ–≤, –≤–æ–ª–Ω—ã,
–∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏) –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –∑–∞–º–µ—Ç–Ω—ã–º –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**–ü–µ—Ä—Ñ‚Äë–±—é–¥–∂–µ—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ acceptance criteria):**

- [ ] TTI –∫–∞—Ä—Ç–æ—á–∫–∏ ‚Äú–£–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞‚Äù < 50ms (UI –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –¥–∞–∂–µ –µ—Å–ª–∏
      ‚Äú–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é‚Ä¶‚Äù)
- [ ] –ü–æ–ª–Ω—ã–π —Ä–∞—Å—á—ë—Ç 14 –¥–Ω–µ–π < 80ms; 30 –¥–Ω–µ–π < 150ms (–≤ dev‚Äë–º–µ—Ç—Ä–∏–∫–µ)
- [ ] –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–æ–ª—å—à–µ 16ms –ø–æ–¥—Ä—è–¥ (–µ—Å–ª–∏ —Ç—è–∂–µ–ª–µ–µ ‚Äî
      –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å chunking/worker)

**–†–µ—à–µ–Ω–∏–µ**:

- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –∫–ª—é—á—É `{clientId}:{windowDays}:{lastDataHash}`
- [ ] Lazy calculation: —Å—á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ + –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
      –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è
- [ ] ‚ÄúChunked compute‚Äù (–±–∞—Ç—á–∏ –ø–æ 3-5 –¥–Ω–µ–π) —Å yield –≤ event loop
- [ ] Web Worker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –µ—Å–ª–∏ chunking –Ω–µ —Å–ø–∞—Å–∞–µ—Ç
- [ ] Debounce –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞) + –æ—Ç–º–µ–Ω–∞
      –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–∞—Å—á—ë—Ç–∞

### 0.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–¢—Ä–µ–±—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):**

- `U.lsGet / U.lsSet` (–∏–ª–∏ `HEYS.utils.lsGet/lsSet`) ‚Äî —Å—Ç—Ä–æ–≥–æ –¥–ª—è clientId
  namespace
- `HEYS.InsulinWave.calculate` ‚Äî –≤–æ–ª–Ω—ã –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `getMealQualityScore` ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏—ë–º–∞ (—ç–∫—Å–ø–æ—Ä—Ç/–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —É—Ç–æ—á–Ω–∏—Ç—å)
- `HEYS.Cycle` ‚Äî –µ—Å–ª–∏ `cycleDay` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ):**

- `HEYS.ratioZones.getDaySuccess` ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç—É—Å–∞ –¥–Ω—è (–æ–±—ã—á–Ω—ã–π/—Ä–µ—Ñ–∏–¥)
- `HEYS.Refeed.getDayMeta` ‚Äî —Ç—Ä–∞–∫—Ç–æ–≤–∫–∞ refeed –¥–Ω—è –¥–ª—è streak/tooltip
- `HEYS.Supplements` ‚Äî –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –∏–Ω—Å–∞–π—Ç—ã –ø–æ –¥–æ–±–∞–≤–∫–∞–º

### 0.4. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–µ—Ä—ã

| –ë–ª–æ–∫–µ—Ä                                         | Severity  | –ß—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è                                | –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –≤ –§–∞–∑–µ 0                                                             |
| ---------------------------------------------- | --------- | -------------------------------------------------- | -------------------------------------------------------------------------------- |
| –ö–ª—é—á/namespace –¥–ª—è supplements                 | üî¥ HIGH   | –ò–Ω—Å–∞–π—Ç—ã –ø–æ –¥–æ–±–∞–≤–∫–∞–º –±—É–¥—É—Ç ‚Äú–≤—Ä–∞—Ç—å‚Äù –∏–ª–∏ –ø–∞–¥–∞—Ç—å       | –£—Ç–æ—á–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É; –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é/–∞–¥–∞–ø—Ç–µ—Ä                    |
| `coldExposure` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –¥–µ–Ω—å           | üü° MEDIUM | –ù–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –≤–æ–ª–Ω–µ/–∏–Ω—Å–∞–π—Ç–∞—Ö; –≤–æ–∑–º–æ–∂–Ω—ã null-access | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–π —á–µ–∫‚Äë–∏–Ω; –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É `day.coldExposure`                |
| `getMealQualityScore` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ     | üî¥ HIGH   | –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏—ë–º–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç                | –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç/–æ–±—ë—Ä—Ç–∫—É –≤ `HEYS`                                     |
| PIN auth (RPC-only) –Ω–µ –∏–º–µ–µ—Ç Supabase user     | üü° MEDIUM | –ï—Å–ª–∏ –º–æ–¥—É–ª—å –ø–æ–ª–µ–∑–µ—Ç –≤ –æ–±–ª–∞–∫–æ ‚Äî —Å–ª–æ–º–∞–µ—Ç—Å—è           | –í –§–∞–∑–µ 0 –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Supabase: –∞–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ –∏–∑ local storage/cache |
| –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ / –º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö               | üü¢ LOW    | –ü—É—Å—Ç–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞, –ø–ª–æ—Ö–æ–π UX                         | –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º—ã 0-2, 3-6, 7-13, 14+ –¥–Ω–µ–π                                   |
| –ü—Ä—è–º–æ–π `localStorage.*` (–±–µ–∑ clientId)         | üî¥ HIGH   | –ê–Ω–∞–ª–∏–∑ —á—É–∂–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ / —É—Ç–µ—á–∫–∏                     | –°—Ç—Ä–æ–≥–æ `U.lsGet` / `HEYS.store.get`                                              |
| ‚Äú–°—ã—Ä—ã–µ‚Äù –ª–æ–≥–∏ –≤ console                         | üü° MEDIUM | –ó–∞—Å–æ—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏, –ø–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞                | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HEYS.analytics.trackError()` –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ UI –ø–æ–¥—Å–∫–∞–∑–∫–∏            |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ r2/–∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –ø–æ–¥–∞—ë—Ç—Å—è –∫–∞–∫ ‚Äú–∏—Å—Ç–∏–Ω–∞‚Äù | üü° MEDIUM | –ü–æ—Ç–µ—Ä—è –¥–æ–≤–µ—Ä–∏—è, —Ç–æ–∫—Å–∏—á–Ω—ã–π UX                       | –í–≤–µ—Å—Ç–∏ ‚Äúconfidence‚Äù –∏ disclaimers: ¬´–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, –Ω–µ –¥–∏–∞–≥–Ω–æ–∑¬ª                      |

### 0.5. Anti-overkill —Ä–∞–º–∫–∏ (—á—Ç–æ–±—ã –Ω–µ —É–π—Ç–∏ –≤ ML —Ä–∞–¥–∏ ML)

**–ù–µ –¥–µ–ª–∞–µ–º –≤ v1 (–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ):**

- —Ç—è–∂—ë–ª—ã–µ –º–æ–¥–µ–ª–∏/–Ω–µ–π—Ä–æ—Å–µ—Ç–∏
- –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∏–∞–≥–Ω–æ–∑—ã
- —Å–ª–æ–∂–Ω—ã–π causal inference (—Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏)

**–î–µ–ª–∞–µ–º –≤ v1:**

- –ø—Ä–æ—Å—Ç—ã–µ, –æ–±—ä—è—Å–Ω–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏ + –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è confidence
- —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø—Ä–æ–ø—É—Å–∫–∞–º –¥–∞–Ω–Ω—ã—Ö
- –±—ã—Å—Ç—Ä—ã–π UX (–ª–µ–Ω–∏–≤—ã–π —Ä–∞—Å—á—ë—Ç)

---

## üìä –§–∞–∑–∞ 1: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

### 1.1. –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –∂—ë—Å—Ç–∫–∏—Ö —Ç–∏–ø–æ–≤, –Ω–æ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏)

**–¶–µ–ª—å**: –ø–æ–ª—É—á–∏—Ç—å –º–∞—Å—Å–∏–≤ `days[]` (7‚Äì30 –¥–Ω–µ–π) –∏ ‚Äúenriched day‚Äù (—Å—ã—Ä–æ–µ +
–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ), –ø—Ä–∏ —ç—Ç–æ–º:

- –ø—Ä–æ–ø—É—Å–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã
- –ø–æ–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è (—á–∏—Å–ª–∞ ‚Üí number, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ ‚Üí null)
- –≤—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–µ–¥–∏–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–¥—ã** –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º.
  `docs/DATA_MODEL_REFERENCE.md`)

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è enriched day**:

- date, isWeekend, dayOfWeek
- sleepHours, sleepQuality
- weightMorning (—É—á–∏—Ç—ã–≤–∞—Ç—å —Ü–∏–∫–ª/–∑–∞–¥–µ—Ä–∂–∫—É –≤–æ–¥—ã ‚Äî —Å–º. docs)
- steps, householdMin
- waterMl + waterPct (–µ—Å–ª–∏ –µ—Å—Ç—å breakdown/—Ü–µ–ª—å)
- moodAvg, stressAvg, wellbeingAvg, dayScore
- kcal, target(optimum), ratio, macros
  (carbs/simple/complex/prot/fat/good/bad/trans/fiber), avgGI, avgHarm
- mealTimes + mealGaps
- avgMealQuality
- insulinWave (remaining/endTime/hours + activity context –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- flags: hasTraining, trainings summary, isRefeedDay/refeedReason, caloricDebt
  summary
- cycleDay (nullable)
- supplements summary (nullable)
- coldExposure summary (nullable)

### 1.2. –§—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ API (—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å):**

- `collectData({ windowDays, includeToday, minDataDays })` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
  `{ ok, reason?, data? }`
- reason = `not_enough_days | no_profile | no_products | unknown`
- data —Ö—Ä–∞–Ω–∏—Ç `windowDaysUsed`, `missingFieldsReport`, `dataFreshness`
  (timestamp)

---

## üî¨ –§–∞–∑–∞ 2: –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### 2.1. –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ø–∞—Ä–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É:

| Metric 1       | Metric 2      | –û–∂–∏–¥–∞–µ–º–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è | –ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ           |
| -------------- | ------------- | -------------------- | ----------------------------- |
| sleepHours     | ratio         | Negative             | –ù–µ–¥–æ—Å—ã–ø ‚Üí –ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ          |
| sleepHours     | weightMorning | Negative             | –ù–µ–¥–æ—Å—ã–ø ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ –≤–æ–¥—ã       |
| stressAvg      | ratio         | Positive             | –°—Ç—Ä–µ—Å—Å ‚Üí –∑–∞–µ–¥–∞–Ω–∏–µ             |
| steps          | moodAvg       | Positive             | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Üí –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ       |
| waterPct       | weightMorning | Variable             | –ì–∏–¥—Ä–∞—Ç–∞—Ü–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–µ—Å      |
| trainingKcal   | sleepQuality  | Positive             | –°–ø–æ—Ä—Ç ‚Üí –ª—É—á—à–∏–π —Å–æ–Ω            |
| avgMealQuality | moodAvg       | Positive             | –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –µ–¥–∞ ‚Üí –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ |
| fiber          | stressAvg     | Negative             | –ö–ª–µ—Ç—á–∞—Ç–∫–∞ ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å      |

### 2.2. –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π (–æ–±—ä—è—Å–Ω–∏–º—ã–π)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Pearson (—á–∏—Å–ª–æ‚Üî—á–∏—Å–ª–æ)
- —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø—Ä–æ–ø—É—Å–∫–∞–º (minPairs = 5)
- –≤—ã–¥–∞—á–∞: `{ r, n, strength, direction, confidence }`

**–í–∞–∂–Ω–æ –¥–ª—è UX:**

- –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `confidence` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∞—è
- –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ–º –∫–∞–∫ –¥–∏–∞–≥–Ω–æ–∑: ‚Äú–Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Å–≤—è–∑—å‚Äù

### 2.3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏:**

- –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –º–µ—Ç—Ä–∏–∫ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤ (RU)
- —É—Ä–æ–≤–Ω–∏ —Å–∏–ª—ã: weak/moderate/strong
- –∫–∞–∂–¥—ã–π –∏–Ω—Å–∞–π—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `why` (–ø–æ—è—Å–Ω–µ–Ω–∏–µ), `what_to_try` (–º–∏–∫—Ä–æ‚Äë—à–∞–≥),
  `evidence` (n –¥–Ω–µ–π, –ø—Ä–∏–º–µ—Ä 2-3 –¥–∞—Ç)

---

## üîÑ –§–∞–∑–∞ 3: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è

### 3.1. –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

| ID                     | –ù–∞–∑–≤–∞–Ω–∏–µ               | –£—Å–ª–æ–≤–∏–µ                               | Confidence      |
| ---------------------- | ---------------------- | ------------------------------------- | --------------- |
| `weekend_overeating`   | –í—ã—Ö–æ–¥–Ω–æ–π –ø–µ—Ä–µ–µ–¥        | –°–±-–í—Å ratio > –±—É–¥–Ω–∏ ratio √ó 1.15      | ‚â•3 –≤—ã—Ö–æ–¥–Ω—ã—Ö     |
| `monday_recovery`      | –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏—á–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç | –ü–Ω ratio < 0.85 –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–Ω—ã—Ö        | ‚â•2 –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ |
| `late_dinner`          | –ü–æ–∑–¥–Ω–∏–µ —É–∂–∏–Ω—ã          | –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏—ë–º –ø–æ—Å–ª–µ 21:00 >50% –¥–Ω–µ–π | ‚â•5 –¥–Ω–µ–π         |
| `breakfast_skipper`    | –ü—Ä–æ–ø—É—Å–∫ –∑–∞–≤—Ç—Ä–∞–∫–∞       | –ü–µ—Ä–≤—ã–π –ø—Ä–∏—ë–º –ø–æ—Å–ª–µ 11:00 >50% –¥–Ω–µ–π    | ‚â•5 –¥–Ω–µ–π         |
| `snacking_pattern`     | –ß–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–∫—É—Å—ã        | >5 –ø—Ä–∏—ë–º–æ–≤/–¥–µ–Ω—å >50% –¥–Ω–µ–π             | ‚â•5 –¥–Ω–µ–π         |
| `stress_eating`        | –°—Ç—Ä–µ—Å—Å–æ–≤–æ–µ –∑–∞–µ–¥–∞–Ω–∏–µ    | –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è stress‚Üîratio > 0.4        | ‚â•7 –¥–Ω–µ–π         |
| `sleep_deprivation`    | –•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π –Ω–µ–¥–æ—Å—ã–ø    | sleepHours < 6.5 >50% –¥–Ω–µ–π            | ‚â•7 –¥–Ω–µ–π         |
| `yo_yo_eating`         | –ô–æ-–π–æ –ø–∏—Ç–∞–Ω–∏–µ          | ratio stdDev > 0.25                   | ‚â•7 –¥–Ω–µ–π         |
| `training_consistency` | –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏  | ‚â•3 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏/–Ω–µ–¥–µ–ª—è                  | ‚â•2 –Ω–µ–¥–µ–ª–∏       |
| `supplement_adherence` | –ü—Ä–∏—ë–º –¥–æ–±–∞–≤–æ–∫          | –î–æ–±–∞–≤–∫–∏ >80% –¥–Ω–µ–π                     | ‚â•7 –¥–Ω–µ–π         |
| `hydration_neglect`    | –ó–∞–±—ã–≤–∞–µ—à—å –≤–æ–¥—É         | waterPct < 0.6 >50% –¥–Ω–µ–π              | ‚â•5 –¥–Ω–µ–π         |
| `cycle_awareness`      | –¶–∏–∫–ª ‚Üí –µ–¥–∞             | –ö–∞–ª–æ—Ä–∏–∏ –≤—ã—à–µ –≤ –ª—é—Ç–µ–∏–Ω–æ–≤—É—é —Ñ–∞–∑—É        | ‚â•1 —Ü–∏–∫–ª         |

### 3.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:
  `{ id, title, icon, severity, confidence, evidence, message, recommendation, actions[] }`
- `actions[]` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞ –±—É–¥—É—â–µ–µ): ‚Äú–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å
  –ø—Ä–æ–≥—É–ª–∫—É‚Äù, ‚Äú–¥–æ–±–∞–≤–∏—Ç—å –≤–æ–¥—É‚Äù, ‚Äú—Å–¥–≤–∏–Ω—É—Ç—å —É–∂–∏–Ω‚Äù

---

## üîÆ –§–∞–∑–∞ 4: –ü—Ä–µ–¥–∏–∫—Ü–∏–∏ (ML-lite)

### 4.1. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Å–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- –ø—Ä–æ–≥–Ω–æ–∑ 7 –¥–Ω–µ–π (–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ 14) –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–æ–≤–µ—Ä–∏—è (confidence) –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö (n, —Ä–∞–∑–±—Ä–æ—Å,
  –Ω–∞–ª–∏—á–∏–µ cycle retention)
- –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω ‚Äú–¥–∏—Å–∫–ª–µ–π–º–µ—Ä –≤–µ—Å–∞‚Äù: —É—á–∏—Ç—ã–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –≤–æ–¥—ã (–æ—Å–æ–±–µ–Ω–Ω–æ cycle days
  1‚Äì7)

### 4.2. –†–∏—Å–∫ —Å—Ä—ã–≤–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- —Ä–∏—Å–∫ = 0..1
- –≤—ã–¥–∞–≤–∞—Ç—å top 3 —Ñ–∞–∫—Ç–æ—Äa (explainability)
- –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ goal mode (bulk/deficit/maintenance)
- —É—á–∏—Ç—ã–≤–∞—Ç—å caloric debt + refeed day (–Ω–∞–ø—Ä–∏–º–µ—Ä, refeed —Å–Ω–∏–∂–∞–µ—Ç ‚Äú–≤–∏–Ω—É‚Äù, –Ω–æ –Ω–µ
  –æ—Ç–º–µ–Ω—è–µ—Ç ‚Äú—É—á—ë—Ç‚Äù)

### 4.3. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- —à–∫–∞–ª–∞ 1..10
- –æ–±—ä—è—Å–Ω—è–µ–º–æ—Å—Ç—å: 3 —Ñ–∞–∫—Ç–æ—Ä–∞ (—Å–æ–Ω/—Å—Ç—Ä–µ—Å—Å/–ø–∏—Ç–∞–Ω–∏–µ) + –æ–¥–∏–Ω —Å–æ–≤–µ—Ç ‚Äú—á—Ç–æ —É–ª—É—á—à–∏—Ç
  –∑–∞–≤—Ç—Ä–∞‚Äù

---

## üèÜ –§–∞–∑–∞ 5: Health Scores

### 5.1. Scores (0‚Äì100) ‚Äî —Ü–µ–ª—å: ‚Äú–∫–∞–∫ —É Apple Health, –Ω–æ –ø—Ä–æ –ø—Ä–∏–≤—ã—á–∫–∏‚Äù

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞–∂–¥–æ–º—É score:**

- –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç)
- —Ñ–æ—Ä–º—É–ª–∞/—Ñ–∞–∫—Ç–æ—Ä—ã (—Å–ª–æ–≤–∞–º–∏, –±–µ–∑ –∫–æ–¥–∞)
- ‚Äú–∫–∞–∫ —É–ª—É—á—à–∏—Ç—å –Ω–∞ +5‚Äù (1‚Äë2 –º–∏–∫—Ä–æ‚Äë—à–∞–≥–∞)

–°–ø–∏—Å–æ–∫ scores v1:

- Metabolic (–ø–∏—Ç–∞–Ω–∏–µ + —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å + –∫–∞—á–µ—Å—Ç–≤–æ)
- Recovery (—Å–æ–Ω + —Å—Ç—Ä–µ—Å—Å + –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- Consistency (—Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è)

**WOW‚Äë—É–ª—É—á—à–µ–Ω–∏–µ:** —Ö—Ä–∞–Ω–∏—Ç—å daily snapshot scores (30 –¥–Ω–µ–π) –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ‚Äú–¥–µ–ª—å—Ç–∞
–∑–∞ –Ω–µ–¥–µ–ª—é‚Äù.

### 5.2. Recovery Score

–£—á–∏—Ç—ã–≤–∞—Ç—å:

- sleepHours + sleepQuality
- —Å—Ç—Ä–µ—Å—Å
- —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (intensity/NDTE ‚Äî –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ–∑–¥–Ω–∏–µ –ø—Ä–∏—ë–º—ã –ø–∏—â–∏ –∫–∞–∫ —Ñ–∞–∫—Ç–æ—Ä —É—Ö—É–¥—à–µ–Ω–∏—è —Å–Ω–∞

### 5.3. Consistency Score

–£—á–∏—Ç—ã–≤–∞—Ç—å:

- –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–µ–¥–∞/—Å–æ–Ω/–≤–µ—Å/–≤–æ–¥–∞)
- —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å (–Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ—Å—Ç—å)
- streak‚Äë–ª–æ–≥–∏–∫–∞ —Å —É—á—ë—Ç–æ–º refeed

---

## üé® –§–∞–∑–∞ 6: UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 6.1. UI: –∫–∞—Ä—Ç–æ—á–∫–∞ ‚ÄúüîÆ –£–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞‚Äù

**UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –≤ —Ñ–æ–Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç skeleton/‚Äú–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é‚Ä¶‚Äù
- —É–º–µ–µ—Ç —Ä–µ–∂–∏–º ‚Äú–º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö‚Äù (—á–µ—Å—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç + —á—Ç–æ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ–±—ã –Ω–∞–∫–æ–ø–∏—Ç—å –¥–∞–Ω–Ω—ã–µ)
- —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç top‚Äëinsights + 1‚Äë2 –ø—Ä–µ–¥–∏–∫—Ü–∏–∏ + explainability

**WOW —ç–ª–µ–º–µ–Ω—Ç—ã (–≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏):**

1. **Health Rings** (3 –º–∏–Ω–∏‚Äë–∫–æ–ª—å—Ü–∞ 0‚Äì100 —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏)
2. **Weekly Wrap** (–º–∏–Ω–∏‚Äë—Ä–µ–∑—é–º–µ –Ω–µ–¥–µ–ª–∏ –≤ 3 —Ñ–∞–∫—Ç–∞: ‚Äú–ª—É—á—à–∏–π –¥–µ–Ω—å‚Äù, ‚Äú–≥–ª–∞–≤–Ω—ã–π
   —Ç—Ä–∏–≥–≥–µ—Ä‚Äù, ‚Äú–º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–±–µ–¥–∞‚Äù)
3. **What‚Äëif** (—Å–∏–º—É–ª—è—Ü–∏—è: ‚Äú–µ—Å–ª–∏ –¥–µ—Ä–∂–∞—Ç—å ratio 0.9‚Äì1.0 7 –¥–Ω–µ–π ‚Üí —Ç—Ä–µ–Ω–¥ –≤–µ—Å–∞ ‚Ä¶‚Äù)
4. **Confidence chip** (low/med/high) —Ä—è–¥–æ–º —Å –∫–∞–∂–¥–æ–π –ø—Ä–µ–¥–∏–∫—Ü–∏–µ–π

### 6.2. –°—Ç–∏–ª–∏

**–ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–∏–ª–µ–π:** Tailwind-first. –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî BEM –∫–ª–∞—Å—Å—ã –≤
`styles/heys-components.css`.

---

## üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                                      | –î–µ–π—Å—Ç–≤–∏–µ  | –û–ø–∏—Å–∞–Ω–∏–µ             |
| ----------------------------------------- | --------- | -------------------- |
| `apps/web/heys_predictive_insights_v1.js` | üÜï CREATE | –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å      |
| `apps/web/heys_day_v12.js`                | üìù EDIT   | –î–æ–±–∞–≤–∏—Ç—å UI –∫–∞—Ä—Ç–æ—á–∫—É |
| `apps/web/index.html`                     | üìù EDIT   | –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç    |
| `apps/web/styles/heys-components.css`     | üìù EDIT   | –°—Ç–∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏       |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–±–µ–∑ ‚Äú—Ç–µ—Å—Ç-–∫–æ–¥–∞‚Äù –≤ –ø—Ä–æ–¥)

**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ–∫‚Äë–ª–∏—Å—Ç —Ä—É—á–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**

- –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –∏–∑ clientId namespace
- —Ä–∞—Å—á—ë—Ç –Ω–µ –ø–∞–¥–∞–µ—Ç –Ω–∞ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—è—Ö
- confidence –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –º–∞–ª–æ–º n
- UI –Ω–µ –ª–∞–≥–∞–µ—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

### E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (0 –¥–Ω–µ–π)** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö"
2. **5 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã
3. **14+ –¥–Ω–µ–π** ‚Äî –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è–º–∏
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ü–∏–∫–ª–æ–º** ‚Äî —É—á–∏—Ç—ã–≤–∞—Ç—å —Ñ–∞–∑—ã
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –¥–µ—Ñ–∏—Ü–∏—Ç–µ** ‚Äî –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å–∞–π—Ç—ã

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞                | –¶–µ–ª—å      | –ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å           |
| ---------------------- | --------- | ---------------------- |
| –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤–µ—Å–∞ | ¬±0.5 –∫–≥   | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é |
| CTR –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏    | >30%      | –ö–ª–∏–∫–∏ –Ω–∞ "action"      |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç–æ—á–∫–∏      | 3+/–Ω–µ–¥–µ–ª—é | localStorage counter   |
| Retention +30–¥         | +15%      | –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑       |

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏ ‚Äú–µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —à–∏—Ä–µ‚Äù (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å + –ø–æ–ª—å–∑–∞)

1. **‚Äú–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ä—ã—á–∞–≥ –Ω–µ–¥–µ–ª–∏‚Äù**: –≤—ã–±—Ä–∞—Ç—å 1 —Ñ–∞–∫—Ç–æ—Ä —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º
   (—Å–æ–Ω/–≤–æ–¥–∞/–ø–æ–∑–¥–Ω–∏–π —É–∂–∏–Ω) –∏ –¥–∞—Ç—å –º–∏–∫—Ä–æ‚Äë–ø–ª–∞–Ω –Ω–∞ 3 –¥–Ω—è.
2. **‚Äú–ú–æ–º–µ–Ω—Ç –∏—Å—Ç–∏–Ω—ã‚Äù**: –¥–µ—Ç–µ–∫—Ç –æ–∫–Ω–∞, –∫–æ–≥–¥–∞ —á–∞—â–µ –≤—Å–µ–≥–æ –ª–æ–º–∞–µ—Ç—Å—è –ø–ª–∞–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä
   16‚Äì18) –∏ –ø–æ–∫–∞–∑–∞—Ç—å ‚Äú–ø–æ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫—É‚Äù (—Å–Ω—ç–∫/–ø—Ä–æ–≥—É–ª–∫–∞).
3. **–ò–Ω—Å—É–ª–∏–Ω–æ–≤—ã–µ –≤–æ–ª–Ω—ã –∫–∞–∫ timeline**: ‚Äú—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –≤ –ª–∏–ø–æ–ª–∏–∑–µ‚Äù –∑–∞ –¥–µ–Ω—å –∏ –∑–∞
   –Ω–µ–¥–µ–ª—é ‚Äî —ç—Ç–æ –æ—á–µ–Ω—å ‚Äú—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ‚Äù –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ –¥–ª—è HEYS.
4. **–°–∫—Ä—ã—Ç—ã–µ –ø–æ–±–µ–¥—ã**: –¥–∞–∂–µ –Ω–∞ –ø–ª–æ—Ö–æ–π –Ω–µ–¥–µ–ª–µ –Ω–∞–π—Ç–∏ 1 –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–¥
   (–≤–æ–¥–∞/–∫–ª–µ—Ç—á–∞—Ç–∫–∞/—à–∞–≥–∏) ‚Äî –ø–æ–≤—ã—à–∞–µ—Ç retention.
5. **–ö—É—Ä–∞—Ç–æ—Ä—Å–∫–∏–π —Ä–µ–∂–∏–º**: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π ‚Äúbrief‚Äù –Ω–∞ 30 –¥–Ω–µ–π –¥–ª—è –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∞: 3
   –ø—Ä–æ–±–ª–µ–º—ã, 3 wins, 3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

---

## üöÄ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –§–∞–∑–∞ 0 –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (–≤—Å–µ –±–ª–æ–∫–µ—Ä—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã)
- [ ] –ú–æ–¥—É–ª—å —Å–æ–∑–¥–∞–Ω –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ `window.HEYS`
- [ ] UI –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ DayTab
- [ ] –°—Ç–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Performance <100ms –Ω–∞ 30 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö
- [ ] Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] `pnpm type-check && pnpm build` –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## Changelog

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞       | –ò–∑–º–µ–Ω–µ–Ω–∏—è                                                                                                                                 |
| ------ | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| 1.1.0  | 2025-12-14 | –£—Å–∏–ª–µ–Ω–∞ –§–∞–∑–∞ 0 (–±–ª–æ–∫–µ—Ä—ã/–ø–µ—Ä—Ñ/anti-overkill), –¥–æ–±–∞–≤–ª–µ–Ω—ã WOW-—Ñ–∏—á–∏, —É–±—Ä–∞–Ω—ã –∫–æ–¥-–ø—Ä–∏–º–µ—Ä—ã, –ø—Ä–∏–≤—è–∑–∫–∞ –∫ clientId namespace –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–¥—É–ª—è–º |
