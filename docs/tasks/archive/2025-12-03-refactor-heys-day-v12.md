# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `apps/web/heys_day_v12.js`

**–î–∞—Ç–∞**: 2025-12-03  
**–§–∞–π–ª**: 10,069 —Å—Ç—Ä–æ–∫ (~400KB)  
**–¶–µ–ª—å**: –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞ DayTab –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤.  
**–í—Ä–µ–º—è**: ~90 –º–∏–Ω (30 –º–∏–Ω ProductRow + 40 –º–∏–Ω MealCard + 20 –º–∏–Ω AdviceCard)

---

## Phase 0 ‚Äî –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º)

### –î–æ –Ω–∞—á–∞–ª–∞:
- [x] `git status` ‚Äî –µ—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —á—É–∂–∏–µ: `apps/web/heys_app_v12.js`, `apps/web/heys_storage_supabase_v1.js`)
- [x] –£—á–∏—Ç—ã–≤–∞—Ç—å —á—É–∂–∏–µ –¥–∏—Ñ—Ñ—ã: `apps/web/heys_app_v12.js`, `apps/web/heys_storage_supabase_v1.js` –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å
- [x] –ë—ç–∫–∞–ø: `cp apps/web/heys_day_v12.js apps/web/heys_day_v12.backup2.js`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª ‚Äî –∫–æ–ø–∏—è –∏–∑ `backup2.js` (–Ω–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ —Å–ª–æ–º–∞–Ω–Ω–æ–≥–æ refactor-—Å—Ç–µ–π—Ç–∞)
- [ ] –û—Ç–∫—Ä—ã—Ç—å localhost:3001 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ–∫—É—â–µ–≥–æ UI (–¥–µ–Ω—å —Å 2-3 –ø—Ä–∏—ë–º–∞–º–∏ –ø–∏—â–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å baseline: –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç ‚Üí –∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞–º–º—ã ‚Üí —É–¥–∞–ª–∏—Ç—å
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≥–ª–æ–±–∞–ª–æ–≤ –¥–æ —Ñ–∞–π–ª–∞: `HEYS.dayUtils`, `HEYS.utils.lsGet/lsSet`, `HEYS.models.computeDerivedProduct`, `HEYS.advice.useAdviceEngine`
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É `HEYS.SwipeableRow`/`heys_swipeable.js` (–º–æ–±. —É–¥–∞–ª–µ–Ω–∏–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤) ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å graceful fallback –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º UMD-—Ñ–æ—Ä–º–∞—Ç (–Ω–∏–∫–∞–∫–∏—Ö import/export), –ø–æ—Ä—è–¥–æ–∫ `<script>` –Ω–µ –º–µ–Ω—è–µ–º
- [x] `copilot-instructions.md` –≤ —Ä–µ–ø–æ –Ω–µ—Ç ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –ø–æ LS/console/namespace –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –≤—Ä—É—á–Ω—É—é (–Ω–µ –ø–∏—Å–∞—Ç—å –≤ render, –Ω–µ –º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç—ã/DOM)

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `pRow` –Ω–∞ —Å—Ç—Ä–æ–∫–µ ~2740 (–º–æ–∂–µ—Ç —Å–¥–≤–∏–Ω—É—Ç—å—Å—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `MealAddProduct` –Ω–∞ —Å—Ç—Ä–æ–∫–µ ~81 (–æ–±—Ä–∞–∑–µ—Ü memo)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–∑–æ–≤–∞: `(meal.items||[]).map(pRow)` ‚Üí –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞ JSX
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `sortedMealsForDisplay` –Ω–µ –º—É—Ç–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ø–∏—é) –∏ `mi` —á–µ—Ä–µ–∑ `findIndex` –Ω–µ –¥–∞—ë—Ç `-1` (–∏–Ω–∞—á–µ —Å–∫–∏–ø–∞—Ç—å/–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –Ω–µ —É–ø–∞—Å—Ç—å)

### –ë–ª–æ–∫–µ—Ä—ã:
1. **`pRow` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** ‚Äî `map(pRow)` ‚Üí –Ω—É–∂–Ω–æ `map(it => <ProductRow item={it} />)`
2. **`mi` ‚Äî closure –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** ‚Äî –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ prop `mealIndex={mi}`
3. **`newItemIds` ‚Äî Set** ‚Äî memo —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ —Å—Å—ã–ª–∫–µ, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `isNew={newItemIds.has(it.id)}`
4. **–•–µ–Ω–¥–ª–µ—Ä—ã –Ω–∞ –∑–∞–º—ã–∫–∞–Ω–∏–∏ `day`** ‚Äî `setGrams/removeItem` —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ set ‚Üí –¥–æ useCallback –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ `setDay(prev => ...)`
5. **–ì–ª–æ–±–∞–ª `computeDerivedProduct`** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ MealCard, –Ω–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω; –Ω–∞–¥–æ –±—Ä–∞—Ç—å –∏–∑ `HEYS.models` –∏–ª–∏ –ø—Ä–æ–∫–∏–Ω—É—Ç—å –ø—Ä–æ–ø–æ–º
6. **–û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ö–µ–Ω–¥–ª–µ—Ä—ã –Ω–∞ –∑–∞–º—ã–∫–∞–Ω–∏–∏ `day`** ‚Äî `addMeal`, `addProductToMeal`, `updateMealTime`, `changeMealType`, –∏–Ω–ø—É—Ç—ã mood/wellbeing/stress, –≤–æ–¥–∞/household/snacks –∏—Å–ø–æ–ª—å–∑—É—é—Ç `setDay({...day,...})`; –ø–µ—Ä–µ–¥ –≤—ã–Ω–µ—Å–µ–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π `setDay(prev => ...)`
7. **–ú–æ–±. —Å–≤–∞–π–ø—ã —Å–æ–≤–µ—Ç–æ–≤** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `adviceSwipeState` –∏ `adviceSwipeStart` –Ω–µ –ø–æ–ª—É—á–∞—é—Ç `undefined` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ touch (–¥–æ–±–∞–≤–∏—Ç—å –≥–∞—Ä–¥), –∏–Ω–∞—á–µ –ø–∞–¥–µ–Ω–∏–µ –ø—Ä–∏ desktop –∫–ª–∏–∫–∞—Ö
8. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥–ª–æ–±–∞–ª—ã** ‚Äî `useSmartPrefetch`, `HEYS.game.addXP`, `HEYS.SwipeableRow`: –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ–±—ã memo-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ä—É—à–∏–ª–∏—Å—å –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–æ–¥—É–ª—è
9. **findIndex guard** ‚Äî –ø—Ä–∏ –ø–æ–∏—Å–∫–µ `mi` —á–µ—Ä–µ–∑ `findIndex` –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∫–∏–ø–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä, –µ—Å–ª–∏ –≤–µ—Ä–Ω—É–ª `-1`, —á—Ç–æ–±—ã –Ω–µ —É–ø–∞—Å—Ç—å –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Å—Å–∏–≤–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ (–∞—É–¥–∏—Ç)

| –°–µ–∫—Ü–∏—è | –°—Ç—Ä–æ–∫–∏ | –†–∞–∑–º–µ—Ä | –°—Ç–∞—Ç—É—Å |
|--------|--------|--------|--------|
| –£—Ç–∏–ª–∏—Ç—ã/fallbacks | 1-80 | 80 | ‚úÖ –û–ö |
| `MealAddProduct` | 81-157 | 77 | ‚úÖ –£–∂–µ memo |
| **`HEYS.DayTab`** | 158-10,067 | 9,900 | üî¥ –ú–æ–Ω–æ–ª–∏—Ç |

### –í–Ω—É—Ç—Ä–∏ DayTab:
| –ë–ª–æ–∫ | –°—Ç—Ä–æ–∫–∏ | –†–∞–∑–º–µ—Ä | –í—ã–Ω–µ—Å—Ç–∏? |
|------|--------|--------|----------|
| State/hooks | 158-700 | 540 | ‚ùå |
| Picker-–º–æ–¥–∞–ª–∫–∏ | 700-1,800 | 1,100 | ‚ö†Ô∏è –ü–æ–∑–∂–µ |
| calendarBlock | 2,242-2,300 | 60 | ‚ö†Ô∏è |
| mainBlock | 2,300-2,508 | 200 | ‚ö†Ô∏è |
| sideBlock | 2,508-2,740 | 230 | ‚ö†Ô∏è |
| **pRow** | 2,740-2,790 | 50 | ‚úÖ **–®–∞–≥ 1** |
| mTotals | 2,790-2,820 | 30 | ‚úÖ |
| **MealCard** | 2,820-3,160 | 340 | ‚úÖ **–®–∞–≥ 2** |
| Sparkline/graphs | 3,300-6,500 | 3,200 | ‚ùå –°–ª–æ–∂–Ω–æ |
| **renderAdviceCard** | 8,332-8,550 | 220 | ‚úÖ **–®–∞–≥ 3** |

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–ù–ï –¢–†–û–ì–ê–¢–¨)

- **UMD —Ñ–æ—Ä–º–∞—Ç** ‚Äî –±–µ–∑ import/export, –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- **DOM –∫–ª–∞—Å—Å—ã/id** ‚Äî –Ω–µ –º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞/—Å—Ç–∏–ª–∏)
- **localStorage** ‚Äî –Ω–µ –ø–∏—Å–∞—Ç—å –≤ render, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É
- **–¢–µ–∫—Å—Ç—ã/—ç–º–æ–¥–∑–∏** ‚Äî –Ω–µ –º–µ–Ω—è—Ç—å –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- **debug/twemoji** ‚Äî –Ω–µ –æ—Ç–∫–ª—é—á–∞—Ç—å

---

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: `ProductRow` (—Å—Ç—Ä–æ–∫–∏ 2740-2790)

**–ß—Ç–æ**: –§—É–Ω–∫—Ü–∏—è `pRow(it)` ‚Äî —Ä–µ–Ω–¥–µ—Ä —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ.

**–¢–µ–∫—É—â–∏–π –≤—ã–∑–æ–≤** (—Å—Ç—Ä–æ–∫–∞ ~2906):
```javascript
(meal.items||[]).map(pRow)
```

**–ü—Ä–æ–±–ª–µ–º–∞**: `pRow` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç closure-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `mi`, `newItemIds` ‚Äî –æ–Ω–∏ –Ω–µ –≤–∏–¥–Ω—ã —Å–Ω–∞—Ä—É–∂–∏.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ props):
```javascript
// Props –¥–ª—è ProductRow:
item,           // it ‚Äî —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–¥—É–∫—Ç
mealIndex,      // mi ‚Äî –∏–Ω–¥–µ–∫—Å –ø—Ä–∏—ë–º–∞ (closure ‚Üí prop)
isNew,          // newItemIds.has(it.id) ‚Üí boolean (Set –ª–æ–º–∞–µ—Ç memo)
pIndex,         // –∏–Ω–¥–µ–∫—Å –ø—Ä–æ–¥—É–∫—Ç–æ–≤
setGrams,       // (mealIndex, itemId, grams) => void
removeItem,     // (mealIndex, itemId) => void
// –£—Ç–∏–ª–∏—Ç—ã (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ, –Ω–µ –Ω—É–∂–Ω—ã –∫–∞–∫ props):
// getProductFromItem, per100, scale, fmtVal
```

**–î–µ–π—Å—Ç–≤–∏—è**:

1. **–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ü–ï–†–ï–î DayTab** (~—Å—Ç—Ä–æ–∫–∞ 158, –ø–æ—Å–ª–µ MealAddProduct):
```javascript
const ProductRow = React.memo(function ProductRow({ 
  item, mealIndex, isNew, pIndex, setGrams, removeItem 
}) {
  // –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–µ–ª–æ pRow —Å—é–¥–∞
  // –ó–∞–º–µ–Ω–∏—Ç—å mi ‚Üí mealIndex
  // –ó–∞–º–µ–Ω–∏—Ç—å newItemIds.has(it.id) ‚Üí isNew
  // –ó–∞–º–µ–Ω–∏—Ç—å it ‚Üí item
});
```

2. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤** (—Å—Ç—Ä–æ–∫–∞ ~2906):
```javascript
// –ë—ã–ª–æ:
(meal.items||[]).map(pRow)

// –°—Ç–∞–ª–æ:
(meal.items||[]).map(it => (
  React.createElement(ProductRow, {
    key: it.id,
    item: it,
    mealIndex: mi,
    isNew: newItemIds.has(it.id),
    pIndex: pIndex,
    setGrams: setGrams,
    removeItem: removeItem
  })
))
```

3. **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é —Ñ—É–Ω–∫—Ü–∏—é** `pRow` (—Å—Ç—Ä–æ–∫–∏ 2740-2790)

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: 
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–∞–º–º–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç—Ä–æ–∫–∞ –ù–ï –º–∏–≥–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥—Ä—É–≥–æ–π —Å—Ç—Ä–æ–∫–∏
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Console ‚Äî –Ω–µ—Ç –æ—à–∏–±–æ–∫

---

### –®–∞–≥ 2: `MealCard` (—Å—Ç—Ä–æ–∫–∏ 2820-3160)

**–ß—Ç–æ**: –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Ç–∞–±–ª–∏—Ü–∞ + –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å).

**–ü–û–õ–ù–´–ô —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (–∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞):
```javascript
// Props (–ø–µ—Ä–µ–¥–∞—Ç—å —è–≤–Ω–æ):
meal,                    // –æ–±—ä–µ–∫—Ç –ø—Ä–∏—ë–º–∞
mealIndex,               // mi ‚Äî –∏–Ω–¥–µ–∫—Å –≤ –º–∞—Å—Å–∏–≤–µ
displayIndex,            // –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞
day,                     // –æ–±—ä–µ–∫—Ç –¥–Ω—è
setDay,                  // ‚ö†Ô∏è –ù—É–∂–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π set!
products,                // –º–∞—Å—Å–∏–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
pIndex,                  // –∏–Ω–¥–µ–∫—Å –ø—Ä–æ–¥—É–∫—Ç–æ–≤
date,                    // —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞

// –°–æ—Å—Ç–æ—è–Ω–∏—è UI:
isCurrentMeal,           // —Ç–µ–∫—É—â–∏–π –ø—Ä–∏—ë–º (–∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞)
isMealStale,             // –ø—Ä–∏—ë–º —É—Å—Ç–∞—Ä–µ–ª
expandedMeals,           // Set —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö (‚ö†Ô∏è –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ isExpanded boolean!)
manualExpandedStale,     // –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏–π
isMealExpanded,          // —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–æ–ø–æ–º)
isMobile,                // –º–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

// Handlers (–æ–±–µ—Ä–Ω—É—Ç—å –≤ useCallback!):
toggleMealExpand,        // —Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
openEditGramsModal,      // —Ä–µ–¥–∞–∫—Ç–æ—Ä –≥—Ä–∞–º–º–æ–≤
openTimeEditor,          // —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏
openMoodEditor,          // —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
removeMeal,              // —É–¥–∞–ª–∏—Ç—å –ø—Ä–∏—ë–º
setGrams,                // –∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞–º–º—ã –ø—Ä–æ–¥—É–∫—Ç–∞
removeItem,              // —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç

// –£—Ç–∏–ª–∏—Ç—ã (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å):
// HEYS.models.computeDerivedProduct ‚Äî ‚úÖ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ namespace
// getMealType, mTotals, fmtVal ‚Äî ‚úÖ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
MEAL_HEADER_META,        // –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞

// UX:
haptic,                  // —Ç–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫, not-null –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
ProductRow,              // –≤–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–ø–æ—Å–ª–µ –®–∞–≥–∞ 1)
MealAddProduct           // –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
```

**–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ö–µ–Ω–¥–ª–µ—Ä–∞–º–∏**:
```javascript
// ‚ùå –¢–µ–∫—É—â–∏–π –∫–æ–¥ (–∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ day):
const toggleMealExpand = (id) => {
  setExpandedMeals(prev => ...)  // –≠—Ç–æ OK
}
const setGrams = (mi, id, g) => {
  setDay({ ...day, meals: [...] })  // ‚ùå –ó–∞–º—ã–∫–∞–Ω–∏–µ!
}

// ‚úÖ –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞:
const setGrams = useCallback((mi, id, g) => {
  setDay(prev => ({ ...prev, meals: [...] }))  // ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π set
}, [])
```

**–î–µ–π—Å—Ç–≤–∏—è**:
1. **–°–Ω–∞—á–∞–ª–∞**: –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å `setGrams`, `removeItem` –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π `setDay`
2. –°–æ–∑–¥–∞—Ç—å `const MealCard = React.memo(function MealCard({...}) {...})`
3. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –±–ª–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∞
4. –ü–µ—Ä–µ–¥–∞—Ç—å `isExpanded={expandedMeals.has(meal.id)}` –≤–º–µ—Å—Ç–æ –≤—Å–µ–≥–æ Set
5. –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤ –≤ `day.meals.map()`

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: 
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–∏—ë–º—ã
- [ ] –°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Haptic –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö

---

### –®–∞–≥ 3: `AdviceCard` (—Å—Ç—Ä–æ–∫–∏ 8332-8550)

**–ß—Ç–æ**: –§—É–Ω–∫—Ü–∏—è `renderAdviceCard(advice, localIndex, globalIndex)`.

**–ü–û–õ–ù–´–ô —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```javascript
// Props (–ø–µ—Ä–µ–¥–∞—Ç—å —è–≤–Ω–æ):
advice,                  // –æ–±—ä–µ–∫—Ç —Å–æ–≤–µ—Ç–∞
localIndex,              // –∏–Ω–¥–µ–∫—Å –≤ —Ç–µ–∫—É—â–µ–π –≥—Ä—É–ø–ø–µ
globalIndex,             // –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å

// –°–æ—Å—Ç–æ—è–Ω–∏—è:
dismissedAdvices,        // Set –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö (–ø–µ—Ä–µ–¥–∞—Ç—å isDismissed boolean!)
hiddenUntilTomorrow,     // Set —Å–∫—Ä—ã—Ç—ã—Ö –¥–æ –∑–∞–≤—Ç—Ä–∞
adviceSwipeState,        // { id, offsetX, direction }
expandedAdviceId,        // ID —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–≥–æ —Å–æ–≤–µ—Ç–∞
lastDismissedAdvice,     // –¥–ª—è undo { advice, index }

// Refs:
adviceCardRefs,          // Map<id, ref> –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π

// Handlers (–æ–±–µ—Ä–Ω—É—Ç—å –≤ useCallback!):
undoLastDismiss,         // –æ—Ç–º–µ–Ω–∞ dismiss
handleAdviceSwipeStart,  // –Ω–∞—á–∞–ª–æ —Å–≤–∞–π–ø–∞
handleAdviceSwipeMove,   // –¥–≤–∏–∂–µ–Ω–∏–µ —Å–≤–∞–π–ø–∞
handleAdviceSwipeEnd,    // –∫–æ–Ω–µ—Ü —Å–≤–∞–π–ø–∞
handleAdviceLongPressStart,  // –Ω–∞—á–∞–ª–æ –¥–æ–ª–≥–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
handleAdviceLongPressEnd,    // –∫–æ–Ω–µ—Ü –¥–æ–ª–≥–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
setAdviceExpanded,       // —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å/—Å–≤–µ—Ä–Ω—É—Ç—å

// –î–ª—è XP –∞–Ω–∏–º–∞—Ü–∏–∏:
showFloatingXp,          // —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ +XP
```

**UX-–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã** (–Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å!):
- Touch events –¥–ª—è swipe: `onTouchStart`, `onTouchMove`, `onTouchEnd`
- Long-press —Ç–∞–π–º–µ—Ä—ã
- Ref –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è floating XP
- Undo overlay —Å —Ç–∞–π–º–∞—É—Ç–æ–º

**–î–µ–π—Å—Ç–≤–∏—è**:
1. –°–æ–∑–¥–∞—Ç—å `const AdviceCard = React.memo(function AdviceCard({...}) {...})`
2. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–µ–ª–æ `renderAdviceCard`
3. –ü–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤—ã –≤–º–µ—Å—Ç–æ Sets: `isDismissed`, `isHiddenUntilTomorrow`
4. –ü–µ—Ä–µ–¥–∞—Ç—å `swipeState` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `swipeState.id === advice.id`
5. –ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: 
- [ ] –°–≤–∞–π–ø dismiss —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Undo –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Long-press –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
- [ ] XP floating –∞–Ω–∏–º–∞—Ü–∏—è
- [ ] –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ touch events –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º

---

### –®–∞–≥ 4: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è handlers (–ü–ï–†–ï–î –≤—ã–Ω–æ—Å–æ–º MealCard!)

**–ü—Ä–æ–±–ª–µ–º–∞**: –•–µ–Ω–¥–ª–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `day` –∏–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è ‚Üí useCallback –Ω–µ –ø–æ–º–æ–∂–µ—Ç.

**–ò—Å–ø—Ä–∞–≤–∏—Ç—å –î–û –≤—ã–Ω–æ—Å–∞ MealCard**:

```javascript
// ‚ùå –ë—ã–ª–æ (–∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ day):
const setGrams = (mi, itemId, grams) => {
  const newMeals = [...day.meals];
  // ...
  setDay({ ...day, meals: newMeals });
};

// ‚úÖ –°—Ç–∞–ª–æ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π set):
const setGrams = React.useCallback((mi, itemId, grams) => {
  setDay(prev => {
    const newMeals = [...prev.meals];
    // ...
    return { ...prev, meals: newMeals };
  });
}, []); // –ü—É—Å—Ç—ã–µ deps ‚Äî —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞!
```

**–•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è**:
1. `setGrams` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–∞–º–º–æ–≤
2. `removeItem` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
3. `removeMeal` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏—ë–º–∞
4. `toggleMealExpand` ‚Äî —É–∂–µ OK –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `setExpandedMeals(prev => ...)`

**–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã**:
1. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä—ã –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π set
2. –û–±–µ—Ä–Ω—É—Ç—å –≤ useCallback
3. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –≤—ã–Ω–æ—Å–∏—Ç—å MealCard

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

```bash
# 1. Lint –ø—Ä–æ—Ö–æ–¥–∏—Ç
pnpm lint

# 2. Build –ø—Ä–æ—Ö–æ–¥–∏—Ç  
pnpm build

# 3. –†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç ‚Üí –≥—Ä–∞–º–º—ã ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞–º–º—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- [ ] –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–∏—ë–º –ø–∏—â–∏
- [ ] –ú–æ–±–∏–ª—å–Ω—ã–π –∞–∫–∫–æ—Ä–¥–µ–æ–Ω (—Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)
- [ ] –°–≤–∞–π–ø advice ‚Üí dismiss ‚Üí undo
- [ ] –ù–µ—Ç –º–∏–≥–∞–Ω–∏–π/—Å–±—Ä–æ—Å–∞ —Ñ–æ–∫—É—Å–∞

---

## üö´ –ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ–º

- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
- –ù–æ–≤—ã–µ —Ö–æ—Ç–∫–µ–∏
- ESM/–±–∞–Ω–¥–ª—ã
- –ò–∑–º–µ–Ω–µ–Ω–∏—è Sparkline/graphs
- Picker-–º–æ–¥–∞–ª–∫–∏ (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞)

---

## Definition of Done

- [ ] `ProductRow` –≤—ã–Ω–µ—Å–µ–Ω, –æ–±—ë—Ä–Ω—É—Ç –≤ memo
- [ ] `MealCard` –≤—ã–Ω–µ—Å–µ–Ω, –æ–±—ë—Ä–Ω—É—Ç –≤ memo  
- [ ] `AdviceCard` –≤—ã–Ω–µ—Å–µ–Ω, –æ–±—ë—Ä–Ω—É—Ç –≤ memo
- [ ] Handlers –æ–±—ë—Ä–Ω—É—Ç—ã –≤ useCallback
- [ ] –í—Å–µ —Ä—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] `pnpm build` –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## ‚ö†Ô∏è –†–∏—Å–∫-–º–∞—Ç—Ä–∏—Ü–∞

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ò–º–ø–∞–∫—Ç | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|--------|-----------|
| –ù–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üí runtime-–æ—à–∏–±–∫–∏ | **–í—ã—Å–æ–∫–∞—è** | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ü–æ–ª–Ω—ã–π dependency list –î–û –Ω–∞—á–∞–ª–∞, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å undefined |
| useCallback —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏ day ‚Üí –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | **–í—ã—Å–æ–∫–∞—è** | –í—ã—Å–æ–∫–∏–π | –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π `setDay(prev => ...)` |
| –ì–ª–æ–±–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω (computeDerivedProduct) | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HEYS.models.computeDerivedProduct` |
| –°–ª–æ–º–∞–Ω–Ω—ã–µ UX-–∂–µ—Å—Ç—ã (swipe/haptic) | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ |
| Set/Map –∫–∞–∫ prop –ª–æ–º–∞–µ—Ç memo | **–í—ã—Å–æ–∫–∞—è** | –ù–∏–∑–∫–∏–π | –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `isExpanded`, `isNew` ‚Äî boolean |
| –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∏—Å–∫–∞ | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–∏–π | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SearchInput –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| –ü–æ—Ç–µ—Ä—è refs –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π | –ü—Ä–æ–∫–∏–Ω—É—Ç—å refs —á–µ—Ä–µ–∑ props –∏–ª–∏ callback refs |

---

## üîô Rollback –ø–ª–∞–Ω

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–∞—Ç –∏–∑ –±—ç–∫–∞–ø–∞
cp apps/web/heys_day_v12.backup2.js apps/web/heys_day_v12.js

# –í–∞—Ä–∏–∞–Ω—Ç 2: Git –æ—Ç–∫–∞—Ç (–µ—Å–ª–∏ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ)
git checkout apps/web/heys_day_v12.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
pnpm dev  # ‚Üí localhost:3001
```

---

## üìö –û–±—Ä–∞–∑–µ—Ü –¥–ª—è –ø–æ–¥—Ä–∞–∂–∞–Ω–∏—è

**MealAddProduct** (—Å—Ç—Ä–æ–∫–∞ 81) ‚Äî —É–∂–µ –≤—ã–Ω–µ—Å–µ–Ω –∏ memo'd:
```javascript
const MealAddProduct = React.memo(function MealAddProduct({
  products, pIndex, onAdd, existingItems, mealIndex
}) {
  // ...
});
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—Ä–∞–∑–µ—Ü —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–µ—Ä–µ–¥–∞—á–∏ props.

---

## üü¢ WOW-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä** ‚Äî –¥–ª—è MealCard —Å –º–∞—Å—Å–∏–≤–æ–º items –¥–æ–±–∞–≤–∏—Ç—å shallow compare:
   ```javascript
   const MealCard = React.memo(function MealCard(...) {...}, (prev, next) => {
     return prev.meal.id === next.meal.id 
       && prev.meal.items.length === next.meal.items.length
       && prev.isExpanded === next.isExpanded;
   });
   ```

2. **DX: dependency comments** ‚Äî –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
   ```javascript
   // ProductRow deps: item, mealIndex, isNew, pIndex, setGrams, removeItem
   const ProductRow = React.memo(...)
   ```

3. **A11y** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `aria-live="polite"` –¥–ª—è undo toast –≤ AdviceCard

4. **–ò–∑–º–µ—Ä–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞** ‚Äî –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ React DevTools ‚Üí Highlight updates

5. **Perf-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ dev** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç—å why-did-you-render / –ø—Ä–æ—Å—Ç—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –¥–ª—è MealCard/ProductRow (–∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏), —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤

6. **UX-–º–µ–ª–æ—á–∏** ‚Äî –≤ –º–æ–±. –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å –º–∏–∫—Ä–æ-–∞–Ω–∏–º–∞—Ü–∏—é expand/collapse (transition-height) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è DOM-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
