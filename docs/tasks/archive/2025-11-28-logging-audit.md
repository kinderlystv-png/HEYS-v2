# üîç –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è HEYS v2

**–î–∞—Ç–∞**: 2025-11-28  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
**–í—Ä–µ–º—è**: ~15 –º–∏–Ω—É—Ç

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: —É–±—Ä–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ console.log/warn, –¥–æ–±–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## üî¥ –ß—Ç–æ –±—ã–ª–æ (–ø—Ä–æ–±–ª–µ–º—ã)

### –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö
- **~50 –≤—ã–∑–æ–≤–æ–≤ console.\*** –æ—Å—Ç–∞–ª–∏—Å—å –≤ –∫–æ–¥–µ (—á–∞—Å—Ç—å –ø–æ–¥ debug —Ñ–ª–∞–≥–∞–º–∏)
- –§—É–Ω–∫—Ü–∏—è `log()` –≤ `heys_storage_supabase_v1.js` –±—ã–ª–∞ –ø—É—Å—Ç–æ–π ‚Äî –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞–ª–∞
- `TDEE_DEBUG` –ª–æ–≥–∏ –≤—ã–≤–æ–¥–∏–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º `window._HEYS_DEBUG_TDEE` (26 —Å—Ç—Ä–æ–∫)

### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–∂–Ω—ã—Ö –ª–æ–≥–æ–≤
- ‚ùå –ù–µ –≤–∏–¥–Ω–æ –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –æ–±–ª–∞–∫–∞
- ‚ùå –ù–µ –≤–∏–¥–Ω–æ –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ
- ‚ùå –ù–µ –≤–∏–¥–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- ‚ùå –ù–µ –≤–∏–¥–Ω–æ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚ùå –ù–µ –≤–∏–¥–Ω–æ –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

---

## üü¢ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ (—Ä–µ—à–µ–Ω–∏–µ)

### 1. –£–º–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `heys_storage_supabase_v1.js`

```javascript
// –ë–´–õ–û: –ø—É—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function log(){}

// –°–¢–ê–õ–û: –≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ localStorage
const isDebugSync = () => localStorage.getItem('heys_debug_sync') === 'true';
function log(){
  if (isDebugSync()) {
    console.log.apply(console, ['[HEYS.cloud]'].concat([].slice.call(arguments)));
  }
}

// –ù–û–í–û–ï: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ª–æ–≥ ‚Äî –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è
function logCritical(){ 
  console.info.apply(console, ['[HEYS]'].concat([].slice.call(arguments))); 
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏

| –°–æ–±—ã—Ç–∏–µ | –õ–æ–≥ | –§–∞–π–ª |
|---------|-----|------|
| –í—Ö–æ–¥ | `‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω: email` | supabase |
| –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞ | `‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ...` | supabase |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | `‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ \| –∫–ª–∏–µ–Ω—Ç: xxx \| –∫–ª—é—á–µ–π: N` | supabase |
| –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ | `‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ...` | supabase |
| –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ | `üë§ –ö–ª–∏–µ–Ω—Ç: xxx...` | app |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ–±–ª–∞–∫–æ | `‚òÅÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –æ–±–ª–∞–∫–æ: day:3 products:1` | supabase |
| –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è | `‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –æ–±–ª–∞–∫–æ: ...` | supabase |
| –í—ã—Ö–æ–¥ | `üö™ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã` | supabase |
| Offline mode | `Offline mode (no user)` | app |
| –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö | `‚ÑπÔ∏è [SYNC] Kept N local products` | app |

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–≥–∏

- `heys_app_v12.js`: –æ—Å—Ç–∞–≤–ª–µ–Ω—ã `console.warn` –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ backup (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- `heys_app_v12.js`: —Ç–∏—Ö–∏–µ fallback –¥–ª—è activeDays –∏ Pull-Refresh (–±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
- `console.warn` ‚Üí `console.info` –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—ç—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–µ –æ—à–∏–±–∫–∞)

### 4. TDEE_DEBUG –æ—Å—Ç–∞–ª—Å—è –ø–æ–¥ —Ñ–ª–∞–≥–æ–º

```javascript
// –í—ã–≤–æ–¥–∏—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥
if (window._HEYS_DEBUG_TDEE) {
  console.log('HEYS_TDEE_DEBUG...');
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏

### Production (–æ–±—ã—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
```
[HEYS] ‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω: poplanton@mail.ru
[HEYS] üë§ –ö–ª–∏–µ–Ω—Ç: 73a54e7...
[HEYS] ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ | –∫–ª–∏–µ–Ω—Ç: 73a54e7... | –∫–ª—é—á–µ–π: 82
[HEYS] ‚òÅÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –æ–±–ª–∞–∫–æ: day:1
```

### –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö
```
[HEYS] ‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: Invalid login credentials
[HEYS] ‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: timeout
```

### Debug —Ä–µ–∂–∏–º (localStorage.setItem('heys_debug_sync', 'true'))
```
[HEYS.cloud] üîÑ Loading data for client: 73a54e7...
[HEYS.cloud] ‚úÖ Loaded 82 keys (DAY: 45, PRODUCTS: 1, PROFILE: 1)
[HEYS.cloud] üíæ [SAVE] üìÖ DAY | key: heys_dayv2_2025-11-28 | items: N/A
```

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `apps/web/heys_storage_supabase_v1.js` | –î–æ–±–∞–≤–ª–µ–Ω—ã `logCritical()`, `isDebugSync()`, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –¥–ª—è 9 —Å–æ–±—ã—Ç–∏–π |
| `apps/web/heys_app_v12.js` | –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Å–º–µ–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞ `console.info('[HEYS] üë§ –ö–ª–∏–µ–Ω—Ç:...')` |

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Console
2. –í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è `‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω`
3. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚Üí `‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞`
4. –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí —á–µ—Ä–µ–∑ 0.5—Å `‚òÅÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –æ–±–ª–∞–∫–æ`

### –í–∫–ª—é—á–∏—Ç—å debug —Ä–µ–∂–∏–º
```javascript
localStorage.setItem('heys_debug_sync', 'true');
location.reload();
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `logCritical()` –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `isDebugSync()` –¥–ª—è debug —Ä–µ–∂–∏–º–∞
- [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏: –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (9 —Å–æ–±—ã—Ç–∏–π)
- [x] Debug –ª–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `localStorage.setItem('heys_debug_sync', 'true')`
- [x] TDEE_DEBUG –æ—Å—Ç–∞–ª—Å—è –ø–æ–¥ —Ñ–ª–∞–≥–æ–º `window._HEYS_DEBUG_TDEE`
- [x] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω ‚Äî –Ω–µ—Ç –æ—à–∏–±–æ–∫
