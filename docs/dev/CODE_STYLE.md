# üé® HEYS Code Style Guide

> –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∞ –∏ —Å—Ç–∏–ª–µ–π –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ HEYS

---

## –ó–∞–ø—Ä–µ—â–µ–Ω–æ ‚Üí –ü—Ä–∞–≤–∏–ª—å–Ω–æ

| üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ                         | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ                                      |
| ------------------------------------ | ------------------------------------------------- |
| **`console.log()` –≤ committed code** | **–í—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ ‚Üí —É–¥–∞–ª—è—Ç—å –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º** |
| `console.trace()` –≤ committed code   | –¢–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ                       |
| **`HEYS.debug.xxx` —Ñ–ª–∞–≥–∏**           | **–ù–µ –Ω—É–∂–Ω–æ ‚Äî –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏**    |
| **`?debug=1` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL**       | **–ù–µ –Ω—É–∂–Ω–æ ‚Äî –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏**    |
| `localStorage.setItem` –Ω–∞–ø—Ä—è–º—É—é      | `U.lsSet('heys_key', val)` ‚Äî auto clientId        |
| Monkey patching `console.*`          | –ü—Ä–æ—Å—Ç–æ–π wrapper –µ—Å–ª–∏ –Ω—É–∂–µ–Ω                        |
| FPS/memory profiling                 | –≠—Ç–æ nutrition app, –Ω–µ game engine                 |
| –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å Legacy JS ‚Üí TS          | –¢–æ–ª—å–∫–æ –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É                          |
| `select('*')` –≤ Supabase             | `select('id, name, ...')` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–ª—è       |
| –ì–ª–æ–±–∞–ª—å–Ω—ã–µ listeners –±–µ–∑ cleanup     | `addEventListener` + cleanup –≤ unmount            |
| **Inline styles –≤ JSX**              | **Tailwind –∫–ª–∞—Å—Å—ã** (—Å–º. —Å–µ–∫—Ü–∏—é CSS)              |
| **–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã**          | **BEM-naming** `.block__element--modifier`        |
| **–°—Ç–∏–ª–∏ –≤ `<style>` —Ç–µ–≥–∞—Ö**          | **Tailwind –∏–ª–∏ `styles/heys-components.css`**     |
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π**              | **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã**             |

---

## üîá –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–í–ê–ñ–ù–û!)

### –ü—Ä–∏–Ω—Ü–∏–ø: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –≤ –ª–æ–≥, –æ—Ç–ª–∞–¥–∫–∞ ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ

HEYS –ª–æ–≥–∏—Ä—É–µ—Ç **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–¥–∞–∫—à–Ω-–ø—Ä–æ–±–ª–µ–º:
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞—á–∞–ª–æ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –æ—à–∏–±–∫–∏)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Å–µ—Å—Å–∏–∏ (–≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, –∏—Å—Ç–µ—á–µ–Ω–∏–µ)
- ‚úÖ API –≤—ã–∑–æ–≤—ã (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –∏ fallback)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚ùå –ö–∞–∂–¥—ã–π localStorage read/write ‚Äî –ù–ï–¢
- ‚ùå React —Ä–µ–Ω–¥–µ—Ä—ã, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äî –ù–ï–¢

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ HEYS

```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –µ–¥–∏–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
console.info('[HEYS.sync] ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: 15 –∫–ª—é—á–µ–π');
console.info('[HEYS.auth] üîê –°–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞, –æ—Å—Ç–∞–ª–æ—Å—å 23—á');
console.warn('[HEYS.api] ‚ö†Ô∏è Retry 2/3: —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞');
console.error('[HEYS.api] ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å:', error.message);

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–ø–∞–º
console.log('[MyModule] Starting process:', data);
console.log('profile:', profile); // –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
if (HEYS.debug?.myModule) console.log('Debug info');
```

### –ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ committed –∫–æ–¥–µ

| –ú–µ—Ç–æ–¥             | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                          | –ü—Ä–∏–º–µ—Ä                                              |
| ----------------- | ------------------------------------------- | --------------------------------------------------- |
| `console.info()`  | –£—Å–ø–µ—à–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏               | `console.info('[HEYS.sync] ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ 12 –¥–Ω–µ–π');` |
| `console.warn()`  | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, retry, fallback             | `console.warn('[HEYS.api] ‚ö†Ô∏è Offline —Ä–µ–∂–∏–º');`      |
| `console.error()` | –†–µ–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ (–∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–±–æ–∏)          | `console.error('[HEYS.auth] ‚ùå –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞');`   |

### –ß—Ç–æ –ó–ê–ü–†–ï–©–ï–ù–û –≤ committed –∫–æ–¥–µ

| –ú–µ—Ç–æ–¥             | –ü–æ—á–µ–º—É –∑–∞–ø—Ä–µ—â–µ–Ω–æ                          |
| ----------------- | ----------------------------------------- |
| `console.log()`   | –¢–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ‚Äî —É–¥–∞–ª—è—Ç—å –ø–µ—Ä–µ–¥ commit |
| `console.trace()` | –û–≥—Ä–æ–º–Ω—ã–µ —Å—Ç–µ–∫-—Ç—Ä–µ–π—Å—ã, —Ç–æ—Ä–º–æ–∑–∏—Ç            |
| `console.debug()` | –¢–æ –∂–µ —á—Ç–æ log                             |

### –ü—Ä–∞–≤–∏–ª–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ü—Ä–µ—Ñ–∏–∫—Å –º–æ–¥—É–ª—è**: `[HEYS.sync]`, `[HEYS.auth]`, `[HEYS.api]`, `[HEYS.store]`
2. **–≠–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å–∞**: ‚úÖ —É—Å–ø–µ—Ö, ‚ö†Ô∏è warning, ‚ùå –æ—à–∏–±–∫–∞, üîê auth, üîÑ sync
3. **–ë–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å profile, meals, weight –∏ —Ç.–¥.
4. **–ö—Ä–∞—Ç–∫–æ—Å—Ç—å**: 1 —Å—Ç—Ä–æ–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ, —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –ú–æ–¥—É–ª—å  | –°–æ–±—ã—Ç–∏–µ                   | –£—Ä–æ–≤–µ–Ω—å |
| ------- | ------------------------- | ------- |
| `sync`  | –ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏| info    |
| `sync`  | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π         | info    |
| `sync`  | –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏      | error   |
| `auth`  | –í—Ö–æ–¥/–≤—ã—Ö–æ–¥                | info    |
| `auth`  | –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞            | warn    |
| `api`   | Retry/fallback            | warn    |
| `api`   | –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞            | error   |
| `store` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞      | info    |

### –ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

1. **–î–æ–±–∞–≤—å** `console.log()` –≥–¥–µ –Ω—É–∂–Ω–æ
2. **–û—Ç–ª–∞–¥—å** –ø—Ä–æ–±–ª–µ–º—É
3. **–£–î–ê–õ–ò** –≤—Å–µ `console.log()` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

---

## üé® CSS & –°—Ç–∏–ª–∏

### –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã

```
apps/web/
‚îú‚îÄ‚îÄ styles/heys-components.css  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ (BEM)
‚îú‚îÄ‚îÄ index.html                  # –¢–æ–ª—å–∫–æ Tailwind –∫–ª–∞—Å—Å—ã
‚îî‚îÄ‚îÄ *.js                        # React: —Ç–æ–ª—å–∫–æ Tailwind, –ù–ï inline styles
```

### –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–∏–ª–µ–π

| –¢–∏–ø                         | –ì–¥–µ –ø–∏—Å–∞—Ç—å                        | –ü—Ä–∏–º–µ—Ä                                   |
| --------------------------- | --------------------------------- | ---------------------------------------- |
| **Layout, spacing, colors** | Tailwind –≤ JSX                    | `className="flex gap-2 bg-blue-500"`     |
| **–°–ª–æ–∂–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è**        | `styles/heys-components.css`      | `.meal-card { animation: slideIn 0.2s }` |
| **–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** | CSS –∫–ª–∞—Å—Å –≤ `heys-components.css` | `.btn-primary`, `.card-meal`             |
| **–û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å**       | Tailwind arbitrary                | `className="w-[73px]"`                   |

### BEM Naming Convention

```css
/* ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî BEM */
.water-tracker {
} /* Block */
.water-tracker__button {
} /* Element */
.water-tracker__button--active {
} /* Modifier */

/* üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ */
.drink-btn {
}
.waterBtn {
}
.my-water-button {
}
```

### –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∏–ª–µ–π

1. ‚ùì **–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å Tailwind?** ‚Üí –î–∞ = –∏—Å–ø–æ–ª—å–∑—É–π Tailwind
2. ‚ùì **–°—Ç–∏–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?** ‚Üí –ü–æ–∏—â–∏ –≤ `heys-components.css`
3. ‚ùì **–≠—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω?** ‚Üí –°–æ–∑–¥–∞–π BEM-–∫–ª–∞—Å—Å –≤ CSS —Ñ–∞–π–ª–µ
4. ‚ùì **Inline style –Ω–µ–æ–±—Ö–æ–¥–∏–º?** ‚Üí –¢–æ–ª—å–∫–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
   (`style={{ width: \`${pct}%\` }}`)

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ —Å—Ç–∏–ª–µ–π

| –ö–æ–¥  | –û—à–∏–±–∫–∞                  | –†–µ—à–µ–Ω–∏–µ                                              |
| ---- | ----------------------- | ---------------------------------------------------- |
| S001 | Inline styles –≤ JSX     | `style={{color:'red'}}` ‚Üí `className="text-red-500"` |
| S002 | –°—Ç–∏–ª–∏ –≤ `<style>` —Ç–µ–≥–µ  | –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `heys-components.css`                    |
| S003 | –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∏–º—è –∫–ª–∞—Å—Å–∞ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BEM: `.block__element--modifier`        |
| S004 | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π     | –ù–∞–π—Ç–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å          |
| S005 | `!important`            | –£–≤–µ–ª–∏—á–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –∏–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å              |

---

## üîß CSS Refactoring Rules

### üö´ NO-TOUCH ZONES (–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞!)

- `@keyframes` ‚Äî –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- `.confetti-*` ‚Äî confetti —ç—Ñ—Ñ–µ–∫—Ç—ã
- `.water-ring`, `.water-splash` ‚Äî –≤–æ–¥–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- `safe-area` rules ‚Äî iOS –æ—Ç—Å—Ç—É–ø—ã
- `.mpc-*` ‚Äî MealProductCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ CSS

| –ü—Ä–∞–≤–∏–ª–æ                   | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
| ------------------------- | ------------------------------------------ |
| **–ù–µ —Ç—Ä–æ–≥–∞—Ç—å main.css**   | –¢–æ–ª—å–∫–æ @import'—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –º–æ–¥—É–ª–∏        |
| **–ù–µ —Å–Ω–∏–º–∞—Ç—å !important** | –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ light/dark       |
| **–°–∫–æ—É–ø–∏—Ç—å –∫–ª–∞—Å—Å—ã**       | `.component__element` –≤–º–µ—Å—Ç–æ `.element`    |
| **–§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏**   | –î–û –∏ –ü–û–°–õ–ï: —Å—Ç—Ä–æ–∫–∏, !important, @keyframes |
| **–¢–µ—Å—Ç light/dark**       | –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –ø—Ä–∞–≤–æ–∫                 |

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∏–ª–µ–π

```
styles/modules/
‚îú‚îÄ‚îÄ 000-base-and-gamification.css  # Base, confetti, achievements
‚îú‚îÄ‚îÄ 100-metrics-and-graphs.css     # Graphs, sparklines
‚îú‚îÄ‚îÄ 200-dark-and-effects.css       # Dark theme overrides
‚îú‚îÄ‚îÄ 300-modals-and-day.css         # Modals, day UI
‚îú‚îÄ‚îÄ 400-water-and-hydration.css    # Water tracker
‚îú‚îÄ‚îÄ 500-pwa-and-offline.css        # PWA, install prompts
‚îî‚îÄ‚îÄ 600-steps-and-aps.css          # Steps, APS flow
```

### –ü–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º CSS ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å `pnpm css:audit`** ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
2. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å scope** ‚Äî –∫–∞–∫–æ–π –º–æ–¥—É–ª—å –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å NO-TOUCH** ‚Äî –Ω–µ –ª–æ–º–∞–µ–º –ª–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
4. **–¢–µ—Å—Ç –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫** ‚Äî light mode + dark mode + mobile

---

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

> –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [MODULE_ARCHITECTURE.md](./MODULE_ARCHITECTURE.md)

### –õ–∏–º–∏—Ç—ã –º–æ–¥—É–ª—è

| –ú–µ—Ç—Ä–∏–∫–∞          | –õ–∏–º–∏—Ç  | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |
| ---------------- | ------ | ----------- |
| LOC (—Å—Ç—Ä–æ–∫ –∫–æ–¥–∞) | ‚â§2,000 | >3,000 üî¥   |
| –§—É–Ω–∫—Ü–∏–π/–º–µ—Ç–æ–¥–æ–≤  | ‚â§80    | >120 üî¥     |
| `HEYS.*` —Å—Å—ã–ª–æ–∫  | ‚â§50    | >80 üî¥      |

### –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

```javascript
// ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: warnMissing() fallback
const api = HEYS.YandexAPI || warnMissing('YandexAPI');

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: —è–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ init()
function init() {
  if (!HEYS.YandexAPI) throw new Error('YandexAPI required');
}
```

### –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –º–æ–¥—É–ª—è

- [ ] LOC ‚â§ 2000? (`wc -l file.js`)
- [ ] –§—É–Ω–∫—Ü–∏–π ‚â§ 80? (`grep -c "function\|=>" file.js`)
- [ ] HEYS.\* —Å—Å—ã–ª–æ–∫ ‚â§ 50? (`grep -o "HEYS\." file.js | wc -l`)
- [ ] –ù–µ—Ç `warnMissing()` fallbacks?

---

## ‚úÖ Quality Gate (–µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

- **IDE‚Äë—É—Ä–æ–≤–µ–Ω—å**: ESLint —Å—Ä–∞–∑—É –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- **Pre‚Äëcommit**: –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç.
- **Legacy‚Äë–ª–∏–º–∏—Ç—ã**: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ —Å –±—É—Ñ–µ—Ä–æ–º $+10\%$.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `docs/dev/QUALITY_GATE.md`
- `docs/dev/AUTOLIMITS.md`

---

## üß≠ –†–µ–≥–ª–∞–º–µ–Ω—Ç –∞–≤—Ç–æ–ª–∏–º–∏—Ç–æ–≤ legacy (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

### –ß—Ç–æ —ç—Ç–æ

Legacy-–º–æ–¥—É–ª–∏ `apps/web/**/heys_*.js` –∏–º–µ—é—Ç **–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã**,
—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –æ—Ç —Ç–µ–∫—É—â–∏—Ö –º–µ—Ç—Ä–∏–∫ —Å –±—É—Ñ–µ—Ä–æ–º $+10\%$. –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ **–±–ª–æ–∫–∏—Ä—É–µ—Ç
–∫–æ–º–º–∏—Ç**.

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å

**–†–∞–∑ –≤ —Å–ø—Ä–∏–Ω—Ç** (–≤—Ä—É—á–Ω—É—é), –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏—á.

### –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å

```bash
pnpm arch:limits:generate
```

–°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `config/module-limits.json` –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫.

### –ü—Ä–∞–≤–∏–ª–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏

–ï—Å–ª–∏ –ª–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω, **–ø—Ä–∞–≤–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**:

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–∞–∑—É** (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥/–≤—ã–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–π),
2. –õ–∏–±–æ **–∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å** –æ –¥–æ–ø—É—Å—Ç–∏–º–æ–º —Ä–µ—à–µ–Ω–∏–∏/–¥–æ–ø—É—Å–∫–µ –∫ —Ä–æ—Å—Ç—É.

–ë–µ–∑ —ç—Ç–æ–≥–æ –∫–æ–º–º–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º.

---

## Commit Style

```bash
feat: add client selection modal
fix: resolve Supabase RLS permissions
refactor: simplify performance monitoring (-1099 lines)
chore: archive legacy performance monitor
docs: update architecture diagram
```
