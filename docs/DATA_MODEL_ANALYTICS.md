# üìä HEYS Analytics & Scoring Reference

> **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º HEYS: —Å–∫–æ—Ä–∏–Ω–≥–∏, –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**
> –í–µ—Ä—Å–∏—è: 5.6.0 | –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-02-26 | **41 –Ω–∞—É—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω** | **25 —Ç–∏–ø–æ–≤
> –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π** | **36 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π** | **6 —Ñ–µ–Ω–æ—Ç–∏–ø–æ–≤**

**üìå –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**:
[DATA_MODEL_REFERENCE.md](./DATA_MODEL_REFERENCE.md) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–ª—é—á–∏,
–±–∞–∑–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã

**üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:

- [DATA_MODEL_NUTRITION.md](./DATA_MODEL_NUTRITION.md) ‚Äî –ø–∏—Ç–∞–Ω–∏–µ, –∏–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è
  –≤–æ–ª–Ω–∞, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- [INSULIN_WAVE_DOCUMENTATION.md](./INSULIN_WAVE_DOCUMENTATION.md) ‚Äî –ø–æ–ª–Ω–∞—è
  –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã (1250 —Å—Ç—Ä–æ–∫)
- [SCIENTIFIC_REFERENCES.md](./SCIENTIFIC_REFERENCES.md) ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ PMID
  —Å—Å—ã–ª–æ–∫
- [SCORING_REFERENCE.md](./SCORING_REFERENCE.md) ‚Äî Status Score, Day Score, CRS
  (–ø–æ–ª–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã)
- [APP_SYSTEMS_REFERENCE.md](./APP_SYSTEMS_REFERENCE.md) ‚Äî –í–∏–¥–∂–µ—Ç—ã, –ö–∞—Å–∫–∞–¥,
  –ü–æ–∏—Å–∫, –≠–∫—Å–ø–æ—Ä—Ç, –¢—Ä–∏–∞–ª

---

## üîÆ Predictive Insights v6.3.0 ‚Äî 41 –Ω–∞—É—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

> **–í–µ—Ä—Å–∏—è**: 6.3.0 | **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2026-02-26 | **100% –ø–æ–∫—Ä—ã—Ç–∏–µ PMID** |
> **41/41 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã** | **‚ö° –ú–µ–º–æ–∏–∑–∞—Ü–∏—è (44% –±—ã—Å—Ç—Ä–µ–µ)** **–§–∞–π–ª—ã**:
> `pi_patterns.js` (–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã), `pi_constants.js` (SCIENCE_INFO),
> `pi_ui_cards.js` (UI), `pi_cache.js` (–º–µ–º–æ–∏–∑–∞—Ü–∏—è)

### –§–∏–ª–æ—Å–æ—Ñ–∏—è —Å–∏—Å—Ç–µ–º—ã

HEYS Insights ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –±–∞–∑–µ **–Ω–∞—É—á–Ω—ã—Ö
–º–µ—Ç—Ä–∏–∫ —Å PMID-—Å—Å—ã–ª–∫–∞–º–∏**. –ö–∞–∂–¥—ã–π –∏–∑ 41 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:

- üî¨ **–ù–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω** ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å PubMed PMID, DRI/WHO —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- üìä **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî 35 –ø–æ–ª–µ–π (11 –≤–∏—Ç–∞–º–∏–Ω–æ–≤, 9 –º–∏–Ω–µ—Ä–∞–ª–æ–≤, PUFA,
  NOVA, –∫–∞—á–µ—Å—Ç–≤–æ)
- üéØ **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω** ‚Äî —É—á—ë—Ç —Ü–µ–ª–∏ (–¥–µ—Ñ–∏—Ü–∏—Ç/–ø–æ–¥–¥–µ—Ä–∂–∫–∞/–ø—Ä–æ—Ñ–∏—Ü–∏—Ç), BMI,
  –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª
- ‚ö° **–î–µ–π—Å—Ç–≤–µ–Ω–µ–Ω** ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–Ω–∞–±–ª—é–¥–µ–Ω–∏—è¬ª, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üßò **–ë–µ–∑–æ–ø–∞—Å–µ–Ω** ‚Äî –±–µ–∑ –¥–∏–∞–≥–Ω–æ–∑–æ–≤, —Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –∏ —Ä–∏—Å–∫–∏
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω** ‚Äî –º–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (v5.2.0)

**Pattern Memoization Layer**:

- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: LRU –∫—ç—à —Å TTL 60s, Map-based storage, max 100 –∑–∞–ø–∏—Å–µ–π
- **–ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `calculateCorrelationMatrix` ‚Äî 12 –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ä (—Å–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
  - `detectMetabolicPatterns` ‚Äî –∞–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ —É–≥–ª–µ–≤–æ–¥–∞–º, –∂–∏—Ä–æ–≤–∞—è
    –∞–¥–∞–ø—Ç–∞—Ü–∏—è
  - `calculateGlycemicVariability` ‚Äî CV%, CONGA –º–µ—Ç—Ä–∏–∫–∏
  - `calculateAllostaticLoad` ‚Äî –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å—Ç—Ä–µ—Å—Å–∞ (7 –±–∏–æ–º–∞—Ä–∫–µ—Ä–æ–≤)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**: P50 180ms ‚Üí 100ms (44% –ø—Ä–∏—Ä–æ—Å—Ç), cache hit rate 70-85%

### 41 –ø–∞—Ç—Ç–µ—Ä–Ω (5 –≤–µ—Ä—Å–∏–π)

#### Core Patterns v2-v3 (19 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

| ID  | –ü–∞—Ç—Ç–µ—Ä–Ω                 | –ö–∞—Ç–µ–≥–æ—Ä–∏—è  | –î–∞–Ω–Ω—ã–µ                 | MinDays |
| --- | ----------------------- | ---------- | ---------------------- | ------- |
| 1   | **MEAL_TIMING**         | TIMING     | meals, intervals       | 7       |
| 2   | **WAVE_OVERLAP**        | TIMING     | insulin waves          | 7       |
| 3   | **LATE_EATING**         | TIMING     | meals after 21:00      | 7       |
| 4   | **MEAL_QUALITY_TREND**  | NUTRITION  | MQS 7-14d              | 7       |
| 5   | **SLEEP_WEIGHT**        | RECOVERY   | sleep ‚Üî weight        | 7       |
| 6   | **SLEEP_HUNGER**        | RECOVERY   | –Ω–µ–¥–æ—Å—ã–ø ‚Üí –≥–æ–ª–æ–¥        | 7       |
| 7   | **TRAINING_KCAL**       | ACTIVITY   | compensation           | 7       |
| 8   | **STEPS_WEIGHT**        | ACTIVITY   | NEAT ‚Üî weight         | 7       |
| 9   | **PROTEIN_SATIETY**     | NUTRITION  | –±–µ–ª–æ–∫ ‚Üí —Å—ã—Ç–æ—Å—Ç—å        | 7       |
| 10  | **FIBER_REGULARITY**    | NUTRITION  | –∫–ª–µ—Ç—á–∞—Ç–∫–∞ 25-35–≥       | 7       |
| 11  | **STRESS_EATING**       | PSYCHOLOGY | —Å—Ç—Ä–µ—Å—Å ‚Üí –ø–µ—Ä–µ–µ–¥–∞       | 7       |
| 12  | **MOOD_FOOD**           | PSYCHOLOGY | –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ‚Üî –µ–¥–∞      | 7       |
| 13  | **CIRCADIAN**           | TIMING     | —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —á–∞—Å–∞–º | 7       |
| 14  | **NUTRIENT_TIMING**     | TIMING     | –¥–æ/–ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏    | 5       |
| 15  | **INSULIN_SENSITIVITY** | METABOLISM | —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —É–≥–ª–µ–≤–æ–¥—ã    | 14      |
| 16  | **GUT_HEALTH**          | NUTRITION  | —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ 15/10     | 7       |
| 17  | **NUTRITION_QUALITY**   | NUTRITION  | –º–∞–∫—Ä–æ/–º–∏–∫—Ä–æ –±–∞–ª–∞–Ω—Å     | 7       |
| 18  | **NEAT_ACTIVITY**       | ACTIVITY   | –±—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å     | 7       |
| 19  | **MOOD_TRAJECTORY**     | PSYCHOLOGY | –¥–∏–Ω–∞–º–∏–∫–∞ 7-14 –¥–Ω–µ–π     | 7       |

#### Advanced Patterns v4 (6 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

| ID  | –ü–∞—Ç—Ç–µ—Ä–Ω                   | –ö–∞—Ç–µ–≥–æ—Ä–∏—è  | MinDays |
| --- | ------------------------- | ---------- | ------- |
| 20  | **SLEEP_QUALITY**         | RECOVERY   | 7       |
| 21  | **WELLBEING_CORRELATION** | RECOVERY   | 7       |
| 22  | **HYDRATION**             | RECOVERY   | 7       |
| 23  | **BODY_COMPOSITION**      | METABOLISM | 14      |
| 24  | **CYCLE_IMPACT**          | RECOVERY   | 14      |
| 25  | **WEEKEND_EFFECT**        | PSYCHOLOGY | 7       |

#### Deep Analytics v5 (6 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

| ID  | –ü–∞—Ç—Ç–µ—Ä–Ω                 | –ö–∞—Ç–µ–≥–æ—Ä–∏—è  | MinDays |
| --- | ----------------------- | ---------- | ------- |
| 26  | **MICRONUTRIENT_RADAR** | NUTRITION  | 7       |
| 27  | **OMEGA_BALANCER**      | NUTRITION  | 7       |
| 28  | **HEART_HEALTH**        | METABOLISM | 7       |
| 29  | **NOVA_QUALITY**        | NUTRITION  | 7       |
| 30  | **TRAINING_RECOVERY**   | ACTIVITY   | 5       |
| 31  | **HYPERTROPHY**         | METABOLISM | 14      |

#### v6.0 Phase 1-5 (10 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

| ID  | –ü–∞—Ç—Ç–µ—Ä–Ω                     | Phase | –ö–∞—Ç–µ–≥–æ—Ä–∏—è  | MinDays |
| --- | --------------------------- | ----- | ---------- | ------- |
| 32  | **VITAMIN_DEFENSE**         | 1     | NUTRITION  | 7       |
| 33  | **B_COMPLEX_ANEMIA**        | 1     | METABOLISM | 7       |
| 34  | **GLYCEMIC_LOAD**           | 2     | METABOLISM | 5       |
| 35  | **PROTEIN_DISTRIBUTION**    | 2     | NUTRITION  | 7       |
| 36  | **ANTIOXIDANT_DEFENSE**     | 3     | RECOVERY   | 7       |
| 37  | **ADDED_SUGAR_DEPENDENCY**  | 3     | METABOLISM | 7       |
| 38  | **BONE_HEALTH**             | 4     | RECOVERY   | 14      |
| 39  | **TRAINING_TYPE_MATCH**     | 4     | ACTIVITY   | 5       |
| 40  | **ELECTROLYTE_HOMEOSTASIS** | 5     | RECOVERY   | 7       |
| 41  | **NUTRIENT_DENSITY**        | 5     | NUTRITION  | 5       |

### Health Score (Goal-Aware Aggregation)

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏** (5):

- **Nutrition** (35%): 11 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **Timing** (20%): 6 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **Activity** (20%): 5 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **Recovery** (15%): 9 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **Metabolism** (5%): 10 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**Formula**: `Œ£(category_avg √ó goal_weight) / Œ£(weights)` ‚Üí 0-100 score

### API Usage

```javascript
const insights = await HEYS.InsightsPI.calculate({
  days: last30Days,
  profile: profile,
  minDays: 7
});

// Result structure
insights = {
  available: true,
  patterns: {
    MEAL_TIMING: {
      score: 85,
      confidence: 0.92,
      trend: 'improving',
      data: { avgInterval: 4.2, optimalMeals: 0.85 },
      insights: ['–û—Ç–ª–∏—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –ø—Ä–∏—ë–º–∞–º–∏', ...],
      actions: ['–°–æ—Ö—Ä–∞–Ω—è–π —Ç–µ–∫—É—â–∏–π —Ä–∏—Ç–º', ...]
    }
  },
  healthScore: {
    total: 78,
    categories: { nutrition: 82, timing: 75, activity: 70, recovery: 80, metabolism: 76 },
    topIssues: [...],
    topWins: [...]
  }
};
```

---

## üß™ Harm Score ‚Äî –ù–∞—É—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (0-10)

> **–í–µ—Ä—Å–∏—è**: 3.0.0 | **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2026-01-18 | **–®–∫–∞–ª–∞**: 0 (—Å—É–ø–µ—Ä–ø–æ–ª–µ–∑–Ω—ã–π) ‚Üí
> 10 (—Å—É–ø–µ—Ä–≤—Ä–µ–¥–Ω—ã–π) **–§–∞–π–ª**: `heys_harm_v1.js` | **NOVA**: 284 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
> –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã | **Extended Nutrients**: 29 –∫–æ–ª–æ–Ω–æ–∫ –≤ –ë–î

### –§–∏–ª–æ—Å–æ—Ñ–∏—è –æ—Ü–µ–Ω–∫–∏

Harm Score ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ **–º–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏** –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞
–æ—Ä–≥–∞–Ω–∏–∑–º. –£—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ "–ø–ª–æ—Ö–∏–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–æ –∏ **–∑–∞—â–∏—Ç–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã**
(–∫–ª–µ—Ç—á–∞—Ç–∫–∞, –±–µ–ª–æ–∫, –ø–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã).

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ Harm Score v2.0

```
HarmScore = PENALTIES - BONUSES

PENALTIES:
  + trans100 √ó 3.0      # –¢—Ä–∞–Ω—Å-–∂–∏—Ä—ã ‚Äî –ì–õ–ê–í–ù–´–ô –≤—Ä–∞–≥ (√ó3 –º–Ω–æ–∂–∏—Ç–µ–ª—å)
  + simple100 √ó 0.08    # –ü—Ä–æ—Å—Ç—ã–µ —Å–∞—Ö–∞—Ä–∞
  + badFat100 √ó 0.10    # –ù–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã
  + sodium100 √ó 0.002   # –ù–∞—Ç—Ä–∏–π
  + GI_penalty          # –®—Ç—Ä–∞—Ñ –∑–∞ –≤—ã—Å–æ–∫–∏–π –ì–ò
  + NOVA_penalty        # –®—Ç—Ä–∞—Ñ –∑–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É

BONUSES:
  - fiber100 √ó 0.30     # –ö–ª–µ—Ç—á–∞—Ç–∫–∞ ‚Äî –º–æ—â–Ω—ã–π –ø—Ä–æ—Ç–µ–∫—Ç–æ—Ä
  - protein100 √ó 0.06   # –ë–µ–ª–æ–∫ —Å–Ω–∏–∂–∞–µ—Ç –ì–ò
  - goodFat100 √ó 0.04   # –ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã
```

### üè≠ NOVA Classification ‚Äî –°—Ç–µ–ø–µ–Ω—å –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏

| NOVA  | –ù–∞–∑–≤–∞–Ω–∏–µ               | –®—Ç—Ä–∞—Ñ | –ü—Ä–∏–º–µ—Ä—ã                   |
| ----- | ---------------------- | ----- | ------------------------- |
| **1** | –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ         | 0.0   | –Ø–±–ª–æ–∫–æ, –∫—É—Ä–∏—Ü–∞, —Ä–∏—Å, —è–π—Ü–∞ |
| **2** | –ö—É–ª–∏–Ω–∞—Ä–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã | 0.3   | –ú–∞—Å–ª–æ, —Å–∞—Ö–∞—Ä, —Å–æ–ª—å, –º—É–∫–∞  |
| **3** | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ         | 0.8   | –ö–æ–Ω—Å–µ—Ä–≤—ã, —Å—ã—Ä, —Ö–ª–µ–±, —Å–æ–∫  |
| **4** | –£–ª—å—Ç—Ä–∞–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ   | 2.5   | –ß–∏–ø—Å—ã, –∫–æ–ª–±–∞—Å–∞, –≥–∞–∑–∏—Ä–æ–≤–∫–∞ |

### –®–∫–∞–ª–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ (0-10)

| –î–∏–∞–ø–∞–∑–æ–Ω     | –ö–∞—Ç–µ–≥–æ—Ä–∏—è           | –û–ø–∏—Å–∞–Ω–∏–µ                                               |
| ------------ | ------------------- | ------------------------------------------------------ |
| **0.0-1.0**  | üü¢ –°—É–ø–µ—Ä–ø–æ–ª–µ–∑–Ω—ã–π    | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–ª—å–∑–∞, –º–æ–∂–Ω–æ –µ—Å—Ç—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π        |
| **1.1-2.5**  | üü¢ –ü–æ–ª–µ–∑–Ω—ã–π         | –í—ã—Å–æ–∫–∞—è –ø–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é |
| **2.6-4.0**  | üü° –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π      | –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å, —É–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ        |
| **4.1-5.5**  | üü† –£–º–µ—Ä–µ–Ω–Ω–æ –≤—Ä–µ–¥–Ω—ã–π | –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ |
| **5.6-7.0**  | üî¥ –í—Ä–µ–¥–Ω—ã–π          | –í—ã—Å–æ–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–∞—Ö–∞—Ä–∞/–∂–∏—Ä–æ–≤, —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å —Ä–µ–¥–∫–æ     |
| **7.1-8.5**  | üî¥ –û—á–µ–Ω—å –≤—Ä–µ–¥–Ω—ã–π    | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –∏–∑–±–µ–≥–∞—Ç—å                 |
| **8.6-10.0** | ‚ö´ –°—É–ø–µ—Ä–≤—Ä–µ–¥–Ω—ã–π     | –û–ø–∞—Å–Ω–æ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏         |

### API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
const harm = HEYS.Harm.calculateHarmScore(product);
const { id, name, color, emoji } = HEYS.Harm.getHarmCategory(harm);
const nova = HEYS.Harm.detectNovaGroup('–ß–∏–ø—Å—ã –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ'); // ‚Üí 4
const mealHarm = HEYS.Harm.calculateMealHarm(
  meal,
  productIndex,
  getProductFromItem,
);
const enriched = HEYS.Harm.enrichProduct(product);
```

---

## üìä Status Score (–°—Ç–∞—Ç—É—Å –¥–Ω—è 0-100)

**–§–∞–π–ª**: `heys_status_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0

### –§–∞–∫—Ç–æ—Ä—ã –∏ –≤–µ—Å–∞

| –§–∞–∫—Ç–æ—Ä      | –í–µ—Å | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ----------- | --- | --------- | --------------------------- |
| `kcal`      | 15% | nutrition | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º—ã –∫–∞–ª–æ—Ä–∏–π    |
| `protein`   | 10% | nutrition | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º—ã –±–µ–ª–∫–∞      |
| `timing`    | 10% | nutrition | –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –ø—Ä–∏—ë–º–∞–º–∏    |
| `steps`     | 10% | activity  | –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ 10000 —à–∞–≥–æ–≤      |
| `training`  | 10% | activity  | –ù–∞–ª–∏—á–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏          |
| `household` | 5%  | activity  | –ë—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å          |
| `sleep`     | 15% | recovery  | –ö–∞—á–µ—Å—Ç–≤–æ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–Ω–∞ |
| `stress`    | 10% | recovery  | –£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ (–∏–Ω–≤–µ—Ä—Å–∏—è)  |
| `water`     | 15% | hydration | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º—ã –≤–æ–¥—ã       |

### –£—Ä–æ–≤–Ω–∏ —Å—Ç–∞—Ç—É—Å–∞

| –£—Ä–æ–≤–µ–Ω—å   | –ü–æ—Ä–æ–≥ | –¶–≤–µ—Ç         | –≠–º–æ–¥–∑–∏ |
| --------- | ----- | ------------ | ------ |
| excellent | ‚â•85   | #22c55e (üü¢) | ‚≠ê     |
| good      | ‚â•70   | #eab308 (üü°) | ‚úì      |
| okay      | ‚â•50   | #f97316 (üü†) | ~      |
| low       | ‚â•30   | #ef4444 (üî¥) | ‚Üì      |
| critical  | <30   | #6b7280 (‚ö´) | ‚ö†     |

---

## üéÆ Gamification (XP, –£—Ä–æ–≤–Ω–∏, –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è)

**–§–∞–π–ª**: `heys_gamification_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0

### –£—Ä–æ–≤–Ω–∏ (25 —É—Ä–æ–≤–Ω–µ–π)

| –†–∞–Ω–≥    | –£—Ä–æ–≤–Ω–∏ | –≠–º–æ–¥–∑–∏ | XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ |
| ------- | ------ | ------ | ---------------- |
| –ù–æ–≤–∏—á–æ–∫ | 1-4    | üå±     | 100-400          |
| –£—á–µ–Ω–∏–∫  | 5-9    | üìö     | 500-900          |
| –ü—Ä–∞–∫—Ç–∏–∫ | 10-14  | üí™     | 1000-1400        |
| –≠–∫—Å–ø–µ—Ä—Ç | 15-19  | ‚≠ê     | 1500-1900        |
| –ú–∞—Å—Ç–µ—Ä  | 20-25  | üëë     | 2000+            |

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (36 —à—Ç—É–∫ –≤ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö)

**Streak (5)**: streak_1, streak_2, streak_3, streak_5, streak_7

**Onboarding (9)**: first_checkin, first_meal, first_product, first_steps,
first_water, first_advice, first_supplements, first_training, first_household

**Quality (4)**: perfect_day, perfect_week, balanced_macros, fiber_champion

**Activity (4)**: water_day, water_master, training_week, steps_champion

**Levels (5)**: level_5, level_10, level_15, level_20, level_25

**Habits (2)**: early_bird, night_owl_safe

**Advice (2)**: advice_reader, advice_master

**Metabolic (5)**: metabolic_stable, crash_avoided, low_risk_master,
phenotype_discovered, weekly_wrap_viewed

### XP Actions (13 –¥–µ–π—Å—Ç–≤–∏–π)

| Action              | XP  | Max/day | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ------------------- | --- | ------- | --------------------------------- |
| `checkin_complete`  | 10  | 1       | –£—Ç—Ä–µ–Ω–Ω–∏–π —á–µ–∫-–∏–Ω –∑–∞–≤–µ—Ä—à—ë–Ω          |
| `meal_added`        | 3   | 10      | –ü—Ä–∏—ë–º –ø–∏—â–∏ –¥–æ–±–∞–≤–ª–µ–Ω               |
| `product_added`     | 3   | 10      | –ü—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø—Ä–∏—ë–º          |
| `water_added`       | 2   | 5       | –í–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞                    |
| `supplements_taken` | 5   | 1       | –î–æ–±–∞–≤–∫–∏ –ø—Ä–∏–Ω—è—Ç—ã                   |
| `household_added`   | 5   | 1       | –î–æ–º–∞—à–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞     |
| `training_added`    | 15  | 1       | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞              |
| `sleep_logged`      | 5   | 1       | –°–æ–Ω –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω                   |
| `weight_logged`     | 5   | 1       | –í–µ—Å –∑–∞–ø–∏—Å–∞–Ω                       |
| `day_completed`     | 50  | 1       | –î–µ–Ω—å –∑–∞–≤–µ—Ä—à—ë–Ω (‚â•3 –ø—Ä–∏—ë–º–∞)         |
| `perfect_day`       | 25  | 1       | –ò–¥–µ–∞–ª—å–Ω—ã–π –¥–µ–Ω—å (Status Score ‚â•85) |
| `advice_read`       | 2   | 5       | –°–æ–≤–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω                    |
| `steps_updated`     | 3   | 3       | –®–∞–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã                    |

### Level Thresholds (25 —É—Ä–æ–≤–Ω–µ–π)

| –£—Ä–æ–≤–µ–Ω—å | XP    | –£—Ä–æ–≤–µ–Ω—å | XP     |
| ------- | ----- | ------- | ------ |
| 1       | 0     | 14      | 11 000 |
| 2       | 100   | 15      | 13 500 |
| 3       | 300   | 16      | 16 500 |
| 4       | 600   | 17      | 20 000 |
| 5       | 1 000 | 18      | 24 000 |
| 6       | 1 500 | 19      | 29 000 |
| 7       | 2 200 | 20      | 35 000 |
| 8       | 3 000 | 21      | 42 000 |
| 9       | 4 000 | 22      | 50 000 |
| 10      | 5 200 | 23      | 60 000 |
| 11      | 6 500 | 24      | 72 000 |
| 12      | 8 000 | 25      | 78 000 |
| 13      | 9 500 |         |        |

### Status Score

> **–ü–æ–ª–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º** (9 —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –≤–µ—Å–∞, 5 —É—Ä–æ–≤–Ω–µ–π) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤
> **[SCORING_REFERENCE.md](./SCORING_REFERENCE.md)**. –ó–¥–µ—Å—å ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞.

Status Score (0-100) ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–Ω—è. 9 —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤ 4
–∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö: Nutrition (kcal 15%, protein 10%, timing 10%), Activity (steps 10%,
training 10%, household 5%), Recovery (sleep 15%, stress 10%), Hydration (water
15%).

### Rarity (—Ä–µ–¥–∫–æ—Å—Ç—å)

| Rarity    | –¶–≤–µ—Ç    | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å |
| --------- | ------- | ----------- |
| common    | #9ca3af | ~50%        |
| rare      | #3b82f6 | ~25%        |
| epic      | #8b5cf6 | ~15%        |
| legendary | #f59e0b | ~8%         |
| mythic    | #ef4444 | ~2%         |

### API

```javascript
HEYS.game.addXP(amount, reason, sourceEl?);
HEYS.game.getLevel();
HEYS.game.getProgress();  // { current, required, percent }
HEYS.game.getStats();     // { totalXP, level, title, progress, ... }
HEYS.game.getAchievements();
HEYS.game.getAchievementProgress(achId);
```

---

## üî¨ Phenotype (–ú–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ñ–µ–Ω–æ—Ç–∏–ø)

**–§–∞–π–ª**: `heys_phenotype_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.1.0

### –§–µ–Ω–æ—Ç–∏–ø—ã (6 —Ç–∏–ø–æ–≤)

| ID            | –ù–∞–∑–≤–∞–Ω–∏–µ         | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                  | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏             |
| ------------- | ---------------- | ------------------------------- | ------------------------ |
| `sprinter`    | –°–ø—Ä–∏–Ω—Ç–µ—Ä         | –ë—ã—Å—Ç—Ä—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º, –≤—ã—Å–æ–∫–∏–π BMR | –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—ë–º—ã –ø–∏—â–∏       |
| `marathoner`  | –ú–∞—Ä–∞—Ñ–æ–Ω–µ—Ü        | –°—Ç–∞–±–∏–ª—å–Ω—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º           | –†–µ–≥—É–ª—è—Ä–Ω—ã–π —Ä–µ–∂–∏–º         |
| `powerlifter` | –°–∏–ª–æ–≤–∏–∫          | –í—ã—Å–æ–∫–∏–π TEF, –º—ã—à–µ—á–Ω–∞—è –º–∞—Å—Å–∞     | –ë–æ–ª—å—à–µ –±–µ–ª–∫–∞             |
| `balanced`    | –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏              | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| `nightowl`    | –°–æ–≤–∞             | –ü–æ–∑–¥–Ω–∏–π —Ö—Ä–æ–Ω–æ—Ç–∏–ø                | –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫       |
| `earlybird`   | –ñ–∞–≤–æ—Ä–æ–Ω–æ–∫        | –†–∞–Ω–Ω–∏–π —Ö—Ä–æ–Ω–æ—Ç–∏–ø                 | –†–∞–Ω–Ω–∏–π –∑–∞–≤—Ç—Ä–∞–∫           |

### Traits (–¥–ª—è radar chart)

| Trait                | –î–∏–∞–ø–∞–∑–æ–Ω | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| -------------------- | -------- | --------------------------- |
| `stability`          | 0-100    | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞    |
| `recovery`           | 0-100    | –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è     |
| `insulinSensitivity` | 0-100    | –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∏–Ω—Å—É–ª–∏–Ω—É |
| `consistency`        | 0-100    | –ü–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –≤ –ø–∏—Ç–∞–Ω–∏–∏       |
| `chronotype`         | 0-100    | –¢–∏–ø –±–∏–æ—Ä–∏—Ç–º–æ–≤               |

### Tier Configuration (—É—Ä–æ–≤–Ω–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏)

| Tier         | –ú–∏–Ω. –¥–Ω–µ–π | Confidence | –û–ø–∏—Å–∞–Ω–∏–µ                |
| ------------ | --------- | ---------- | ----------------------- |
| `basic`      | 3         | 0.3        | –ù–∞—á–∞–ª—å–Ω—ã–π (–º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö) |
| `developing` | 7         | 0.5        | –†–∞–∑–≤–∏–≤–∞—é—â–∏–π—Å—è           |
| `confident`  | 14        | 0.75       | –£–≤–µ—Ä–µ–Ω–Ω—ã–π               |
| `expert`     | 30        | 0.95       | –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π (28+ –¥–Ω–µ–π)   |

### API

```javascript
HEYS.Phenotype.calculate(historyDays, profile);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { phenotype, traits, tier, confidence, recommendations }

HEYS.Phenotype.getRecommendations(phenotype);
HEYS.Phenotype.getTraitsRadar(traits);
```

---

## üö® Early Warning System v4.2

> **–§–∞–π–ª**: `pi_early_warning.js` v44 | **–í–µ—Ä—Å–∏—è**: EWS v4.2 (Phenotype-Aware)
> **25 —Ç–∏–ø–æ–≤ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π** | **Dual-Mode** | **EWS Global Score (0-100)** |
> **Cross-Pattern Causal Chains** | **Weekly Progress Tracking** |
> **Phenotype-Aware Thresholds**

### Dual-Mode

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | `mode: 'acute'`                    | `mode: 'full'`         |
| ---------- | ---------------------------------- | ---------------------- |
| –û–∫–Ω–æ       | 7 –¥–Ω–µ–π                             | 30 –¥–Ω–µ–π                |
| Checks     | 10 (–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–∏—Å–∫–∏)             | 25 (–ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç)      |
| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | Header badge ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π          | Insights card ‚Äî –ø–æ–ª–Ω—ã–π |
| –ü—Ä–æ–ø—É—Å–∫    | 15 checks (`reason: 'acute_mode'`) | ‚Äî                      |

### 25 —Ç–∏–ø–æ–≤ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

| ID                     | Health Impact | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| ---------------------- | ------------- | ----------------------------- |
| `HEALTH_SCORE_DECLINE` | 85            | –°–Ω–∏–∂–µ–Ω–∏–µ Health Score         |
| `STATUS_DECLINE`       | 80            | –°–Ω–∏–∂–µ–Ω–∏–µ Status Score         |
| `SLEEP_DEBT`           | 95            | –î–æ–ª–≥ —Å–Ω–∞                      |
| `CALORIC_DEBT`         | 75            | –ö–∞–ª–æ—Ä–∏–π–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç            |
| `WEIGHT_SPIKE`         | 70            | –†–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –≤–µ—Å–∞            |
| `HYDRATION_DEFICIT`    | 65            | –î–µ—Ñ–∏—Ü–∏—Ç –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏            |
| `LOGGING_GAP`          | 60            | –ü—Ä–æ–ø—É—Å–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è           |
| `PROTEIN_DEFICIT`      | 80            | –î–µ—Ñ–∏—Ü–∏—Ç –±–µ–ª–∫–∞                 |
| `STRESS_ACCUMULATION`  | 90            | –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–∞            |
| `MEAL_SKIP_PATTERN`    | 70            | –ü–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–ø—É—Å–∫–∞ –µ–¥—ã          |
| `BINGE_RISK`           | 85            | –†–∏—Å–∫ –ø–µ—Ä–µ–µ–¥–∞–Ω–∏—è               |
| `MOOD_DECLINE`         | 75            | –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è           |
| `PATTERN_DEGRADATION`  | 70            | –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (C1-C41) |
| `TRAINING_NO_RECOVERY` | 80            | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –±–µ–∑ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è |
| `WEIGHT_PLATEAU`       | 65            | –ü–ª–∞—Ç–æ –≤–µ—Å–∞                    |
| `WEEKEND_PATTERN`      | 60            | Weekend drift                 |

### EWS Global Score (0-100)

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–æ–Ω—ã**:

| Score   | –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞  | –°—Ç–∞—Ç—É—Å      |
| ------- | -------------- | ----------- |
| ‚â• 70    | `HIGH_RISK`    | –í—ã—Å–æ–∫–∏–π     |
| 40 ‚Äì 69 | `MEDIUM_RISK`  | –£–º–µ—Ä–µ–Ω–Ω—ã–π   |
| 20 ‚Äì 39 | `LOW_RISK`     | –ù–∏–∑–∫–∏–π      |
| < 20    | `MINIMAL_RISK` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π |

### Cross-Pattern Causal Chains

**6 –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫**:

| Chain ID               | Root Cause   | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ---------------------- | ------------ | ---------------------------------------- |
| `SLEEP_STRESS_BINGE`   | SLEEP_DEBT   | –ù–µ–¥–æ—Å—ã–ø ‚Üí —Å—Ç—Ä–µ—Å—Å ‚Üí –ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ            |
| `LOGGING_PATTERN_GOAL` | LOGGING_GAP  | –ü—Ä–æ–ø—É—Å–∫ –ª–æ–≥–æ–≤ ‚Üí –ø–∞—Ç—Ç–µ—Ä–Ω –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è       |
| `CALORIC_MOOD_EVENING` | CALORIC_DEBT | –î–æ–ª–≥ –∫–∞–ª–æ—Ä–∏–π ‚Üí –ø–ª–æ—Ö–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–µ—á–µ—Ä–æ–º |

### Weekly Progress Tracking

**localStorage –∫–ª—é—á**: `heys_ews_weekly_v1`

**Trend Analysis**:

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ count | –°—Ç–∞—Ç—É—Å      | Direction |
| --------------- | ----------- | --------- |
| ‚â§ ‚àí15%          | `improving` | `down`    |
| –æ—Ç ‚àí15% –¥–æ +15% | `stable`    | `flat`    |
| ‚â• +15%          | `worsening` | `up`      |

### Phenotype-Aware Thresholds (EWS v4.2)

**4 EWS-—Ñ–µ–Ω–æ—Ç–∏–ø–∞** (–±–µ—Ä—É—Ç—Å—è –∏–∑ `profile.phenotype`):

| –§–µ–Ω–æ—Ç–∏–ø              | ID                  | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| -------------------- | ------------------- | ---------------------------- |
| –ò–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π | `insulin_resistant` | IR, –≤—ã—Å–æ–∫–∏–π –≤–µ—Å, –≤—ã—Å–æ–∫–∏–π GL  |
| –í–µ—á–µ—Ä–Ω–∏–π —Ç–∏–ø         | `evening_type`      | –ü–æ–∑–¥–Ω–∏–π —Ö—Ä–æ–Ω–æ—Ç–∏–ø             |
| –ù–∏–∑–∫–æ–µ –Ω–∞—Å—ã—â–µ–Ω–∏–µ     | `low_satiety`       | –¢—Ä—É–¥–Ω–æ—Å—Ç—å —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ø–æ—Ä—Ü–∏–π |
| –°—Ç—Ä–µ—Å—Å-–µ–¥–æ–∫          | `stress_eater`      | –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ     |

### API

```javascript
const result = await HEYS.InsightsPI.earlyWarning.detect({
  mode: 'acute', // –∏–ª–∏ 'full'
  profile,
  daysData,
});
// result.warnings, result.globalScore, result.causalChains, result.weeklyProgress

HEYS.InsightsPI.earlyWarning.phenotype.check(); // —Ç–µ–∫—É—â–∏–π —Ñ–µ–Ω–æ—Ç–∏–ø
HEYS.InsightsPI.earlyWarning.phenotype.setIR(); // —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å IR
```

---

## üéØ Dynamic Priority Badge v4.3.0

> **–§–∞–π–ª**: `pi_constants.js` v4.3.0 | **–§—É–Ω–∫—Ü–∏—è**: `computeDynamicPriority()` |
> **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2026-02-18

### Generic Formula (5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

```
priority = max(
  base_level(healthScore),           // 1. Base: ‚â•80‚ÜíLOW, 60-79‚ÜíMEDIUM, 40-59‚ÜíHIGH, <40‚ÜíCRITICAL
  trend_boost(healthScore),          // 2. –ø–∞–¥–µ–Ω–∏–µ ‚â•10/7–¥ ‚Üí +1 level
  ews_boost(warnings),               // 3. ‚â•1 high ‚Üí HIGH
  pattern_degradation_boost,         // 4. ‚â•2 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å score<40 ‚Üí +1 boost
  section_custom_rule,               // 5. section-specific override
)
```

### Section-Specific Priority Rules (v4.2.0)

| Section            | –õ–æ–≥–∏–∫–∞                                                                            |
| ------------------ | --------------------------------------------------------------------------------- |
| `STATUS_SCORE`     | –ò–Ω–≤–µ—Ä—Å–∏—è: score‚â•80 ‚Üí LOW (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Å—Ç–∞—Ç—É—Å), <80 ‚Üí generic formula               |
| `CRASH_RISK`       | –ü–æ `weightedHighSum` EWS warnings: >0.7 ‚Üí CRITICAL, >0.4 ‚Üí HIGH, >0.2 ‚Üí MEDIUM    |
| `PRIORITY_ACTIONS` | –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ä–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π: ‚â•3 urgent‚ÜíCRITICAL, ‚â•1‚ÜíHIGH, ‚â•1 any‚ÜíMEDIUM, 0‚ÜíLOW |

### Acuteness Decay (v4.3.0)

EWS warning'–∏ —Ç–µ—Ä—è—é—Ç –≤–µ—Å —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º:

```javascript
decay = Math.max(0.3, 1 - (daysOld - 3) / 27);
// 3-–¥–Ω–µ–≤–Ω—ã–π warning: decay = 1.0  (–ø–æ–ª–Ω—ã–π –≤–µ—Å)
// 7-–¥–Ω–µ–≤–Ω—ã–π warning: decay = 0.85
// 25-–¥–Ω–µ–≤–Ω—ã–π warning: decay = 0.3  (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å)
```

### Pattern Degradation Boost (v4.3.0)

```javascript
const degradedPatterns = patterns.filter((p) => p.available && p.score < 40);
const patternDegradationBoost = degradedPatterns.length >= 2 ? 1 : 0;
```

---

## üìà Metabolic Intelligence (A/B —Ç–µ—Å—Ç—ã, Data Inventory)

**–§–∞–π–ª**: `heys_metabolic_intelligence_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0

### A/B Testing Variants

| Variant | –û–ø–∏—Å–∞–Ω–∏–µ            | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                |
| ------- | ------------------- | -------------------------- |
| `A`     | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ | –ë–∞–∑–æ–≤—ã–π –≤–µ—Å —Ñ–∞–∫—Ç–æ—Ä–æ–≤       |
| `B`     | Sleep-focused       | –ë–æ–ª—å—à–∏–π –≤–µ—Å —Å–Ω–∞ –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö |
| `C`     | Deficit-focused     | –ë–æ–ª—å—à–∏–π –≤–µ—Å –¥–µ—Ñ–∏—Ü–∏—Ç–∞       |

### Data Inventory (–ø–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö)

–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–æ 8 –ø–æ–ª—è–º:

| –ü–æ–ª–µ       | –û–ø–∏—Å–∞–Ω–∏–µ    |
| ---------- | ----------- |
| `meals`    | –ü—Ä–∏—ë–º—ã –ø–∏—â–∏ |
| `water`    | –í–æ–¥–∞        |
| `sleep`    | –°–æ–Ω         |
| `weight`   | –í–µ—Å         |
| `training` | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏  |
| `steps`    | –®–∞–≥–∏        |
| `mood`     | –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ  |
| `stress`   | –°—Ç—Ä–µ—Å—Å      |

### Phenotype Tiers

| Tier       | –ú–∏–Ω. –¥–Ω–µ–π | –ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ          |
| ---------- | --------- | --------------------- |
| `BASIC`    | 7         | –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã       |
| `STANDARD` | 14        | –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ |
| `ADVANCED` | 30+       | –ü–æ–ª–Ω—ã–π —Ñ–µ–Ω–æ—Ç–∏–ø        |

---

## üíä Supplements (–í–∏—Ç–∞–º–∏–Ω—ã –∏ –¥–æ–±–∞–≤–∫–∏)

**–§–∞–π–ª—ã**: `heys_supplements_v1.js` (core, v2.0.0),
`heys_supplements_science_v1.js` (science, v1.0.0)

### Core

- **–ö–∞—Ç–∞–ª–æ–≥**: 25+ –¥–æ–±–∞–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ —Ç–∞–π–º–∏–Ω–≥—É
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: immune, brain, bones, sport, beauty, female, sleep, energy,
  metabolism
- **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**: synergies/conflicts (Ca vs Fe/Zn, D3+K2, Fe+VitC –∏ —Ç.–¥.)
- **–ö—É—Ä—Å—ã (presets)**: winter, active, women30, beauty, sleep, brain (–≥–æ—Ç–æ–≤—ã–µ
  –Ω–∞–±–æ—Ä—ã)
- **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–≤–µ—Ç–∞–º–∏, –±–µ–π–¥–∂–∏ ¬´‚úÖ –ü—Ä–∏–Ω—è–ª¬ª

### Science —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- **–ë–∏–æ–¥–æ—Å—Ç–∞–≤–ª –Ω–æ—Å—Ç—å**: –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ, –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∂–∏—Ä, half-life
- **–§–æ—Ä–º—ã –∏ –¥–æ–∑–∏—Ä–æ–≤–∫–∏**: –º–∞–≥–Ω–∏–π (oxide/citrate/glycinate), –∂–µ–ª–µ–∑–æ (heme/–Ω–µ–≥–µ–º),
  –æ–º–µ–≥–∞-3 (EPA/DHA)
- **–¶–∏—Ä–∫–∞–¥–Ω—ã–µ —Ä–∏—Ç–º—ã**: –ª—É—á—à–∏–µ –æ–∫–Ω–∞ –ø—Ä–∏—ë–º–∞, –º–∞—Ä–∫–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–æ–≤
- **–ú–µ—Ö–∞–Ω–∏–∑–º—ã –≤–ª–∏—è–Ω–∏—è**: –æ–ø–∏—Å–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ (GLUT4, –∂–µ–ª—á–Ω—ã–µ –º–∏—Ü–µ–ª–ª—ã –∏ —Ç.–ø.)

### API

```javascript
HEYS.Supplements.TIMING; // —Å–ª–æ–≤–∞—Ä—å —Ç–∞–π–º–∏–Ω–≥–∞
HEYS.Supplements.CATALOG; // –≤—Å–µ –¥–æ–±–∞–≤–∫–∏
HEYS.Supplements.INTERACTIONS; // synergies/conflicts
HEYS.Supplements.COURSES; // –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã
```

---

## üìâ Simple Analytics (Performance Tracking)

**–§–∞–π–ª**: `heys_simple_analytics.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞                                    | –û–ø–∏—Å–∞–Ω–∏–µ           |
| ------------------------------------------ | ------------------ |
| `trackSearch(query, results, ms)`          | –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤    |
| `trackApiCall(endpoint, ms, status)`       | API –≤—ã–∑–æ–≤—ã         |
| `trackDataOperation(operation, count, ms)` | –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ |
| `trackError(error, context)`               | –û—à–∏–±–∫–∏             |

### –°–µ—Å—Å–∏—è

```javascript
HEYS.analytics.getSessionStats();
// { searchCount, avgSearchTime, apiCallCount, errorCount, sessionDuration }
```

---

## üìä Data Overview (–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)

**–§–∞–π–ª**: `heys_data_overview_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0 | **–î–ª—è –∫—É—Ä–∞—Ç–æ—Ä–∞**

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è (10)

| –ü–æ–ª–µ        | –ò—Å—Ç–æ—á–Ω–∏–∫               | –û–ø–∏—Å–∞–Ω–∏–µ           |
| ----------- | ---------------------- | ------------------ |
| `meals`     | `day.meals.length`     | –ü—Ä–∏—ë–º—ã –ø–∏—â–∏        |
| `water`     | `day.waterMl`          | –í–æ–¥–∞               |
| `sleep`     | `day.sleepStart`       | –°–æ–Ω                |
| `weight`    | `day.weightMorning`    | –í–µ—Å                |
| `training`  | `day.trainings.length` | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏         |
| `steps`     | `day.steps`            | –®–∞–≥–∏               |
| `mood`      | `meals[].mood`         | –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ         |
| `stress`    | `meals[].stress`       | –°—Ç—Ä–µ—Å—Å             |
| `wellbeing` | `meals[].wellbeing`    | –°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ       |
| `household` | `day.householdMin`     | –ë—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞

```javascript
HEYS.DataOverview.analyze(last30Days);
// {
//   completeness: { meals: 0.95, water: 0.80, ... },
//   avgCompleteness: 0.75,
//   missingFields: ['weight', 'steps'],
//   trend: 'improving' | 'stable' | 'declining'
// }
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ----------------------------------- | ---------------------------------------- |
| `pi_patterns.js`                    | 22 –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (v4.0)          |
| `pi_constants.js`                   | Dynamic Priority Badge (v4.3.0)          |
| `pi_early_warning.js`               | EWS v4.2 ‚Äî 25 warnings                   |
| `pi_causal_chains.js`               | Cross-Pattern Causal Chains (6 —Ü–µ–ø–æ—á–µ–∫)  |
| `heys_harm_v1.js`                   | –í—Ä–µ–¥–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (Harm Score)         |
| `heys_status_v1.js`                 | –°—Ç–∞—Ç—É—Å –¥–Ω—è 0-100                         |
| `heys_gamification_v1.js`           | XP, —É—Ä–æ–≤–Ω–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è                   |
| `heys_phenotype_v1.js`              | –ú–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ñ–µ–Ω–æ—Ç–∏–ø                   |
| `heys_metabolic_intelligence_v1.js` | A/B —Ç–µ—Å—Ç—ã, Data Inventory                |
| `heys_simple_analytics.js`          | Performance tracking                     |
| `heys_data_overview_v1.js`          | –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö                     |
| `heys_supplements_v1.js`            | –ö–∞—Ç–∞–ª–æ–≥ –¥–æ–±–∞–≤–æ–∫, —Ç–∞–π–º–∏–Ω–≥, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è |
| `heys_supplements_science_v1.js`    | –ë–∏–æ–¥–æ—Å—Ç–∞–≤–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º—ã, –º–∞—Ä–∫–µ—Ä—ã           |

---

## Changelog (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏)

> üìã –ï–¥–∏–Ω—ã–π changelog –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤
> [`CHANGELOG_DATA_MODEL.md`](./CHANGELOG_DATA_MODEL.md). –î–ª—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–º.
> —Å–µ–∫—Ü–∏—é **Analytics (latest)**.

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 5.6.0 **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-26
