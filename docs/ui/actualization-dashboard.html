<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üîÑ –ü–∞–Ω–µ–ª—å –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ HEYS</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      <!--
        –ü–∞–Ω–µ–ª—å
        –¥–µ–π—Å—Ç–≤–∏–π
        --
        > <div
        class='actions-panel'
        > <div
        class='prompt-info'
        > <h4
        > üí°
        –ö–∞–∫
        –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
        –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
        –ø—Ä–æ–º–ø—Ç–æ–≤:</h4
        > <p
        > 1.
        –ù–∞–∂–º–∏—Ç–µ
        –Ω–∞
        –∫–Ω–æ–ø–∫—É
        –Ω—É–∂–Ω–æ–≥–æ
        –¥–µ–π—Å—Ç–≤–∏—è</p
        > <p
        > 2.
        –ì–æ—Ç–æ–≤—ã–π
        –∑–∞–ø—Ä–æ—Å
        –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        —Å–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
        –≤
        –±—É—Ñ–µ—Ä
        –æ–±–º–µ–Ω–∞</p
        > <p
        > 3.
        –í—Å—Ç–∞–≤—å—Ç–µ
        –∑–∞–ø—Ä–æ—Å
        –≤
        —á–∞—Ç
        —Å
        –ò–ò
        (Ctrl+V)</p
        > <p
        > 4.
        –ò–ò
        –≤—ã–ø–æ–ª–Ω–∏—Ç
        —Ä–µ–∞–ª—å–Ω—ã–µ
        –∏–∑–º–µ–Ω–µ–Ω–∏—è
        –≤
        –ø—Ä–æ–µ–∫—Ç–µ</p
        > </div
        > <div
        class='action-group'
        > <h3
        > üìù
        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
        –ó–∞–ø—Ä–æ—Å–æ–≤
        –¥–ª—è
        –ò–ò</h3
        > body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .header h1 {
        color: #2c3e50;
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header .subtitle {
        color: #7f8c8d;
        font-size: 1.2em;
      }

      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 25px;
        margin-bottom: 30px;
      }

      .card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      }

      .card-title {
        font-size: 1.4em;
        margin-bottom: 15px;
        color: #2c3e50;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
      }

      .status-active {
        background: #27ae60;
      }
      .status-warning {
        background: #f39c12;
      }
      .status-error {
        background: #e74c3c;
      }
      .status-inactive {
        background: #95a5a6;
      }

      .metric {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #ecf0f1;
      }

      .metric:last-child {
        border-bottom: none;
      }

      .metric-value {
        font-weight: bold;
        color: #2c3e50;
      }

      .button {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        transition: all 0.3s ease;
        margin: 5px;
      }

      .button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
      }

      .button.secondary {
        background: linear-gradient(135deg, #95a5a6, #7f8c8d);
      }

      .button.success {
        background: linear-gradient(135deg, #27ae60, #229954);
      }

      .button.danger {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
      }

      .file-list {
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #ecf0f1;
        border-radius: 8px;
        margin: 15px 0;
      }

      .file-item {
        padding: 12px 15px;
        border-bottom: 1px solid #ecf0f1;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .file-item:last-child {
        border-bottom: none;
      }

      .file-item:hover {
        background: #f8f9fa;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: #ecf0f1;
        border-radius: 4px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #27ae60, #2ecc71);
        transition: width 0.3s ease;
      }

      .log-area {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 8px;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        max-height: 200px;
        overflow-y: auto;
        margin: 15px 0;
      }

      .actions-panel {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }

      .action-group {
        margin-bottom: 20px;
      }

      .action-group h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 1.2em;
      }

      .prompt-info {
        background: #e8f4f8;
        border: 1px solid #3498db;
        border-radius: 8px;
        padding: 15px;
        margin: 20px 0;
        color: #2c3e50;
      }

      .prompt-info h4 {
        margin-bottom: 10px;
        color: #2980b9;
      }

      .copy-success {
        animation: copyPulse 0.6s ease-in-out;
      }

      @keyframes copyPulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes pulse {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
        100% {
          opacity: 1;
        }
      }

      .updating {
        animation: pulse 1.5s infinite;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="header">
        <h1>üîÑ –°–∏—Å—Ç–µ–º–∞ –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ HEYS</h1>
        <p class="subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã</p>
      </div>

      <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
      <div class="dashboard-grid">
        <!-- –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ -->
        <div class="card">
          <div class="card-title">
            üìä –û–±—â–∏–µ –ú–µ—Ç—Ä–∏–∫–∏
            <span class="status-indicator status-active"></span>
          </div>
          <div class="metric">
            <span>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:</span>
            <span class="metric-value" id="totalFiles">25</span>
          </div>
          <div class="metric">
            <span>–§–∞–π–ª–æ–≤ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏:</span>
            <span class="metric-value" id="navMapFiles">8/12</span>
          </div>
          <div class="metric">
            <span>–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:</span>
            <span class="metric-value" id="docActuality">92%</span>
          </div>
          <div class="metric">
            <span>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è:</span>
            <span class="metric-value" id="lastUpdate">26.08.2025 00:00</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 92%"></div>
          </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã -->
        <div class="card">
          <div class="card-title">
            üîß –°—Ç–∞—Ç—É—Å –°–∏—Å—Ç–µ–º—ã
            <span class="status-indicator status-active"></span>
          </div>
          <div class="metric">
            <span>–°–∏—Å—Ç–µ–º–∞ backup:</span>
            <span class="metric-value">‚úÖ –ê–∫—Ç–∏–≤–Ω–∞</span>
          </div>
          <div class="metric">
            <span>Git hooks:</span>
            <span class="metric-value">‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞</span>
          </div>
          <div class="metric">
            <span>Dependency resolver:</span>
            <span class="metric-value">‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç</span>
          </div>
          <div class="metric">
            <span>–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:</span>
            <span class="metric-value">1 (–Ω–∏–∑–∫–∞—è)</span>
          </div>
        </div>

        <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è -->
        <div class="card">
          <div class="card-title">
            üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è
            <span class="status-indicator status-warning"></span>
          </div>
          <div class="file-list">
            <div class="file-item">
              <span>docs/dependencies.yaml</span>
              <span>26.08.2025</span>
            </div>
            <div class="file-item">
              <span>heys_core_v12.js</span>
              <span>26.08.2025</span>
            </div>
            <div class="file-item">
              <span>docs/DOCS_ACTUALIZATION_SYSTEM.md</span>
              <span>26.08.2025</span>
            </div>
            <div class="file-item">
              <span>heys_day_v12.js</span>
              <span>25.08.2025</span>
            </div>
          </div>
        </div>

        <!-- –¢—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
        <div class="card">
          <div class="card-title">
            ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
            <span class="status-indicator status-warning"></span>
          </div>
          <div class="file-list">
            <div class="file-item">
              <span>AI_PROJECT_CONTEXT.md</span>
              <span class="metric-value">–í—ã—Å–æ–∫–∏–π</span>
            </div>
            <div class="file-item">
              <span>ROADMAPS_INTERACTIVE_SYSTEM.md</span>
              <span class="metric-value">–°—Ä–µ–¥–Ω–∏–π</span>
            </div>
            <div class="file-item">
              <span>heys_reports_v12.js</span>
              <span class="metric-value">–ù–∏–∑–∫–∏–π</span>
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
      <div class="actions-panel">
        <div class="action-group">
          <h3>ÔøΩ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ó–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ò–ò</h3>
          <button class="button success" onclick="generateAndCopyPrompt('fullActualization')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –ü–æ–ª–Ω–∞—è –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
          </button>
          <button class="button" onclick="generateAndCopyPrompt('partialUpdate')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
          </button>
          <button class="button secondary" onclick="generateAndCopyPrompt('createReport')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –°–æ–∑–¥–∞—Ç—å –û—Ç—á–µ—Ç
          </button>
          <button class="button" onclick="generateAndCopyPrompt('validateDependencies')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
          </button>
        </div>

        <div class="action-group">
          <h3>ÔøΩ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Backup –ó–∞–ø—Ä–æ—Å–æ–≤</h3>
          <button class="button" onclick="generateAndCopyPrompt('createBackup')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –°–æ–∑–¥–∞—Ç—å Backup
          </button>
          <button class="button secondary" onclick="generateAndCopyPrompt('viewBackups')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –°–ø–∏—Å–æ–∫ Backup'–æ–≤
          </button>
          <button class="button danger" onclick="generateAndCopyPrompt('rollbackToBackup')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –û—Ç–∫–∞—Ç–∏—Ç—å –∫ Backup
          </button>
        </div>

        <div class="action-group">
          <h3>üó∫Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ó–∞–ø—Ä–æ—Å–æ–≤ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ö–∞—Ä—Ç</h3>
          <button class="button" onclick="generateAndCopyPrompt('updateNavigationMaps')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –û–±–Ω–æ–≤–∏—Ç—å –ö–∞—Ä—Ç—ã
          </button>
          <button class="button secondary" onclick="generateAndCopyPrompt('validateNavMaps')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ö–∞—Ä—Ç—ã
          </button>
          <button class="button" onclick="generateAndCopyPrompt('addMissingNavMaps')">
            üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: –î–æ–±–∞–≤–∏—Ç—å –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ
          </button>
        </div>

        <!-- –õ–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–π -->
        <div style="margin-top: 30px">
          <h3>üìã –õ–æ–≥ –û–ø–µ—Ä–∞—Ü–∏–π</h3>
          <div class="log-area" id="operationLog">
            [00:00:00] üîÑ –°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ [00:00:01] ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
            –∏–∑ dependencies.yaml [00:00:02] üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–∞–π–ª–æ–≤... [00:00:03] ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã
            —Ñ–∞–π–ª—ã —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 3 [00:00:04] üìä –ì–æ—Ç–æ–≤ –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
          </div>
        </div>
      </div>
    </div>

    <script>
      // üîÑ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
      class ActualizationManager {
        constructor() {
          this.isRunning = false;
          this.currentOperation = null;
          this.initializeEventListeners();
          this.loadDependencyResolver();
        }

        // üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        async loadDependencyResolver() {
          try {
            // –í —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ dependency-resolver.js
            this.log('‚úÖ Dependency resolver –ø–æ–¥–∫–ª—é—á–µ–Ω');
          } catch (error) {
            this.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ dependency resolver: ' + error.message);
          }
        }

        // üéØ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        initializeEventListeners() {
          // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
          setInterval(() => {
            this.updateMetrics();
          }, 30000);
        }

        // üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        updateMetrics() {
          // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
          const now = new Date().toLocaleString('ru-RU');
          document.getElementById('lastUpdate').textContent = now;

          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
          this.log(`üìä –ú–µ—Ç—Ä–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã: ${now}`);
        }

        // üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥
        log(message) {
          const logArea = document.getElementById('operationLog');
          const timestamp = new Date().toLocaleTimeString('ru-RU');
          const logEntry = `[${timestamp}] ${message}\n`;

          logArea.textContent += logEntry;
          logArea.scrollTop = logArea.scrollHeight;
        }

        // üîÑ –ü–æ–ª–Ω–∞—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
        async runFullActualization() {
          if (this.isRunning) {
            this.log('‚ö†Ô∏è –û–ø–µ—Ä–∞—Ü–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è');
            return;
          }

          this.isRunning = true;
          this.currentOperation = 'full_actualization';

          this.log('üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏...');

          try {
            // –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ backup
            this.log('üîí –°–æ–∑–¥–∞–Ω–∏–µ backup –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤...');
            await this.simulateAsyncOperation(2000);
            this.log('‚úÖ Backup —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ');

            // –≠—Ç–∞–ø 2: –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
            this.log('üîç –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...');
            await this.simulateAsyncOperation(3000);
            this.log('‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã');

            // –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
            this.log('üó∫Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç...');
            await this.simulateAsyncOperation(4000);
            this.log('‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã');

            // –≠—Ç–∞–ø 4: –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            this.log('üìù –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...');
            await this.simulateAsyncOperation(5000);
            this.log('‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã');

            // –≠—Ç–∞–ø 5: –í–∞–ª–∏–¥–∞—Ü–∏—è
            this.log('üß™ –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è...');
            await this.simulateAsyncOperation(2000);
            this.log('‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞');

            this.log('üéâ –ü–æ–ª–Ω–∞—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
            document.getElementById('docActuality').textContent = '98%';
            document.querySelector('.progress-fill').style.width = '98%';
          } catch (error) {
            this.log('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏: ' + error.message);
          } finally {
            this.isRunning = false;
            this.currentOperation = null;
          }
        }

        // üîß –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        async runPartialUpdate() {
          this.log('üîÑ –ó–∞–ø—É—Å–∫ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...');
          await this.simulateAsyncOperation(3000);
          this.log('‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
        }

        // üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
        async generateReport() {
          this.log('üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏...');
          await this.simulateAsyncOperation(2000);
          this.log('‚úÖ –û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: docs/reports/actualization_report_' + Date.now() + '.md');
        }

        // üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        async validateDependencies() {
          this.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...');
          await this.simulateAsyncOperation(2500);
          this.log('‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∞–ª–∏–¥–Ω—ã. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1 (–Ω–∏–∑–∫–∞—è –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å)');
        }

        // üíæ –°–æ–∑–¥–∞–Ω–∏–µ backup
        async createBackup() {
          this.log('üîí –°–æ–∑–¥–∞–Ω–∏–µ backup...');
          await this.simulateAsyncOperation(1500);
          this.log('‚úÖ Backup —Å–æ–∑–¥–∞–Ω: docs/backups/backup_' + Date.now());
        }

        // üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ backup'–æ–≤
        viewBackups() {
          this.log("üìã –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö backup'–æ–≤:");
          this.log('  - backup_2025-08-26_000001.json (26.08.2025 00:00:01)');
          this.log('  - backup_2025-08-25_230045.json (25.08.2025 23:00:45)');
          this.log('  - backup_2025-08-25_180022.json (25.08.2025 18:00:22)');
        }

        // üîÑ –û—Ç–∫–∞—Ç –∫ backup
        async rollbackToBackup() {
          if (!confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É backup'—É?")) {
            return;
          }

          this.log('üîÑ –û—Ç–∫–∞—Ç –∫ backup...');
          await this.simulateAsyncOperation(3000);
          this.log('‚úÖ –û—Ç–∫–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ');
        }

        // üó∫Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
        async updateNavigationMaps() {
          this.log('üó∫Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç...');
          await this.simulateAsyncOperation(4000);
          this.log('‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è 8 —Ñ–∞–π–ª–æ–≤');
        }

        // üß™ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
        async validateNavMaps() {
          this.log('üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç...');
          await this.simulateAsyncOperation(2000);
          this.log('‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –≤–∞–ª–∏–¥–Ω—ã');
        }

        // ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
        async addMissingNavMaps() {
          this.log('‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç...');
          await this.simulateAsyncOperation(3000);
          this.log('‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 4 –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã');

          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
          document.getElementById('navMapFiles').textContent = '12/12';
        }

        // ‚è±Ô∏è –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        simulateAsyncOperation(delay) {
          return new Promise(resolve => setTimeout(resolve, delay));
        }
      }

      // üöÄ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
      let actualizationManager;

      window.onload = function () {
        actualizationManager = new ActualizationManager();
      };

      // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –ò–ò
      function generateAIPrompt(actionType) {
        const prompts = {
          fullActualization: `[–ê–ö–¢–£–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã.`,

          partialUpdate: `[–ê–ö–¢–£–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã —Ç–æ–ª—å–∫–æ –≤ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö. –§–æ–∫—É—Å –Ω–∞ —Ñ–∞–π–ª–∞—Ö –±–æ–ª—å—à–µ 500 —Å—Ç—Ä–æ–∫.`,

          createReport: `[–û–¢–ß–ï–¢] –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞. –£–∫–∞–∑–∞—Ç—å –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.`,

          validateDependencies: `[–ê–ù–ê–õ–ò–ó] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤ –ø–∞–ø–∫–µ docs/ –∏ —Å–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.`,

          updateNavigationMaps: `[–û–ë–ù–û–í–ò–¢–¨] –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞.`,

          addMissingNavMaps: `[–°–û–ó–î–ê–¢–¨] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –≤ —Ñ–∞–π–ª—ã –±–µ–∑ –Ω–∏—Ö. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ —Ñ–∞–π–ª—ã –±–æ–ª—å—à–µ 1000 —Å—Ç—Ä–æ–∫.`,

          validateNavMaps: `[–ü–†–û–í–ï–†–ò–¢–¨] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ñ–∞–π–ª–æ–≤.`,

          createBackup: `[BACKUP] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.`,

          viewBackups: `[–°–ü–ò–°–û–ö] –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ backup'—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å –¥–∞—Ç–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è.`,

          rollbackToBackup: `[–û–¢–ö–ê–¢] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ backup'–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.`,
        };

        return prompts[actionType] || `[–í–´–ü–û–õ–ù–ò–¢–¨] ${actionType}`;
      }

      // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
      function copyToClipboard(text) {
        navigator.clipboard
          .writeText(text)
          .then(() => {
            showNotification(`‚úÖ –ó–∞–ø—Ä–æ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!`, 'success');
            logOperation(`–ó–∞–ø—Ä–æ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: ${text.substring(0, 50)}...`, 'info');
          })
          .catch(() => {
            // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            showNotification(`‚úÖ –ó–∞–ø—Ä–æ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!`, 'success');
          });
      }

      // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#27ae60' : '#3498db'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: bold;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            `;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
      function generateAndCopyPrompt(actionType) {
        let prompt = generateAIPrompt(actionType);

        // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        const timestamp = new Date().toLocaleString('ru-RU');

        const fullPrompt = `${prompt}

üìä –ö–æ–Ω—Ç–µ–∫—Å—Ç:
- –í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞: ${timestamp}
- –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏: ${actionType}
- –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: c:\\! HEYS 2

#file:c:\\! HEYS 2 –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏ –∑–∞–ø—Ä–æ—Å.`;

        copyToClipboard(fullPrompt);
      }

      // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
      function logOperation(message, type = 'info') {
        const log = document.getElementById('operationLog');
        const timestamp = new Date().toLocaleTimeString('ru-RU');
        const icon =
          type === 'info' ? 'üìù' : type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ùå';

        log.textContent += `\n[${timestamp}] ${icon} ${message}`;
        log.scrollTop = log.scrollHeight;
      }
    </script>
  </body>
</html>
