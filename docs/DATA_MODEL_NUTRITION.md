# ü•ó HEYS Nutrition & Metabolism Reference

> **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–∏—Ç–∞–Ω–∏—è –∏ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞** –í–µ—Ä—Å–∏—è: 3.2.0 | –û–±–Ω–æ–≤–ª–µ–Ω–æ:
> 2026-02-19 | **9 –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π** | **37 —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã** |
> **AUC, Gaussian, IR Score**

**üìå –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**:
[DATA_MODEL_REFERENCE.md](./DATA_MODEL_REFERENCE.md) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–ª—é—á–∏,
–±–∞–∑–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã

**üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:

- [DATA_MODEL_ANALYTICS.md](./DATA_MODEL_ANALYTICS.md) ‚Äî Predictive Insights,
  EWS, Gamification, —Å–∫–æ—Ä–∏–Ω–≥–∏
- [INSULIN_WAVE_DOCUMENTATION.md](./INSULIN_WAVE_DOCUMENTATION.md) ‚Äî **–ø–æ–ª–Ω–∞—è
  1250-—Å—Ç—Ä–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã
- [SCIENTIFIC_REFERENCES.md](./SCIENTIFIC_REFERENCES.md) ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ PMID
  —Å—Å—ã–ª–æ–∫

---

## üí∞ Caloric Debt (–ö–∞–ª–æ—Ä–∏–π–Ω—ã–π –¥–æ–ª–≥)

**–§–∞–π–ª**: `heys_day_v12.js` | **useMemo**: `caloricDebt`, `displayOptimum`,
`displayRemainingKcal`

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç **–Ω–µ–¥–æ–±–æ—Ä –∫–∞–ª–æ—Ä–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –¥–Ω—è** –∏
–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –Ω–æ—Ä–º—É, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–æ—Å–ø–æ–ª–Ω–∏—Ç—å –¥–µ—Ñ–∏—Ü–∏—Ç. –≠—Ç–æ
–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç:

- –•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π –Ω–µ–¥–æ–µ–¥ ‚Üí —Å—Ä—ã–≤—ã
- –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞
- –ü–æ—Ç–µ—Ä—é –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á—ë—Ç–∞ v2.0 ‚Äî –ì–∏–±–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

> üî¨ **–ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
>
> - Leibel et al., 1995 (PMID: 7632212): –ú–µ—Ç–∞–±–æ–ª–∏–∑–º –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ ~15% –ø—Ä–∏
>   –¥–µ—Ñ–∏—Ü–∏—Ç–µ ‚Üí **–Ω–µ –Ω—É–∂–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å 100% –¥–æ–ª–≥–∞**
> - Hall et al., 2011 (PMID: 21872751): –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Ä–µ–∑–∫–∏—Ö
>   ‚Üí **–≥–∏–±–∫–∏–µ 1-3 –¥–Ω—è –≤–º–µ—Å—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö 4**
> - Rosenbaum & Leibel, 2010 (PMID: 20107198): –ü—Ä–∏ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–º –¥–µ—Ñ–∏—Ü–∏—Ç–µ —Ä–µ–∑–∫–æ–µ
>   —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–∞–ª–æ—Ä–∏–π –º–æ–∂–µ—Ç –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤ –∂–∏—Ä

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞         | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                                        |
| ----------------- | -------- | ----------------------------------------------- |
| `DEBT_WINDOW`     | 3        | –û–∫–Ω–æ –∞–Ω–∞–ª–∏–∑–∞ (–¥–Ω–µ–π –Ω–∞–∑–∞–¥)                       |
| `MAX_DEBT`        | 1500     | –ú–∞–∫—Å–∏–º—É–º —É—á–∏—Ç—ã–≤–∞–µ–º–æ–≥–æ –¥–æ–ª–≥–∞ (–∫–∫–∞–ª)              |
| `RECOVERY_TARGET` | 0.75     | **–ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ 75% –¥–æ–ª–≥–∞** (Leibel 1995) |
| `MAX_BOOST_PCT`   | 0.20     | –ú–∞–∫—Å–∏–º—É–º +20% –∫ –Ω–æ—Ä–º–µ –≤ –¥–µ–Ω—å                    |
| `TRAINING_MULT`   | 1.3      | –ù–µ–¥–æ–±–æ—Ä –≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –¥–µ–Ω—å √ó1.3 (–∫—Ä–∏—Ç–∏—á–Ω–µ–µ)   |

### –ì–∏–±–∫–∏–µ –¥–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–æ–ª–≥–∞:

| –î–æ–ª–≥ (–∫–∫–∞–ª) | –î–Ω–µ–π –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ                  |
| ----------- | ---------------------- | ---------------------------- |
| < 300       | 1 –¥–µ–Ω—å                 | –ú–∞–ª—ã–π –¥–æ–ª–≥ ‚Äî –∑–∞–∫—Ä—ã—Ç—å –±—ã—Å—Ç—Ä–æ  |
| 300-700     | 2 –¥–Ω—è                  | –°—Ä–µ–¥–Ω–∏–π ‚Äî –ø–ª–∞–≤–Ω–æ –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞ |
| > 700       | 3 –¥–Ω—è                  | –ë–æ–ª—å—à–æ–π ‚Äî –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –ñ–ö–¢ |

**–§–æ—Ä–º—É–ª–∞**: `dailyBoost = (debt √ó 0.75) √∑ recoveryDays`

**–ü—Ä–∏–º–µ—Ä**: –î–æ–ª–≥ 600 –∫–∫–∞–ª ‚Üí effectiveDebt = 450 –∫–∫–∞–ª ‚Üí –∑–∞ 2 –¥–Ω—è ‚Üí +225 –∫–∫–∞–ª/–¥–µ–Ω—å

---

## üî¥ Caloric Excess (–ú—è–≥–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–µ—Ä–µ–±–æ—Ä–∞)

**–§–∞–π–ª**: `heys_day_v12.js` | **–í–µ—Ä—Å–∏—è**: 1.0.0 (2025-12-17)

### üß† –§–∏–ª–æ—Å–æ—Ñ–∏—è ‚Äî –ù–ï –Ω–∞–∫–∞–∑–∞–Ω–∏–µ!

> **–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø**: –°—Ç—Ä–æ–≥–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ–≤–æ—Ü–∏—Ä—É—é—Ç —Å—Ä—ã–≤—ã (Herman & Polivy
> 1984). HEYS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ú–Ø–ì–ö–£–Æ –∫–æ—Ä—Ä–µ–∫—Ü–∏—é + –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –ê–ö–¢–ò–í–ù–û–°–¢–ò.

| –ü–æ–¥—Ö–æ–¥           | –≠—Ñ—Ñ–µ–∫—Ç         | –í HEYS                       |
| ---------------- | -------------- | ---------------------------- |
| ‚ùå "–ù–∞–∫–∞–∑–∞–Ω–∏–µ"   | –°—Ä—ã–≤—ã, —Å—Ç—Ä–µ—Å—Å  | –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è              |
| ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å    | –ó–¥–æ—Ä–æ–≤–∞—è –Ω–æ—Ä–º–∞ | **70% –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**          |
| ‚úÖ –ú—è–≥–∫–∏–π –∞–∫—Ü–µ–Ω—Ç | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ    | **5-10% —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–æ—Ä–º—ã max** |

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (EXCESS_CFG)

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞                | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ------------------------ | -------- | ------------------------------------ |
| `SOFT_REDUCTION_PCT`     | 0.05     | **5%** ‚Äî –º—è–≥–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è            |
| `MODERATE_REDUCTION_PCT` | 0.08     | **8%** ‚Äî —É–º–µ—Ä–µ–Ω–Ω–∞—è                   |
| `MAX_REDUCTION_PCT`      | 0.10     | **10%** ‚Äî –º–∞–∫—Å–∏–º—É–º (–ù–ò–ö–û–ì–î–ê –±–æ–ª—å—à–µ!) |
| `ACTIVITY_PRIORITY`      | 0.70     | **70%** —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–≥–ª–∞–≤–Ω–æ–µ!)  |
| `SOFT_THRESHOLD`         | 200      | <200 –∫–∫–∞–ª ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º               |
| `MODERATE_THRESHOLD`     | 400      | 200-400 ‚Äî –º—è–≥–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è           |
| `MAX_RECOVERY_DAYS`      | 2        | –ú–∞–∫—Å–∏–º—É–º 2 –¥–Ω—è (–Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ–º)      |

---

## üß† –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞–ª–æ—Ä–∏–π–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (v3.20.0)

**–§–∞–π–ª**: `heys_day_v12.js` | **–í–µ—Ä—Å–∏—è**: 3.1.0 (2025-12-17)

### ü•© Protein Debt (–ë–µ–ª–∫–æ–≤—ã–π –¥–æ–ª–≥)

> üî¨ **–ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: Mettler 2010 (PMID: 20095013) ‚Äî –ü—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ
> –∫–∞–ª–æ—Ä–∏–π –±–µ–ª–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã.

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞              | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| ---------------------- | -------- | ---------------------------- |
| `PROTEIN_DEBT_WINDOW`  | 3        | –î–Ω–µ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞             |
| `PROTEIN_TARGET_PCT`   | 0.25     | 25% –∫–∞–ª–æ—Ä–∏–π –∏–∑ –±–µ–ª–∫–∞ (–Ω–æ—Ä–º–∞) |
| `PROTEIN_CRITICAL_PCT` | 0.18     | <18% ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –Ω–µ–¥–æ–±–æ—Ä   |

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `proteinDebt`**:
`{ hasDebt, debt, avgProteinPct, severity, recommendation }`

### üèãÔ∏è Training Day Context (–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –¥–Ω—è)

> üî¨ **Aragon 2013** (PMID: 23360586): Timing –±–µ–ª–∫–∞ –∫—Ä–∏—Ç–∏—á–µ–Ω –≤–æ–∫—Ä—É–≥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

| –¢–∏–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | –ú–Ω–æ–∂–∏—Ç–µ–ª—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∏—Ç–∞–Ω–∏—è |
| -------------- | --------- | ----------------- |
| `strength`     | √ó1.4      | –í—ã—Å—à–∏–π            |
| `cardio`       | √ó1.25     | –í—ã—Å–æ–∫–∏–π           |
| `hobby`        | √ó1.1      | –°—Ä–µ–¥–Ω–∏–π           |

### üåÖ Circadian Context (–¶–∏—Ä–∫–∞–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)

> üî¨ **Van Cauter 1997** (PMID: 9331550): –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—à–µ
> —É—Ç—Ä–æ–º

| Period  | –ß–∞—Å—ã  | Urgency | debtMultiplier |
| ------- | ----- | ------- | -------------- |
| morning | 6-12  | low     | 0.7            |
| day     | 12-18 | medium  | 1.0            |
| evening | 18-22 | high    | 1.3            |
| night   | 22-6  | high    | 1.2            |

---

## üîÑ Refeed Day (–ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π –¥–µ–Ω—å)

**–§–∞–π–ª**: `heys_refeed_v1.js` | **–í–µ—Ä—Å–∏—è**: 1.3.0

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

Refeed Day ‚Äî **–æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π** –¥–µ–Ω—å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–≥–æ –∫–∞–ª–æ—Ä–∞–∂–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
–º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞. –≠—Ç–æ –ù–ï —Å—Ä—ã–≤, –∞ —á–∞—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏! –û—Ç–º–µ—á–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —É—Ç—Ä–µ–Ω–Ω–µ–º
—á–µ–∫-–∏–Ω–µ —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–∏—á–∏–Ω—ã.

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞            | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| -------------------- | -------- | -------------------------------- |
| `REFEED_BOOST_PCT`   | 0.35     | +35% –∫ –Ω–æ—Ä–º–µ –∫–∞–ª–æ—Ä–∏–π             |
| `REFEED_THRESHOLD`   | 1000     | –ü–æ—Ä–æ–≥ –¥–æ–ª–≥–∞ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏     |
| `REFEED_CONSECUTIVE` | 5        | –î–Ω–µ–π –≤ –¥–µ—Ñ–∏—Ü–∏—Ç–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| `REFEED_OK_RATIO`    | 1.35     | –î–æ–ø—É—Å—Ç–∏–º—ã–π –ø–µ—Ä–µ–±–æ—Ä (135%)        |

### –ü—Ä–∏—á–∏–Ω—ã refeed –¥–Ω—è

| ID         | –ò–∫–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ                      | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ---------- | ------ | ----------------------------- | ---------------------------------- |
| `deficit`  | üí∞     | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ—Ñ–∏—Ü–∏—Ç–∞ | –ù–∞–∫–æ–ø–∏–ª—Å—è –¥–æ–ª–≥ –∫–∞–ª–æ—Ä–∏–π             |
| `training` | üí™     | –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏  | –ù—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–∏–∫–æ–≥–µ–Ω        |
| `holiday`  | üéâ     | –ü—Ä–∞–∑–¥–Ω–∏–∫ / –æ—Å–æ–±—ã–π –¥–µ–Ω—å        | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ         |
| `rest`     | üßò     | –ú–µ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö –æ—Ç –¥–∏–µ—Ç—ã     | –°–Ω—è—Ç–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è |

### –ü–æ–ª—è –≤ DayRecord

| –ü–æ–ª–µ           | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
| -------------- | ------- | ------------------------------------------ |
| `isRefeedDay`  | boolean | –û—Ç–º–µ—á–µ–Ω –ª–∏ –¥–µ–Ω—å –∫–∞–∫ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π            |
| `refeedReason` | string  | ID –ø—Ä–∏—á–∏–Ω—ã (deficit/training/holiday/rest) |

### API

```javascript
// –£—Ç–∏–ª–∏—Ç—ã
HEYS.Refeed.getRefeedZone(ratio, isRefeedDay); // –ó–æ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
HEYS.Refeed.shouldRecommendRefeed(caloricDebt); // –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –ª–∏ refeed
HEYS.Refeed.getRefeedOptimum(optimum, isRefeedDay); // –ù–æ—Ä–º–∞ —Å –±—É—Å—Ç–æ–º
HEYS.Refeed.getDayMeta(dayData, ratio); // üÜï –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥—ã
HEYS.Refeed.getHistoryStats(days); // üÜï –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ N –¥–Ω–µ–π
```

---

## üçΩÔ∏è Meal Quality Score (2025-12-10)

**–§–∞–π–ª**: `heys_day_v12.js` | **–§—É–Ω–∫—Ü–∏—è**: `getMealQualityScore()` | **–®–∫–∞–ª–∞**:
0-100

### –§–∏–ª–æ—Å–æ—Ñ–∏—è –æ—Ü–µ–Ω–∫–∏

–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏—ë–º–∞ **–ù–ï –ó–ê–í–ò–°–ò–¢ –æ—Ç —Ç–∏–ø–∞ –ø—Ä–∏—ë–º–∞** (–ø–µ—Ä–µ–∫—É—Å/–æ–±–µ–¥/—É–∂–∏–Ω). –¢–∏–ø ‚Äî
–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ –Ω–µ –¥–ª—è —à—Ç—Ä–∞—Ñ–æ–≤.

–û—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:

1. **–°–æ—Å—Ç–∞–≤** ‚Äî –ë–ñ–£, –ì–ò, –∫–ª–µ—Ç—á–∞—Ç–∫–∞, –≤—Ä–µ–¥–Ω–æ—Å—Ç—å
2. **–í—Ä–µ–º—è** ‚Äî —à—Ç—Ä–∞—Ñ —Ç–æ–ª—å–∫–æ –∑–∞ –Ω–æ—á–Ω—ã–µ –ø—Ä–∏—ë–º—ã (23:00-05:00)
3. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ** ‚Äî —à—Ç—Ä–∞—Ñ —Ç–æ–ª—å–∫–æ –∑–∞ >800 –∫–∫–∞–ª

### üßÆ –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ü–µ–Ω–∫–∏ (100 –±–∞–ª–ª–æ–≤)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è              | Max –±–∞–ª–ª–æ–≤ | –ß—Ç–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è                   |
| ---------------------- | ---------- | --------------------------------- |
| **–ö–∞–ª–æ—Ä–∏–∏**            | 30         | –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏ –≤—Ä–µ–º—è         |
| **–ú–∞–∫—Ä–æ—Å—ã (–ë–ñ–£)**      | 25         | –ë–∞–ª–∞–Ω—Å –±–µ–ª–∫–∞, —É–≥–ª–µ–≤–æ–¥–æ–≤, –∂–∏—Ä–æ–≤    |
| **–ö–∞—á–µ—Å—Ç–≤–æ —É–≥–ª–µ–≤–æ–¥–æ–≤** | 15         | –î–æ–ª—è –ø—Ä–æ—Å—Ç—ã—Ö vs —Å–ª–æ–∂–Ω—ã—Ö           |
| **–ö–∞—á–µ—Å—Ç–≤–æ –∂–∏—Ä–æ–≤**     | 15         | –î–æ–ª—è –ø–æ–ª–µ–∑–Ω—ã—Ö vs –≤—Ä–µ–¥–Ω—ã—Ö + —Ç—Ä–∞–Ω—Å  |
| **–ì–ò –∏ –≤—Ä–µ–¥–Ω–æ—Å—Ç—å**     | 15         | –°—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –ì–ò, –∏–Ω–¥–µ–∫—Å –≤—Ä–µ–¥–∞ |
| **–ë–æ–Ω—É—Å—ã**             | +15        | –ó–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–æ—Å—Ç–∞–≤            |

**–ò—Ç–æ–≥–æ**: 100 base + 15 bonus = max 100 (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

### üé® –¶–≤–µ—Ç–æ–≤–∞—è —à–∫–∞–ª–∞

| Score | –¶–≤–µ—Ç       | Hex       | –°—Ç–∞—Ç—É—Å    |
| ----- | ---------- | --------- | --------- |
| ‚â•80   | üü¢ –ó–µ–ª—ë–Ω—ã–π | `#22c55e` | –û—Ç–ª–∏—á–Ω–æ   |
| 50-79 | üü° –ñ—ë–ª—Ç—ã–π  | `#eab308` | –ù–æ—Ä–º–∞–ª—å–Ω–æ |
| <50   | üî¥ –ö—Ä–∞—Å–Ω—ã–π | `#ef4444` | –ü–ª–æ—Ö–æ     |

---

## üåä –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ (Insulin Wave Module) ‚Äî –°–í–û–î–ö–ê

**–§–∞–π–ª**: `heys_insulin_wave_v1.js` | **–í–µ—Ä—Å–∏—è**: 4.1.0 | **–§–∞–∫—Ç–æ—Ä–æ–≤**: 37

> ‚ö†Ô∏è **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1250 —Å—Ç—Ä–æ–∫)** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ:
> **[INSULIN_WAVE_DOCUMENTATION.md](./INSULIN_WAVE_DOCUMENTATION.md)**
>
> –ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –°–í–û–î–ö–ê –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∏ API.

### –ù–∞—É—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞

–ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è –≤–æ–ª–Ω–∞ ‚Äî –ø–µ—Ä–∏–æ–¥, –∫–æ–≥–¥–∞ —É—Ä–æ–≤–µ–Ω—å –∏–Ω—Å—É–ª–∏–Ω–∞ –≤ –∫—Ä–æ–≤–∏ –ø–æ–≤—ã—à–µ–Ω –ø–æ—Å–ª–µ –ø—Ä–∏—ë–º–∞
–ø–∏—â–∏. –í —ç—Ç–æ –≤—Ä–µ–º—è –æ—Ä–≥–∞–Ω–∏–∑–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é, –∞ –Ω–µ —Å–∂–∏–≥–∞–µ—Ç –∂–∏—Ä.

**–õ–∏–ø–æ–ª–∏–∑** (–∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ) –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–æ–ª–Ω—ã.

### üî¨ –ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö 3 —á–∞—Å–æ–≤

**–î–∏–∞–ø–∞–∑–æ–Ω**: 1-5 —á–∞—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—ñ–¥:

- GL –ø—Ä–∏—ë–º–∞ (–∫–ª—é—á–µ–≤–æ–π —Ñ–∞–∫—Ç–æ—Ä)
- –°–æ—Å—Ç–∞–≤–∞ (–∂–∏—Ä—ã, –±–µ–ª–æ–∫, –∫–ª–µ—Ç—á–∞—Ç–∫–∞)
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ (–≤–æ–∑—Ä–∞—Å—Ç, BMI, –ø–æ–ª)
- –í—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫

**–í—ã–≤–æ–¥**: –ü–∞—Ä–∞–º–µ—Ç—Ä `3.0` ‚Äî —Ö–æ—Ä–æ—à–∞—è –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏—ë–º–∞
—Å—Ä–µ–¥–Ω–µ–π GL. –í—Å–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ ¬±50%.

### 37 —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ –¥–ª–∏–Ω—É –≤–æ–ª–Ω—ã

| #     | –ö–∞—Ç–µ–≥–æ—Ä–∏—è        | –§–∞–∫—Ç–æ—Ä                  | –≠—Ñ—Ñ–µ–∫—Ç     | –ò—Å—Ç–æ—á–Ω–∏–∫/PMID               |
| ----- | ---------------- | ----------------------- | ---------- | --------------------------- |
| 1-7   | **–ï–¥–∞**          | –ì–ò, GL, —É–≥–ª–µ–≤–æ–¥—ã...     | varies     | Wolever 1994, Brand...      |
| 8-19  | **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**   | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞, NEAT...     | ‚àí10%..‚àí60% | Colberg 2009, Hamilton 2007 |
| 20-25 | **–†–∏—Ç–º—ã**        | –¶–∏—Ä–∫–∞–¥–Ω—ã–µ, –≥–æ–ª–æ–¥–∞–Ω–∏–µ... | √ó0.9..√ó1.2 | Van Cauter 1997             |
| 26-31 | **–°–æ—Å—Ç–æ—è–Ω–∏–µ**    | –°—Ç—Ä–µ—Å—Å, –Ω–µ–¥–æ—Å—ã–ø...      | +8%...+20% | Epel 2001, Spiegel 1999     |
| 32-37 | **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ** | –í–æ–∑—Ä–∞—Å—Ç, BMI, –ø–æ–ª...    | +5%...+40% | DeFronzo 1979               |

### API v4.1.0

```javascript
// –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞—Å—á—ë—Ç
const waveData = HEYS.InsulinWave.calculate({
  meals, pIndex, trainings, dayData, profile
});

// üÜï v4.0.0 —Ñ—É–Ω–∫—Ü–∏–∏
HEYS.InsulinWave.calculateIRScore(recentDays, profile); // IR Score
HEYS.InsulinWave.generateWaveCurve(nutrients); // 3-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è Gaussian
HEYS.InsulinWave.calculateFullAUC(curve); // –ü–ª–æ—â–∞–¥—å –ø–æ–¥ –∫—Ä–∏–≤–æ–π
HEYS.InsulinWave.predictInsulinResponse(curve); // –ü—Ä–æ–≥–Ω–æ–∑ —É—Ä–æ–≤–Ω—è –∏–Ω—Å—É–ª–∏–Ω–∞
HEYS.InsulinWave.calculateWaveScore(waveData); // –û—Ü–µ–Ω–∫–∞ –≤–æ–ª–Ω—ã

// üÜï v4.1.0 —Ñ—É–Ω–∫—Ü–∏–∏
HEYS.InsulinWave.calculateMetabolicFlexibility(recentDays); // –ì–∏–±–∫–æ—Å—Ç—å –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞
HEYS.InsulinWave.calculateSatietyScore(mealData, hoursElapsed); // –ù–∞—Å—ã—â–µ–Ω–∏–µ
HEYS.InsulinWave.calculateAdaptiveDeficit(tdee, deficit%, weeks); // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç
HEYS.InsulinWave.calculateMealTimingScore(meals, optimum); // –û—Ü–µ–Ω–∫–∞ —Ç–∞–π–º–∏–Ω–≥–∞
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç calculate()

```javascript
waveData = {
  status: 'active' | 'almost' | 'soon' | 'lipolysis',
  remaining: 45,                    // –ú–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ –≤–æ–ª–Ω—ã
  endTime: '17:45',                 // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
  insulinWaveHours: 2.8,            // –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞

  // üÜï v4.0.0
  irScore: { score, level, factors, waveMultiplier },
  gaussian: { fast, main, tail },
  curve: [{ t, y }, ...],
  auc: { total, incremental, normalized, interpretation },
  predictions: { checkpoints, peakPrediction, returnToBaseline },
  waveScore: { score, level, components, recommendations },

  // üÜï v4.1.0
  metabolicFlexibility: { score, level, factors, waveMultiplier },
  satiety: { score, level, duration, hoursRemaining },
  adaptiveDeficit: { tdee, recommendedKcal, needsDietBreak, needsRefeed },
  mealTiming: { score, level, analysis, recommendations },
};
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏ v4.0-v4.1

| –ú–æ–¥—É–ª—å                       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                    |
| ---------------------------- | ------------------------------------------------------------- |
| **Continuous GL Multiplier** | –ü–ª–∞–≤–Ω–∞—è –∫—Ä–∏–≤–∞—è –≤–º–µ—Å—Ç–æ —Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π                   |
| **Personal Baseline Wave**   | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –±–∞–∑–∞ 3—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ñ–∏–ª—è (–≤–æ–∑—Ä–∞—Å—Ç, BMI, –ø–æ–ª)    |
| **Meal Stacking**            | –ù–∞–ª–æ–∂–µ–Ω–∏–µ –≤–æ–ª–Ω –ø—Ä–∏ –ø—Ä–∏—ë–º–∞—Ö –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É                |
| **Wave Phases**              | –¢—Ä–∏ —Ñ–∞–∑—ã –≤–æ–ª–Ω—ã: Rise, Plateau, Decline (v3.0)                 |
| **Insulin Index (v3.2.2)**   | –ö–æ—Ä—Ä–µ–∫—Ü–∏—è GL –¥–ª—è –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (√ó3 –¥–ª—è –º–æ–ª–æ–∫–∞, √ó1.5 —Å—ã—Ä) |
| **IR Score (v4.0)**          | –ò–Ω–¥–µ–∫—Å –∏–Ω—Å—É–ª–∏–Ω–æ—Ä–µ–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏–∑ 6 —Ñ–∞–∫—Ç–æ—Ä–æ–≤                   |
| **Multi-component Gaussian** | 3-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –≤–æ–ª–Ω—ã (fast, main, tail)                |
| **AUC Calculation**          | –ü–ª–æ—â–∞–¥—å –ø–æ–¥ –∫—Ä–∏–≤–æ–π (total, incremental, normalized)           |
| **InsulinPredictor**         | –ü—Ä–æ–≥–Ω–æ–∑ —É—Ä–æ–≤–Ω—è –∏–Ω—Å—É–ª–∏–Ω–∞ –≤ –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã                    |
| **MetabolicFlexibility**     | –ì–∏–±–∫–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Å—É–±—Å—Ç—Ä–∞—Ç–∞–º–∏ (v4.1)                |
| **Satiety Model**            | –†–∞—Å—á—ë—Ç —Å—ã—Ç–æ—Å—Ç–∏ –Ω–∞ 0-6 —á–∞—Å–æ–≤ –≤–ø–µ—Ä—ë–¥ (v4.1)                     |
| **Adaptive Deficit**         | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç —Å —É—á—ë—Ç–æ–º –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (v4.1)                 |
| **Meal Timing Optimizer**    | –ê–Ω–∞–ª–∏–∑ –∏ –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏—ë–º–æ–≤ (v4.1)                        |

---

## üèãÔ∏è Training Context (v3.4.0)

**–§–∞–π–ª**: `heys_insulin_wave_v1.js` | **–§—É–Ω–∫—Ü–∏—è**: `calculateActivityContext()`

–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚Äî –≤–ª–∏—è–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –º–µ—Ç–∞–±–æ–ª–∏–∑–º –µ–¥—ã. 10 —Ç–∏–ø–æ–≤
–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç –∏–Ω—Å—É–ª–∏–Ω–æ–≤—É—é –≤–æ–ª–Ω—É –∏ –≤—Ä–µ–¥–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

### –¢–∏–ø—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

| –¢–∏–ø                | –ë–µ–π–¥–∂               | waveBonus         | harmMultiplier | –£—Å–ª–æ–≤–∏–µ                           |
| ------------------ | ------------------- | ----------------- | -------------- | --------------------------------- |
| `peri`             | üèãÔ∏è –¢–æ–ø–ª–∏–≤–æ          | –¥–æ ‚àí60%           | 0.5            | –ï–¥–∞ –í–û –í–†–ï–ú–Ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (¬±30 –º–∏–Ω) |
| `post`             | üí™ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ   | –¥–æ ‚àí40%           | 0.7            | –ï–¥–∞ –ü–û–°–õ–ï —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (0-6—á)       |
| `pre`              | ‚ö° –ü–µ—Ä–µ–¥ —Ç—Ä–µ–Ω.      | –¥–æ ‚àí20%           | 0.6-0.8        | –ï–¥–∞ –î–û —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–¥–æ 90 –º–∏–Ω)     |
| `steps`            | üëü –ê–∫—Ç–∏–≤–Ω—ã–π –¥–µ–Ω—å    | ‚àí10%              | 1.0            | >10k —à–∞–≥–æ–≤ + —É–∂–∏–Ω (20:00+)        |
| `morning`          | üåÖ –£—Ç—Ä–µ–Ω–Ω—è—è —Ç—Ä–µ–Ω.   | ‚àí5% (–≤–µ—Å—å –¥–µ–Ω—å)   | 1.0            | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–æ 10:00               |
| `double`           | üèÜ –î–≤–æ–π–Ω–∞—è          | ‚àí10% (–≤–µ—Å—å –¥–µ–Ω—å)  | 0.9            | 2+ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∑–∞ –¥–µ–Ω—å             |
| `fasted`           | üî• –ù–∞—Ç–æ—â–∞–∫          | –±–æ–Ω—É—Å –∫ POST √ó1.3 | 0.9            | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏—ë–º–∞      |
| `strength_protein` | üí™ –ë–µ–ª–æ–∫ + —Å–∏–ª–∞     | ‚Äî                 | 0.8            | –ë–µ–ª–æ–∫ ‚â•30–≥ –ø–æ—Å–ª–µ —Å–∏–ª–æ–≤–æ–π          |
| `cardio_simple`    | üèÉ –ü—Ä–æ—Å—Ç—ã–µ + –∫–∞—Ä–¥–∏–æ | ‚Äî                 | 0.7            | –ü—Ä–æ—Å—Ç—ã–µ —É–≥–ª. –ø–æ—Å–ª–µ –∫–∞—Ä–¥–∏–æ         |
| `none`             | ‚Äî                   | 0                 | 1.0            | –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏                    |

### PERI-WORKOUT (–µ–¥–∞ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)

**–ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —É—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≥–ª—é–∫–æ–∑—ã –º—ã—à—Ü–∞–º–∏ ‚Äî GLUT4
–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω, –∏–Ω—Å—É–ª–∏–Ω –ø–æ—á—Ç–∏ –Ω–µ –Ω—É–∂–µ–Ω.

| –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å | waveBonus | harmMultiplier |
| ------------- | --------- | -------------- |
| low           | ‚àí20%      | 0.7            |
| moderate      | ‚àí40%      | 0.6            |
| high          | ‚àí50%      | 0.55           |
| extreme       | ‚àí60%      | 0.5            |

### POST-WORKOUT (–∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ v3.7.7 ‚Äî MET-—Ñ–æ—Ä–º—É–ª–∞)

**–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –æ–∫–Ω–æ**: –ß–µ–º –±–æ–ª—å—à–µ –∫–∫–∞–ª —Å–æ–∂–∂–µ–Ω–æ ‚Äî —Ç–µ–º –¥–æ–ª—å—à–µ –æ–∫–Ω–æ (–¥–æ 6 —á–∞—Å–æ–≤)

**v3.7.7 FIX**: –†–∞—Å—á—ë—Ç –∫–∫–∞–ª —á–µ—Ä–µ–∑ MET-—Ñ–æ—Ä–º—É–ª—É –ø–æ –∑–æ–Ω–∞–º –ø—É–ª—å—Å–∞:

```
–∫–∫–∞–ª/–º–∏–Ω = MET √ó 3.5 √ó –≤–µ—Å(–∫–≥) / 200 (Ainsworth 2011)
```

**–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å**:

```
combinedWaveBonus = max(-0.60, tier.waveBonus √ó kcalMultiplier √ó typeBonus)
```

| –ü–æ—Ç—Ä–∞—á–µ–Ω–æ –∫–∫–∞–ª | kcalMultiplier | –ü—Ä–∏–º–µ—Ä: tier=-35% | –ò—Ç–æ–≥ |
| -------------- | -------------- | ----------------- | ---- |
| <200           | √ó1.0           | -35% √ó 1.0        | -35% |
| 200-400        | √ó1.15          | -35% √ó 1.15       | -40% |
| 400-700        | √ó1.25          | -35% √ó 1.25       | -44% |
| **700-1000**   | **√ó1.35**      | -35% √ó 1.35       | -47% |
| 1000+          | √ó1.50          | -35% √ó 1.50       | -52% |

### API Training Context

```javascript
const context = HEYS.InsulinWave.calculateActivityContext({
  mealTime: '14:30', // HH:MM
  mealKcal: 450, // –∫–∫–∞–ª –ø—Ä–∏—ë–º–∞
  trainings: day.trainings,
  householdMin: 30, // –±—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  steps: 8500,
  allMeals: day.meals,
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç
context = {
  type: 'post', // –¢–∏–ø –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  badge: 'üí™ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ', // –ò–∫–æ–Ω–∫–∞ + –Ω–∞–∑–≤–∞–Ω–∏–µ
  waveBonus: -0.3, // ‚àí30% –∫ –≤–æ–ª–Ω–µ
  harmMultiplier: 0.7, // –í—Ä–µ–¥ √ó0.7
  nightPenaltyOverride: true, // –û—Ç–º–µ–Ω—è–µ—Ç –Ω–æ—á–Ω–æ–π —à—Ç—Ä–∞—Ñ
};
```

---

## üî• NDTE ‚Äî Next-Day Training Effect (v3.6.0)

**–§–∞–π–ª**: `heys_insulin_wave_v1.js` | **–§—É–Ω–∫—Ü–∏—è**: `calculateNDTE()`

NDTE ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –≤—á–µ—Ä–∞—à–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º. –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è
—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (500-1000+ –∫–∫–∞–ª) —É–ª—É—á—à–∞–µ—Ç –∏–Ω—Å—É–ª–∏–Ω–æ–≤—É—é —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 20-50% –≤
—Ç–µ—á–µ–Ω–∏–µ 12-48 —á–∞—Å–æ–≤.

### üî¨ –ù–∞—É—á–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

| –ò—Å—Ç–æ—á–Ω–∏–∫                  | PMID     | –≠—Ñ—Ñ–µ–∫—Ç                                             |
| ------------------------- | -------- | -------------------------------------------------- |
| **Magkos et al. 2008**    | 18583478 | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ >900 –∫–∫–∞–ª ‚Üí HOMA-IR ‚àí32%, —ç—Ñ—Ñ–µ–∫—Ç 12-24—á |
| **Mikines et al. 1988**   | 3056758  | –ò–Ω—Å—É–ª–∏–Ω–æ–≤–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–≤—ã—à–µ–Ω–∞ –¥–æ 48—á       |
| **Perseghin et al. 1996** | 8621115  | GLUT4 —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã 24-48—á                  |

### –≠—Ñ—Ñ–µ–∫—Ç—ã –ø–æ –∫–∫–∞–ª —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

| –ö–∫–∞–ª —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | TDEE boost | –í–æ–ª–Ω–∞ –∫–æ—Ä–æ—á–µ | –ü–∏–∫ –Ω–∏–∂–µ | Label                |
| --------------- | ---------- | ------------ | -------- | -------------------- |
| **900+**        | +10%       | ‚àí25%         | ‚àí30%     | üî• –ú–æ—â–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ |
| **500-899**     | +7%        | ‚àí15%         | ‚àí20%     | üí™ –•–æ—Ä–æ—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞  |
| **300-499**     | +4%        | ‚àí8%          | ‚àí10%     | ‚ö° –õ—ë–≥–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
| **<200**        | ‚Äî          | ‚Äî            | ‚Äî        | ‚Äî                    |

### BMI Multiplier

| BMI       | –ö–∞—Ç–µ–≥–æ—Ä–∏—è   | –ú–Ω–æ–∂–∏—Ç–µ–ª—å | –≠—Ñ—Ñ–µ–∫—Ç              |
| --------- | ----------- | --------- | ------------------- |
| ‚â•30       | obese       | √ó1.8      | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç |
| 25-29.9   | overweight  | √ó1.4      | –£—Å–∏–ª–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç    |
| 18.5-24.9 | normal      | √ó1.0      | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç  |
| <18.5     | underweight | √ó0.8      | –°–Ω–∏–∂–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç    |

### Decay Curve (–∑–∞—Ç—É—Ö–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞)

| –ß–∞—Å–æ–≤ —Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | –ú–Ω–æ–∂–∏—Ç–µ–ª—å   | –û–ø–∏—Å–∞–Ω–∏–µ           |
| ------------------ | ----------- | ------------------ |
| 0-8—á               | √ó1.0 (100%) | –ü–æ–ª–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç      |
| 8-16—á              | √ó0.7 (70%)  | –°–∏–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç     |
| 16-24h             | √ó0.4 (40%)  | –£–º–µ—Ä–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç   |
| 24-36—á             | √ó0.15 (15%) | –°–ª–∞–±—ã–π —ç—Ñ—Ñ–µ–∫—Ç      |
| 36-48—á             | √ó0.05 (5%)  | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç |
| >48—á               | √ó0 (0%)     | –ù–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∞        |

### API NDTE

```javascript
const ndte = HEYS.InsulinWave.calculateNDTE({
  trainingKcal: 720,
  hoursSince: 14,
  bmi: 26,
  trainingType: 'cardio',
  trainingsCount: 1,
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç
ndte = {
  active: true,
  tdeeBoost: 0.049, // +4.9% –∫ TDEE
  waveReduction: 0.105, // ‚àí10.5% –∫ –≤–æ–ª–Ω–µ
  peakReduction: 0.14, // ‚àí14% –∫ –ø–∏–∫—É –∏–Ω—Å—É–ª–∏–Ω–∞
  label: 'üí™ –•–æ—Ä–æ—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞',
  badge: 'üî• –≠—Ñ—Ñ–µ–∫—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
};
```

---

## üìä TEF & TDEE (–ü–æ–ª–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã)

### TEF (Thermic Effect of Food) ‚Äî –¢–µ—Ä–º–æ–≥–µ–Ω–µ–∑ –ø–∏—â–∏

–≠–Ω–µ—Ä–≥–∏—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–∞—è –Ω–∞ –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞–Ω–∏–µ –∏ —É—Å–≤–æ–µ–Ω–∏–µ –ø–∏—â–∏.

| –ú–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç | TEF (%) | –ö–∫–∞–ª/–≥ |
| ------------- | ------- | ------ |
| **–ë–µ–ª–æ–∫**     | 20-30%  | 3.2    |
| **–£–≥–ª–µ–≤–æ–¥—ã**  | 5-10%   | 3.5    |
| **–ñ–∏—Ä—ã**      | 0-3%    | 8.8    |

**–§–æ—Ä–º—É–ª–∞**: `TEF = (prot √ó 3.2 + carbs √ó 3.5 + fat √ó 8.8) √ó 0.07` (–≤ —Å—Ä–µ–¥–Ω–µ–º
7%)

### TDEE (Total Daily Energy Expenditure) ‚Äî –°—É—Ç–æ—á–Ω—ã–π —Ä–∞—Å—Ö–æ–¥

```
TDEE = BMR + activityTotal + TEF + NDTE_boost
```

–ì–¥–µ:

- **BMR** ‚Äî –±–∞–∑–æ–≤—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º (Mifflin-St Jeor)
- **activityTotal** ‚Äî —Ä–∞—Å—Ö–æ–¥ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, NEAT, –±—ã—Ç–æ–≤–∞—è)
- **TEF** ‚Äî —Ç–µ—Ä–º–æ–≥–µ–Ω–µ–∑ –ø–∏—â–∏
- **NDTE_boost** ‚Äî –±–æ–Ω—É—Å –æ—Ç –≤—á–µ—Ä–∞—à–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                            | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ------------------------------- | ------------------------------------------------- |
| `heys_day_v12.js`               | –Ø–¥—Ä–æ —Ä–∞—Å—á—ë—Ç–æ–≤: caloric debt, optimum, TDEE        |
| `heys_refeed_v1.js`             | –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –¥–Ω–∏, –∞–Ω–∞–ª–∏–∑ refeed compliance         |
| `heys_insulin_wave_v1.js`       | 37 —Ñ–∞–∫—Ç–æ—Ä–æ–≤, 4+ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª—è –∏–Ω—Å—É–ª–∏–Ω–æ–≤–æ–π –≤–æ–ª–Ω—ã |
| `INSULIN_WAVE_DOCUMENTATION.md` | **–ü–æ–ª–Ω–∞—è 1250-—Å—Ç—Ä–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –≤–æ–ª–Ω—ã       |
| `heys_harm_v1.js`               | –í—Ä–µ–¥–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∏–∑ DATA_MODEL_ANALYTICS)     |
| `heys_meal_quality.js`          | –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏—ë–º–∞ (MQS 0-100)                |

---

## Changelog (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏)

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞       | –ò–∑–º–µ–Ω–µ–Ω–∏—è                                                                                                     |
| ------ | ---------- | ------------------------------------------------------------------------------------------------------------- |
| 3.2.0  | 2026-02-19 | üöÄ **–†–∞–∑–±–∏–µ–Ω–∏–µ DATA_MODEL_REFERENCE –Ω–∞ 3 —Ñ–∞–π–ª–∞**: Analytics (—Å–∫–æ—Ä–∏–Ω–≥–∏), Nutrition (–ø–∏—Ç–∞–Ω–∏–µ), Reference (—è–¥—Ä–æ) |
| 4.1.0  | 2026-01-09 | **üß† InsulinWave v4.1**: MetabolicFlexibility, Satiety, AdaptiveDeficit, MealTimingOptimizer                  |
| 4.0.0  | 2026-01-09 | **üîÆ InsulinWave v4.0**: IR Score, Gaussian, AUC, InsulinPredictor, WaveScoring, –º–∏–≥—Ä–∞—Ü–∏—è v3‚Üív4               |
| 3.7.7  | 2025-12-15 | **üèãÔ∏è POST-WORKOUT FIX**: MET-—Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ –∫–∫–∞–ª –ø–æ –∑–æ–Ω–∞–º –ø—É–ª—å—Å–∞, –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å –≤–æ–ª–Ω—ã             |
| 3.5.4  | 2025-12-10 | **üéØ Meal Quality Score**: +3 –±–æ–Ω—É—Å–∞ –∑–∞ —Ç–∞–π–º–∏–Ω–≥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (peri/post/pre)                                    |
| 3.2.2  | 2025-12-08 | **ü•õ Insulin Index FIX v3.2.2**: II —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ GL per-product (–º–æ–ª–æ–∫–æ √ó3.0, —Å—ã—Ä √ó1.5)               |
| 2.1.2  | 2025-12-01 | **üìä Low-GL –∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: —É—Å–∏–ª–µ–Ω–Ω–æ–µ –æ—Å–ª–∞–±–ª–µ–Ω–∏–µ —Ü–∏—Ä–∫–∞–¥–Ω—ã—Ö —Ä–∏—Ç–º–æ–≤ –ø—Ä–∏ GL<10, GL multipliers corrections          |

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 3.2.0 **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-19
**–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: GitHub (c:\Users\Ant\HEYS-v2\docs\DATA_MODEL_NUTRITION.md)
