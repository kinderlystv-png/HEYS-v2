# üìä HEYS Scoring Reference

> **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–∫–æ—Ä–∏–Ω–≥–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º HEYS** –í–µ—Ä—Å–∏—è: 1.0.0 | –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-02-26

**üìå –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**:
[DATA_MODEL_REFERENCE.md](./DATA_MODEL_REFERENCE.md) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–ª—é—á–∏,
–±–∞–∑–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã

**üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:

- [DATA_MODEL_ANALYTICS.md](./DATA_MODEL_ANALYTICS.md) ‚Äî Predictive Insights,
  Gamification, Phenotype, EWS
- [DATA_MODEL_NUTRITION.md](./DATA_MODEL_NUTRITION.md) ‚Äî MQS, Caloric
  Debt/Excess, Insulin Wave

---

## üìä Status Score (0-100)

**–§–∞–π–ª**: `heys_status_v1.js` | **API**: `HEYS.StatusScore.calculate(dayData)`

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤–µ 9 —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö.

### –§–∞–∫—Ç–æ—Ä—ã –∏ –≤–µ—Å–∞

| #   | –§–∞–∫—Ç–æ—Ä        | –í–µ—Å | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –®–∫–∞–ª–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞                                                     |
| --- | ------------- | --- | --------- | ------------------------------------------------------------------ |
| 1   | **kcal**      | 15% | Nutrition | ratio 0.85-1.10=100, 0.75-0.85/1.10-1.25=80, <0.50/>1.50=20        |
| 2   | **protein**   | 10% | Nutrition | ‚â•90% target=100, 80-90%=80, 60-80%=60, 40-60%=40, <40%=20          |
| 3   | **timing**    | 10% | Nutrition | lastMeal <20:00=100, 20-21=80, 21-22=60, 22-23=40, >23:00=20       |
| 4   | **steps**     | 10% | Activity  | ‚â•100% goal=100, 80%=80, 60%=60, 40%=40, <20%=20                    |
| 5   | **training**  | 10% | Activity  | 45+min=100, 30-45=85, 15-30=70, 1-15=60, 0=50 (–Ω–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚â† 0) |
| 6   | **household** | 5%  | Activity  | 60+min=100, 30-60=80, 15-30=60, 1-15=40, 0=30                      |
| 7   | **sleep**     | 15% | Recovery  | ratio 0.95-1.15=100, 0.85-0.95/1.15-1.25=80, <0.65/>1.35=20        |
| 8   | **stress**    | 10% | Recovery  | ‚â§3=100, 4-5=70, 6-7=40, >7=20 (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚Äî –º–µ–Ω—å—à–µ = –ª—É—á—à–µ)   |
| 9   | **water**     | 15% | Hydration | ‚â•95% goal=100, 80-95%=80, 60-80%=60, 40-60%=40, <40%=20            |

**–§–æ—Ä–º—É–ª–∞**: `StatusScore = Œ£ (factor_score √ó weight)`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ —Ñ–∞–∫—Ç–æ—Ä –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω (null/0), –µ–≥–æ –≤–µ—Å –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
> –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–µ–∂–¥—É –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏.

### –£—Ä–æ–≤–Ω–∏ Status Score

| –£—Ä–æ–≤–µ–Ω—å   | –î–∏–∞–ø–∞–∑–æ–Ω | –≠–º–æ–¥–∑–∏ | –¶–≤–µ—Ç           | Hex       |
| --------- | -------- | ------ | -------------- | --------- |
| Excellent | 85-100   | ‚≠ê     | üü¢ –ó–µ–ª—ë–Ω—ã–π     | `#22c55e` |
| Good      | 70-84    | üòä     | üü¢ –°–≤–µ—Ç–ª–æ-–∑–µ–ª. | `#4ade80` |
| Okay      | 50-69    | üòê     | üü° –ñ—ë–ª—Ç—ã–π      | `#eab308` |
| Low       | 30-49    | üòü     | üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π   | `#f97316` |
| Critical  | 0-29     | üò∞     | üî¥ –ö—Ä–∞—Å–Ω—ã–π     | `#ef4444` |

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

| –ö–æ–Ω—Ç–µ–∫—Å—Ç            | –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä            | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| ------------------- | ---------------------- | -------------------------------------- |
| Refeed Day          | `timing` ‚Üí fixed 100   | –í –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π –¥–µ–Ω—å —Ç–∞–π–º–∏–Ω–≥ –Ω–µ —à—Ç—Ä–∞—Ñ—É–µ—Ç |
| Training Day        | `training` weight √ó1.2 | –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –¥–Ω–∏ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–∏–π –≤–µ—Å |
| No data (<=2 meals) | Score = null           | –°–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞        |

### API

```javascript
HEYS.StatusScore.calculate(dayData);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { score: 72, level: 'good', factors: {...}, breakdown: {...} }

HEYS.StatusScore.getLevel(score);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { level: 'good', emoji: 'üòä', color: '#4ade80' }

HEYS.StatusScore.getFactorBreakdown(dayData);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [{ name: 'kcal', score: 95, weight: 0.15, weighted: 14.25 }, ...]
```

---

## üéØ Day Score (0-10)

**–§–∞–π–ª**: `heys_day_calculations.js` | **–ü–æ–ª—è DayRecord**: `dayScore`,
`dayScoreManual`

–°—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–Ω—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–∏–ª–∏ –∞–≤—Ç–æ-—Ä–∞—Å—á—ë—Ç).

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞

```javascript
dayScore = (mood + wellbeing + (10 - stress)) / 3;
```

–ì–¥–µ:

- `mood` ‚Äî –æ—Ü–µ–Ω–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (0-10) –∏–∑ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —á–µ–∫-–∏–Ω–∞
- `wellbeing` ‚Äî —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ (0-10) –∏–∑ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —á–µ–∫-–∏–Ω–∞
- `stress` ‚Äî —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ (0-10, –∏–Ω–≤–µ—Ä—Å–∏—è: 10=–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π)

### –†—É—á–Ω–æ–π vs –∞–≤—Ç–æ

| –ü–æ–ª–µ             | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                            |
| ---------------- | ------- | ----------------------------------- |
| `dayScore`       | number  | –ó–Ω–∞—á–µ–Ω–∏–µ 0-10 (–∞–≤—Ç–æ –∏–ª–∏ —Ä—É—á–Ω–æ–µ)     |
| `dayScoreManual` | boolean | –ï—Å–ª–∏ true ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–æ –≤—Ä—É—á–Ω—É—é |

**Cloud merge**: –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ `dayScoreManual=true` –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç —Ä—É—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–∂–µ—Ç–µ –¥–Ω—è (—ç–º–æ–¥–∑–∏)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Predictive Insights –ø–∞—Ç—Ç–µ—Ä–Ω–µ `MOOD_FOOD`
- –í–ª–∏—è–µ—Ç –Ω–∞ EWS –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `EMOTIONAL_EATING_RISK`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º—É–ª–µ Advice `emotional_risk_high`

---

## üîÑ Cascade Risk Score (CRS v7)

**–§–∞–π–ª**: `heys_cascade_card_v1.js` | **–í–µ—Ä—Å–∏—è**: CRS_KEY_VERSION = 'v7'

CRS –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ ¬´–∫–∞—Å–∫–∞–¥–∞¬ª ‚Äî —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–µ–¥–æ–±–æ—Ä –∏–ª–∏ –ø–µ—Ä–µ–±–æ—Ä –∫–∞–ª–æ—Ä–∏–π –∑–∞
–¥–µ–Ω—å –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ç–æ—Ä–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é (–ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ, –æ—Ç–∫–∞–∑ –æ—Ç –µ–¥—ã).

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã CRS

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | –í–µ—Å | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ------------------- | --- | -------------------------------- | ----------- | --- |
| **kcalDeviation**   | 30% | –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –Ω–æ—Ä–º—ã (            | ratio - 1.0 | )   |
| **mealTiming**      | 20% | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ª–æ—Ä–∏–π –ø–æ —á–∞—Å–∞–º   |
| **proteinAdequacy** | 15% | –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å –±–µ–ª–∫–∞ (% –æ—Ç –Ω–æ—Ä–º—ã) |
| **emotionalState**  | 15% | mood + stress + wellbeing        |
| **historicalRisk**  | 10% | –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 7 –¥–Ω–µ–π     |
| **sleepDebt**       | 10% | –î–µ—Ñ–∏—Ü–∏—Ç —Å–Ω–∞ (—á–∞—Å—ã vs –Ω–æ—Ä–º–∞)      |

### v7 Chronotype Adaptation

CRS v7 –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Ç–∞–π–º–∏–Ω–≥ –∫ —Ö—Ä–æ–Ω–æ—Ç–∏–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- **Meal Timing threshold (MT)**: 8.5 (–≤–º–µ—Å—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ 20:00)
- –•—Ä–æ–Ω–æ—Ç–∏–ø –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ `profile.bedtime` –∏ `profile.wakeUpTime`
- –°–æ–≤—ã –ø–æ–ª—É—á–∞—é—Ç –º–µ–Ω—å—à–∏–π —à—Ç—Ä–∞—Ñ –∑–∞ –ø–æ–∑–¥–Ω–∏–π —Ç–∞–π–º–∏–Ω–≥

### 6 —Å–æ—Å—Ç–æ—è–Ω–∏–π Cascade Card

| –°–æ—Å—Ç–æ—è–Ω–∏–µ   | CRS –¥–∏–∞–ø–∞–∑–æ–Ω | –¶–≤–µ—Ç       | –î–µ–π—Å—Ç–≤–∏–µ                        |
| ----------- | ------------ | ---------- | ------------------------------- |
| `safe`      | 0-15         | üü¢ –ó–µ–ª—ë–Ω—ã–π | –í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ                   |
| `attention` | 15-30        | üü° –ñ—ë–ª—Ç—ã–π  | –ú—è–≥–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ           |
| `warning`   | 30-50        | üü† –û—Ä–∞–Ω–∂.  | –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏           |
| `high_risk` | 50-70        | üî¥ –ö—Ä–∞—Å–Ω—ã–π | –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏           |
| `critical`  | 70-90        | üü£ –§–∏–æ–ª–µ—Ç. | –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞         |
| `emergency` | 90-100       | ‚ö´ –ß—ë—Ä–Ω—ã–π  | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ + —Å–æ–≤–µ—Ç—ã |

### Momentum Algorithm

```javascript
// CRS —É—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É: —É–ª—É—á—à–µ–Ω–∏–µ/—É—Ö—É–¥—à–µ–Ω–∏–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –ø—Ä–∏—ë–º–∞
momentum = (currentCRS - avgCRS_last3meals) / avgCRS_last3meals;
// momentum < -0.1 ‚Üí improving (—Å–Ω–∏–∂–µ–Ω–∏–µ severity)
// momentum > 0.1 ‚Üí worsening (–ø–æ–≤—ã—à–µ–Ω–∏–µ severity)
```

### –ú–∏–≥—Ä–∞—Ü–∏—è v6 ‚Üí v7

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–∞—Å—á—ë—Ç–µ. –ò–∑–º–µ–Ω–µ–Ω–∏—è:

- `MT` (Meal Timing): —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚Üí chronotype-adaptive (`8.5` –±–∞–∑–æ–≤—ã–π)
- `emotionalState` weight: 10% ‚Üí 15%
- `historicalRisk` weight: 15% ‚Üí 10%
- –î–æ–±–∞–≤–ª–µ–Ω `sleepDebt` –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–±—ã–ª —á–∞—Å—Ç—å—é emotional)

### API

```javascript
HEYS.CascadeCard.calculateCRS(dayData, profile, history7days);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { crs: 42, state: 'warning', momentum: -0.05, components: {...} }

HEYS.CascadeCard.getState(crs);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { state: 'warning', color: '#f97316', emoji: 'üü†' }

HEYS.CascadeCard.getRecommendations(state, dayData);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [{ type: 'nutrition', text: '...', priority: 'high' }, ...]
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª                       | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| -------------------------- | --------------------------------------- |
| `heys_status_v1.js`        | Status Score (9 —Ñ–∞–∫—Ç–æ—Ä–æ–≤, 5 —É—Ä–æ–≤–Ω–µ–π)    |
| `heys_day_calculations.js` | Day Score, dayTot, computed fields      |
| `heys_cascade_card_v1.js`  | CRS v7, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞—Å–∫–∞–¥–∞, momentum     |
| `heys_cloud_merge_v1.js`   | Merge logic –¥–ª—è dayScore/dayScoreManual |

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0.0 **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-26
