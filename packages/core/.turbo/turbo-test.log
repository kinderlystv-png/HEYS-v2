
> @heys/core@14.0.0 test C:\! HEYS 2\packages\core
> vitest run

▲ [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]

    package.json:9:6:
      9 │       "types": "./dist/index.d.ts"
        ╵       ~~~~~~~

  The "import" condition comes earlier and will be used for all "import" statements:

    package.json:7:6:
      7 │       "import": "./dist/index.js",
        ╵       ~~~~~~~~

  The "require" condition comes earlier and will be used for all "require" calls:

    package.json:8:6:
      8 │       "require": "./dist/index.cjs",
        ╵       ~~~~~~~~~

▲ [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]

    package.json:14:6:
      14 │       "types": "./dist/models/index.d.ts"
         ╵       ~~~~~~~

  The "import" condition comes earlier and will be used for all "import" statements:

    package.json:12:6:
      12 │       "import": "./dist/models/index.js",
         ╵       ~~~~~~~~

  The "require" condition comes earlier and will be used for all "require" calls:

    package.json:13:6:
      13 │       "require": "./dist/models/index.cjs",
         ╵       ~~~~~~~~~

▲ [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]

    package.json:19:6:
      19 │       "types": "./dist/services/index.d.ts"
         ╵       ~~~~~~~

  The "import" condition comes earlier and will be used for all "import" statements:

    package.json:17:6:
      17 │       "import": "./dist/services/index.js",
         ╵       ~~~~~~~~

  The "require" condition comes earlier and will be used for all "require" calls:

    package.json:18:6:
      18 │       "require": "./dist/services/index.cjs",
         ╵       ~~~~~~~~~


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/! HEYS 2/packages/core[39m

 [31m❯[39m src/tests/security-automation-basic.test.js [2m([22m[2m23 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 95[2mms[22m[39m
[31m   [31m×[31m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mФайлы скриптов безопасности[2m > [22mSAST Scanner должен существовать[39m[32m 38[2mms[22m[39m
[31m     → expected '#!/usr/bin/env node\r\n/**\r\n * SAST…' to contain 'class SastSecurityScanner'[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mФайлы скриптов безопасности[2m > [22mDependency Checker должен существовать[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mФайлы скриптов безопасности[2m > [22mSecurity Report Consolidator должен существовать[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mGitHub Actions Workflow[2m > [22mWorkflow файл должен существовать[32m 0[2mms[22m[39m
[31m   [31m×[31m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mGitHub Actions Workflow[2m > [22mWorkflow должен содержать security jobs[39m[32m 8[2mms[22m[39m
[31m     → expected '# GitHub Actions Workflow для автомат…' to contain 'name: Security Scan'[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСтруктура безопасности[2m > [22mДиректория scripts/security должна существовать[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСтруктура безопасности[2m > [22mВсе основные скрипты должны быть ES modules[32m 3[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСтруктура безопасности[2m > [22mСкрипты должны содержать правильные shebang для Node.js[32m 1[2mms[22m[39m
[31m   [31m×[31m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонфигурация безопасности[2m > [22mSAST Scanner должен иметь правила безопасности[39m[32m 14[2mms[22m[39m
[31m     → expected '#!/usr/bin/env node\r\n/**\r\n * SAST…' to contain 'sql-injection'[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонфигурация безопасности[2m > [22mDependency Checker должен проверять критические пакеты[32m 1[2mms[22m[39m
[31m   [31m×[31m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонфигурация безопасности[2m > [22mSecurity Report должен иметь систему оценки[39m[32m 8[2mms[22m[39m
[31m     → expected '#!/usr/bin/env node\r\n/**\r\n * Сист…' to contain 'severityLevels'[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСистема отчетности[2m > [22mСкрипты должны поддерживать JSON отчеты[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСистема отчетности[2m > [22mДолжна быть поддержка HTML отчетов[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mСистема отчетности[2m > [22mДолжна быть поддержка SARIF формата[32m 2[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mИнтеграция CI/CD[2m > [22mWorkflow должен использовать наши скрипты[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mИнтеграция CI/CD[2m > [22mWorkflow должен поддерживать различные триггеры[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mФункциональность детекции[2m > [22mSAST Scanner должен детектировать различные типы уязвимостей[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mФункциональность детекции[2m > [22mDependency Checker должен проверять уровни критичности[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонсолидация отчетов[2m > [22mReport Consolidator должен поддерживать множественные источники[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонсолидация отчетов[2m > [22mДолжна быть система дедупликации уязвимостей[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Автоматизация безопасности - Базовая проверка[2m > [22mКонсолидация отчетов[2m > [22mДолжны быть compliance проверки[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Файловая структура проекта[2m > [22mОсновные директории должны существовать[32m 1[2mms[22m[39m
   [32m✓[39m КТ4 - Файловая структура проекта[2m > [22mpackage.json должен содержать необходимые зависимости[32m 2[2mms[22m[39m
 [32m✓[39m src/__tests__/my-first.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32m✓[39m src/__tests__/food.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32m✓[39m src/__tests__/training.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 116[2mms[22m[39m
[90mstderr[2m | src/__tests__/legacy.test.ts[2m > [22m[2mAnalyticsService[2m > [22m[2mtrack[2m > [22m[2mshould handle provider errors gracefully
[22m[39mAnalytics provider error: Error: Provider error
    at [90mC:\! HEYS 2\packages\core\[39msrc\__tests__\legacy.test.ts:163:42
    at file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
 [32m✓[39m src/__tests__/user.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/!%20HEYS%202/node_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

 [32m✓[39m src/__tests__/legacy.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32m✓[39m src/__tests__/basic.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
