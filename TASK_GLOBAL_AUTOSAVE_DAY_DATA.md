# üöÄ –ó–∞–¥–∞—á–∞: –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∏ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è"

**–í–µ—Ç–∫–∞:** `feature/global-autosave-day-data`  
**–°—Ç–∞—Ç—É—Å:** üìã –ì–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ HIGH  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 10 –Ω–æ—è–±—Ä—è 2025 –≥.

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ HEYS-v2 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏:

1. **–í–∫–ª–∞–¥–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è"** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ **—Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è** (state) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. **–í–∫–ª–∞–¥–∫–∞ "–û—Ç—á–µ—Ç—ã"** —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ **`localStorage`** (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
3. **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –¥–Ω—è"** (—à–∞–≥–∏, –±—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤–µ—Å, —Å–æ–Ω –∏ —Ç.–¥.), –æ–Ω–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ UI, –Ω–æ **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ `localStorage`
4. **–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ "–û—Ç—á–µ—Ç—ã"** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **—Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ `localStorage`, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ 200+ –∫–∫–∞–ª

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:
```
–ë—ã–ª–æ:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è: "–û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã" = 2567 –∫–∫–∞–ª
- –û—Ç—á–µ—Ç—ã: "–û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã" = 2347.5 –∫–∫–∞–ª  (—Ä–∞–∑–Ω–∏—Ü–∞ -219.5 –∫–∫–∞–ª)

–ü—Ä–∏—á–∏–Ω–∞: –î–∞–Ω–Ω—ã–µ –æ –±—ã—Ç–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω—ã –≤ UI, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.
```

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–°–æ–∑–¥–∞—Ç—å **–µ–¥–∏–Ω—ã–π, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è, —á—Ç–æ–±—ã:

1. ‚úÖ **–õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ** –≤ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –¥–Ω—è" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å –≤ `localStorage`
2. ‚úÖ **–ë–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫** –¥–ª—è UX (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debounce 500–º—Å)
3. ‚úÖ **–ë–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** –∫–æ–¥–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
4. ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –¢–æ—á–µ—á–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
–°–µ–π—á–∞—Å [`lsSet()`](apps/web/heys_day_v12.js ) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —Ç–æ–ª—å–∫–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö:

```javascript
// apps/web/heys_day_v12.js, —Å—Ç—Ä–æ–∫–∞ 369
function updateTraining(i,zi,mins){
  // ...
  lsSet('heys_dayv2_'+newDay.date, newDay); // –ï–°–¢–¨ –°–û–•–†–ê–ù–ï–ù–ò–ï
}

// apps/web/heys_day_v12.js, —Å—Ç—Ä–æ–∫–∞ 400
function addMealProduct(mi, p) {
  // ...
  lsSet('heys_dayv2_'+newDay.date, newDay); // –ï–°–¢–¨ –°–û–•–†–ê–ù–ï–ù–ò–ï
}

// apps/web/heys_day_v12.js, –ù–ï–¢ –¥–ª—è —à–∞–≥–æ–≤, –≤–µ—Å–∞, —Å–Ω–∞ –∏ —Ç.–¥.!
function updateDayField(field, value) {
  const newDay = {...day, [field]: value};
  setDay(newDay);
  // lsSet(...) –ù–ï–¢! ‚ùå
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ—Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –ø–æ–ª—è
–≠—Ç–∏ –ø–æ–ª—è **–∏–∑–º–µ–Ω—è—é—Ç state**, –Ω–æ **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**:
- "–®–∞–≥–∏"
- "–ë—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)"
- "–í–µ—Å —É—Ç—Ä–æ–º"
- "–í—Ä–µ–º—è —Å–Ω–∞" / "–ö–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞"
- "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–Ω—è"

---

## üîß –ü–ª–∞–Ω —Ä–µ—à–µ–Ω–∏—è

### –®–∞–≥ 1: –í–Ω–µ–¥—Ä–∏—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π `useEffect` —Å debounce

–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `HEYS.DayTab`:

```javascript
// –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (debounce)
React.useEffect(() => {
  if (!day || !day.date) return; // –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

  const handler = setTimeout(() => {
    console.log(`[AUTOSAVE] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ${day.date}`);
    lsSet('heys_dayv2_' + day.date, day);
  }, 500); // –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ 500 –º—Å

  // –û—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–ª–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  return () => clearTimeout(handler);
}, [day]); // –°–ª–µ–¥–∏–º –∑–∞ –õ–Æ–ë–´–ú–ò –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –æ–±—ä–µ–∫—Ç–µ 'day'
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è **–ª—é–±—ã—Ö** –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `day`
- ‚úÖ –ù–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ (debounce 500–º—Å)
- ‚úÖ –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `lsSet()`, –∞ –Ω–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

### –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤—ã–∑–æ–≤—ã `lsSet()`

–ò–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ `apps/web/heys_day_v12.js` **—É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏** –≤–∏–¥–∞ `lsSet('heys_dayv2_'...`:

```javascript
// –§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- updateTraining()          // –°—Ç—Ä–æ–∫–∞ ~369
- updateDayField()          // –ï—Å–ª–∏ –µ—Å—Ç—å

// –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –µ–¥–æ–π
- addMealProduct()          // –°—Ç—Ä–æ–∫–∞ ~400
- removeMealProduct()
- updateMealProduct()
- updateMealTime()
- removeMeal()
- addMeal()

// –§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–Ω—è
- updateDay()               // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- setDayField()             // –ï—Å–ª–∏ –µ—Å—Ç—å

// –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å–Ω–æ–º/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- updateSleep()             // –ï—Å–ª–∏ –µ—Å—Ç—å
- updateComment()           // –ï—Å–ª–∏ –µ—Å—Ç—å
```

**–ü–æ—á–µ–º—É —É–¥–∞–ª—è–µ–º:** –ù–æ–≤—ã–π `useEffect` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∞—Å–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 3.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
1. –û—Ç–∫—Ä—ã—Ç—å DevTools (F12) ‚Üí Console
2. –ò–∑–º–µ–Ω–∏—Ç—å –ª—é–±–æ–µ –ø–æ–ª–µ –≤ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –¥–Ω—è"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–µ—Ä–µ–∑ 500–º—Å –ø–æ—è–≤–∏—Ç—Å—è `[AUTOSAVE] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è...`

#### 3.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è" ‚ÜîÔ∏è "–û—Ç—á–µ—Ç—ã"
1. –í "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –¥–Ω—è" –∏–∑–º–µ–Ω–∏—Ç—å:
   - –®–∞–≥–∏: —Å 0 –Ω–∞ 2000
   - –ë—ã—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: —Å 0 –Ω–∞ 120 –º–∏–Ω—É—Ç
   - –í–µ—Å: —Å 70 –Ω–∞ 90
2. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (—É–≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏)
3. –û—Ç–∫—Ä—ã—Ç—å "–û—Ç—á–µ—Ç—ã" ‚Üí –≤—ã–±—Ä–∞—Ç—å —Ç–æ—Ç –∂–µ –¥–µ–Ω—å
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** "–û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã" (TDEE) **—Å–æ–≤–ø–∞–¥–∞—é—Ç** ‚úÖ

#### 3.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ old-—à–∫–æ–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –∏–∑–º–µ–Ω–∏–≤ –º–∏–Ω—É—Ç—ã
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ "–û—Ç—á–µ—Ç—ã"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –æ—Ç—Ä–∞–∂–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ

---

## üìù –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

| –§–∞–π–ª | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç—Ä–æ–∫–∏ |
|------|----------|--------|
| `apps/web/heys_day_v12.js` | ‚ûï –î–æ–±–∞–≤–∏—Ç—å `useEffect` | –ü–æ—Å–ª–µ `const [day, setDay]` |
| `apps/web/heys_day_v12.js` | ‚ùå –£–¥–∞–ª–∏—Ç—å `lsSet()` | –ò–∑ —Ñ—É–Ω–∫—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- [ ] **1.1** –û—Ç–∫—Ä—ã—Ç—å `apps/web/heys_day_v12.js`
- [ ] **1.2** –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `HEYS.DayTab` –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `[day, setDay]`
- [ ] **1.3** –î–æ–±–∞–≤–∏—Ç—å `React.useEffect()` —Å debounce (—Å–º. –≤—ã—à–µ)
- [ ] **1.4** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `lsSet` –∏ `lsGet` –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

### –®–∞–≥ 2: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
- [ ] **2.1** –í —Ñ—É–Ω–∫—Ü–∏–∏ `updateTraining()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.2** –í —Ñ—É–Ω–∫—Ü–∏–∏ `addMealProduct()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.3** –í —Ñ—É–Ω–∫—Ü–∏–∏ `removeMealProduct()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.4** –í —Ñ—É–Ω–∫—Ü–∏–∏ `updateMealProduct()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.5** –í —Ñ—É–Ω–∫—Ü–∏–∏ `updateMealTime()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.6** –í —Ñ—É–Ω–∫—Ü–∏–∏ `removeMeal()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`
- [ ] **2.7** –í —Ñ—É–Ω–∫—Ü–∏–∏ `addMeal()` –Ω–∞–π—Ç–∏ –∏ **—É–¥–∞–ª–∏—Ç—å** `lsSet('heys_dayv2_'...)`

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **3.1** –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `pnpm dev`
- [ ] **3.2** –û—Ç–∫—Ä—ã—Ç—å DevTools Console (F12)
- [ ] **3.3** –ò–∑–º–µ–Ω–∏—Ç—å "–®–∞–≥–∏" —Å 0 –Ω–∞ 2000
- [ ] **3.4** –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è `[AUTOSAVE]` –≤ –∫–æ–Ω—Å–æ–ª–∏ (500–º—Å)
- [ ] **3.5** –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ "–û—Ç—á–µ—Ç—ã" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é TDEE
- [ ] **3.6** –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- [ ] **3.7** –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Å, —Å–æ–Ω, –±—ã—Ç–æ–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –®–∞–≥ 4: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] **4.1** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç console.error –∏–ª–∏ console.warn
- [ ] **4.2** –í—ã–ø–æ–ª–Ω–∏—Ç—å `pnpm run lint` (–µ—Å–ª–∏ –µ—Å—Ç—å –ª–∏–Ω—Ç–µ—Ä)
- [ ] **4.3** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç: `git commit -m "feat: implement global autosave for day data"`
- [ ] **4.4** Push –≤ –≤–µ—Ç–∫—É: `git push origin feature/global-autosave-day-data`
- [ ] **4.5** –°–æ–∑–¥–∞—Ç—å Pull Request

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: `lsSet` –∏–ª–∏ `lsGet` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ `HEYS.context`:
```javascript
const {U,C,M,parseISO,fmtDate,todayISO,lsGet,lsSet,...} = HEYS.context;
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: useEffect –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `[day]` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ –∏ `day` ‚Äî —ç—Ç–æ —Å—Ç–µ–π—Ç React, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç.

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `lsSet()` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–ª—é—á–æ–º: `'heys_dayv2_' + day.date`

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **React `useEffect` –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://react.dev/reference/react/useEffect
- **Debounce –ø–∞—Ç—Ç–µ—Ä–Ω:** https://en.wikipedia.org/wiki/Debouncing
- **localStorage API:** https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage

---

## üéâ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:

‚úÖ **–í—Å–µ –¥–∞–Ω–Ω—ã–µ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–Ω—è" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `localStorage`**  
‚úÖ **–í–∫–ª–∞–¥–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**  
‚úÖ **–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ 200+ –∫–∫–∞–ª –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ**  
‚úÖ **–ö–æ–¥ —á–∏—â–µ, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π**  
‚úÖ **UX —É–ª—É—á—à–µ–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è debounce (–Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫)**

---

**–°–æ–∑–¥–∞–Ω–æ:** 10 –Ω–æ—è–±—Ä—è 2025 –≥.  
**–°—Ç–∞—Ç—É—Å:** üìã –ì–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** [–£–∫–∞–∂–∏ —Å–µ–±—è –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞]
