# ‚úÖ EAS Build Setup - –§–∏–Ω–∞–ª—å–Ω—ã–π –ß–µ–∫–ª–∏—Å—Ç

## –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –ì–û–¢–û–í–û ‚úÖ

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ APK –≤ –º–æ–Ω–æ—Ä–µ–ø–µ.

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

- [x] Expo –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –≤ `apps/mobile/`
- [x] –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≥–æ—Ç–æ–≤ (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [ ] –ï—Å—Ç—å Expo –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://expo.dev
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω EAS CLI: `npm install -g eas-cli`

---

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1. ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–æ–±–∏–ª–∫—É –æ—Ç –º–æ–Ω–æ—Ä–µ–ø—ã

- [x] –°–æ–∑–¥–∞–Ω `apps/mobile/.easignore` —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏:
  - `../../packages/*` (–º–æ–Ω–æ—Ä–µ–ø–∞ –ø–∞–∫–µ—Ç—ã)
  - `../../apps/web` (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
  - `../../node_modules` (–∫–æ—Ä–Ω–µ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
  - –ö–æ–Ω—Ñ–∏–≥–∏, –±–∞—Ç–Ω–∏–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω `apps/mobile/package.json`:
  - ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–µ (–±–µ–∑ `workspace:*`)
  - ‚úÖ –í–µ—Ä—Å–∏–∏ —É–∫–∞–∑–∞–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ

### 2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å EAS Build

- [x] –û–±–Ω–æ–≤–ª–µ–Ω `apps/mobile/eas.json`:
  - –ü—Ä–æ—Ñ–∏–ª—å `development` - debug APK
  - –ü—Ä–æ—Ñ–∏–ª—å `preview` - release APK –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü—Ä–æ—Ñ–∏–ª—å `production` - AAB –¥–ª—è Google Play
  - –î–æ–±–∞–≤–ª–µ–Ω—ã `gradleCommand` –¥–ª—è —è–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ —Å–±–æ—Ä–∫–∏
  - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã environment variables

- [x] –û–±–Ω–æ–≤–ª–µ–Ω `apps/mobile/app.json`:
  - ‚úÖ `android.package`: `com.heys.mobile.dev`
  - ‚úÖ `android.versionCode`: 1
  - ‚úÖ Permissions: INTERNET, ACCESS_NETWORK_STATE

### 3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- [x] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `@heys/*` –ø–∞–∫–µ—Ç—ã
- [x] –°–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è shared-–ø–∞–∫–µ—Ç–æ–≤ –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è

### 4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] –°–æ–∑–¥–∞–Ω `apps/mobile/BUILD_README.md` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [x] –°–æ–∑–¥–∞–Ω `MOBILE_BUILD_SETUP.md` –≤ –∫–æ—Ä–Ω–µ —Å –∫—Ä–∞—Ç–∫–∏–º –≥–∞–π–¥–æ–º

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é)

### –®–∞–≥ 1: –í–æ–π—Ç–∏ –≤ Expo

```bash
cd apps/mobile
eas login
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Expo –∞–∫–∫–∞—É–Ω—Ç–µ.

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É

```bash
eas build --profile preview --platform android
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `--profile preview` - release APK –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `--platform android` - —Ç–æ–ª—å–∫–æ Android
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `--local` - –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

**–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** 10-15 –º–∏–Ω—É—Ç (–æ–±–ª–∞—á–Ω–∞—è), 5-10 –º–∏–Ω—É—Ç (–ª–æ–∫–∞–ª—å–Ω–∞—è)

---

### –®–∞–≥ 3: –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

EAS Build –≤—ã–≤–µ–¥–µ—Ç:

```
‚úî Build finished
https://expo.dev/accounts/poplanton/projects/mobile/builds/abc123def456
```

---

### –®–∞–≥ 4: –°–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK

1. –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –°–∫–∞—á–∞—Ç—å APK —Ñ–∞–π–ª
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (—Ä–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö
   –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "workspace:\* not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –í `package.json` –æ—Å—Ç–∞–ª–∏—Å—å —Å—Å—ã–ª–∫–∏ –Ω–∞ workspace-–ø–∞–∫–µ—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
cd apps/mobile
cat package.json | grep workspace
# –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot resolve module @heys/core"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—ã—Ç–∞–µ—Ç—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–æ—Ä–µ–ø–∞-–ø–∞–∫–µ—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:

```bash
cd apps/mobile
grep -r "@heys" app/
# –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π Gradle

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ –≤–µ—Ä—Å–∏–π Android SDK.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É:

```bash
eas build --profile preview --platform android --local
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ >500MB

**–ü—Ä–∏—á–∏–Ω–∞:** `.easignore` –Ω–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è:

```bash
cd apps/mobile
cat .easignore
```

---

## üì± –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏

### Development APK (debug, —Å hot reload)

```bash
eas build --profile development --platform android
```

### Production AAB (–¥–ª—è Google Play Store)

```bash
eas build --profile production --platform android
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ)

```bash
eas build --profile preview --platform android --local
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏:**

- Android SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- Gradle —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- Java 17 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (`ANDROID_HOME`, `JAVA_HOME`)

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –°—Ç–∞—Ç—É—Å          | –§–∞–π–ª              |
| ------------------ | --------------- | ----------------- |
| –ò–∑–æ–ª—è—Ü–∏—è –º–æ–Ω–æ—Ä–µ–ø—ã  | ‚úÖ              | `.easignore`      |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏        | ‚úÖ              | `package.json`    |
| EAS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è   | ‚úÖ              | `eas.json`        |
| Android –º–∞–Ω–∏—Ñ–µ—Å—Ç   | ‚úÖ              | `app.json`        |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è       | ‚úÖ              | `BUILD_README.md` |
| –°–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è | ‚õî –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | -                 |

---

## üìö –°—Å—ã–ª–∫–∏

- [–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ](apps/mobile/BUILD_README.md)
- [–ö—Ä–∞—Ç–∫–∏–π –≥–∞–π–¥](MOBILE_BUILD_SETUP.md)
- [EAS Build –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.expo.dev/build/introduction/)
- [Monorepo setup](https://docs.expo.dev/build-reference/working-with-monorepos/)

---

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** –°–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º –≤—ã—à–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–±–æ—Ä–∫–∏. üéâ
