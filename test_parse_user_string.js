// –¢–µ—Å—Ç –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è —Å—Ç—Ä–æ–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const testString = `–ù–∞–∑–≤–∞–Ω–∏–µ: –°–∞–ª–∞—Ç —Å –∫–æ–ø—á—ë–Ω–æ–π –∫—É—Ä–∏—Ü–µ–π, –∫–æ—Ä–µ–π—Å–∫–æ–π –º–æ—Ä–∫–æ–≤—å—é –∏ –∫—É–∫—É—Ä—É–∑–æ–π (–π–æ–≥—É—Ä—Ç+–≥–æ—Ä—á–∏—Ü–∞)
–ö–∫–∞–ª: 108.4
–£–≥–ª–µ–≤–æ–¥—ã: 8.5
–ü—Ä–æ—Å—Ç—ã–µ: 3.8
–°–ª–æ–∂–Ω—ã–µ: 3.3
–ë–µ–ª–æ–∫: 8.7
–ñ–∏—Ä—ã: 3.9
–í—Ä–µ–¥–Ω—ã–µ –∂–∏—Ä—ã: 0.8
–ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã: 3.2
–¢—Ä–∞–Ω—Å-–∂–∏—Ä—ã: 0
–ö–ª–µ—Ç—á–∞—Ç–∫–∞: 1.5
–ì–ò: 45
–í—Ä–µ–¥: 2.2
–ù–∞—Ç—Ä–∏–π: 950
–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω: 20
–û–º–µ–≥–∞-3: 0.1
–û–º–µ–≥–∞-6: 1.1
NOVA: 3
–î–æ–±–∞–≤–∫–∏: –Ω–µ—Ç
–ù—É—Ç—Ä–∏–µ–Ω—Ç–Ω–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å: 35
–û—Ä–≥–∞–Ω–∏–∫: 0
–¶–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π: 0
–§–µ—Ä–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: 1
–°—ã—Ä–æ–π: 0
–í–∏—Ç–∞–º–∏–Ω A: 450
–í–∏—Ç–∞–º–∏–Ω C: 8
–í–∏—Ç–∞–º–∏–Ω D: 0.2
–í–∏—Ç–∞–º–∏–Ω E: 1.5
–í–∏—Ç–∞–º–∏–Ω K: 12
–í–∏—Ç–∞–º–∏–Ω B1: 0.15
–í–∏—Ç–∞–º–∏–Ω B2: 0.18
–í–∏—Ç–∞–º–∏–Ω B3: 3.5
–í–∏—Ç–∞–º–∏–Ω B6: 0.25
–í–∏—Ç–∞–º–∏–Ω B9: 35
–í–∏—Ç–∞–º–∏–Ω B12: 0.3
–ö–∞–ª—å—Ü–∏–π: 45
–ñ–µ–ª–µ–∑–æ: 1.2
–ú–∞–≥–Ω–∏–π: 25
–§–æ—Å—Ñ–æ—Ä: 120
–ö–∞–ª–∏–π: 280
–¶–∏–Ω–∫: 1.1
–°–µ–ª–µ–Ω: 12
–ô–æ–¥: 5`;

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–æ–ª–µ–π
console.log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–æ–ª–µ–π:');

const fieldsToCheck = [
    '–ì–ò: 45',
    '–û–º–µ–≥–∞-3: 0.1',
    '–ñ–µ–ª–µ–∑–æ: 1.2',
    '–í–∏—Ç–∞–º–∏–Ω K: 12'
];

fieldsToCheck.forEach(line => {
    const match = line.match(/^(.+?)[\s]*[:=][\s]+(.+)$/);
    if (match) {
        const rawKey = match[1];
        const rawValue = match[2];

        // normalize
        const normalizedKey = rawKey.toLowerCase()
            .replace(/—ë/g, '–µ')
            .replace(/[^a-z0-9–∞-—è]/gi, '');

        // parse number
        const cleaned = String(rawValue)
            .replace(/,/g, '.')
            .replace(/[^0-9+\-.]/g, ' ');
        const numMatch = cleaned.match(/[-+]?\d+(?:\.\d+)?/);
        const numVal = numMatch ? Number(numMatch[0]) : undefined;

        console.log(`üìù "${rawKey}" ‚Üí "${normalizedKey}" = ${numVal}`);
    }
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
console.log('\n\nüìä –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ–π —Å—Ç—Ä–æ–∫–∏:');
const lines = testString.split('\n');
const result = {};

lines.forEach(line => {
    const match = line.match(/^(.+?)[\s]*[:=][\s]+(.+)$/);
    if (!match) return;

    const rawKey = match[1].trim();
    const rawValue = match[2].trim();
    const normalizedKey = rawKey.toLowerCase()
        .replace(/—ë/g, '–µ')
        .replace(/[^a-z0-9–∞-—è]/gi, '');

    const cleaned = String(rawValue)
        .replace(/,/g, '.')
        .replace(/[^0-9+\-.]/g, ' ');
    const numMatch = cleaned.match(/[-+]?\d+(?:\.\d+)?/);
    const numVal = numMatch ? Number(numMatch[0]) : undefined;

    if (numVal !== undefined) {
        result[rawKey] = { normalized: normalizedKey, value: numVal };
    }
});

console.log('\n–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞:');
console.table(result);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
console.log('\n‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–æ–ª—è:');
console.log('–ì–ò:', result['–ì–ò']);
console.log('–û–º–µ–≥–∞-3:', result['–û–º–µ–≥–∞-3']);
console.log('–ñ–µ–ª–µ–∑–æ:', result['–ñ–µ–ª–µ–∑–æ']);
console.log('–í–∏—Ç–∞–º–∏–Ω K:', result['–í–∏—Ç–∞–º–∏–Ω K']);
